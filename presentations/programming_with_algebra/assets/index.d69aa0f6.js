const KZ=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const _ of p)if(_.type==="childList")for(const v of _.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&d(v)}).observe(document,{childList:!0,subtree:!0});function u(p){const _={};return p.integrity&&(_.integrity=p.integrity),p.referrerpolicy&&(_.referrerPolicy=p.referrerpolicy),p.crossorigin==="use-credentials"?_.credentials="include":p.crossorigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function d(p){if(p.ep)return;p.ep=!0;const _=u(p);fetch(p.href,_)}};KZ();function Lp(r,a){const u=Object.create(null),d=r.split(",");for(let p=0;p<d.length;p++)u[d[p]]=!0;return a?p=>!!u[p.toLowerCase()]:p=>!!u[p]}function Oi(r){if(Tn(r)){const a={};for(let u=0;u<r.length;u++){const d=r[u],p=Ir(d)?tQ(d):Oi(d);if(p)for(const _ in p)a[_]=p[_]}return a}else{if(Ir(r))return r;if(Er(r))return r}}const ZZ=/;(?![^(]*\))/g,QZ=/:([^]+)/,JZ=/\/\*.*?\*\//gs;function tQ(r){const a={};return r.replace(JZ,"").split(ZZ).forEach(u=>{if(u){const d=u.split(QZ);d.length>1&&(a[d[0].trim()]=d[1].trim())}}),a}function Dr(r){let a="";if(Ir(r))a=r;else if(Tn(r))for(let u=0;u<r.length;u++){const d=Dr(r[u]);d&&(a+=d+" ")}else if(Er(r))for(const u in r)r[u]&&(a+=u+" ");return a.trim()}function en(r){if(!r)return null;let{class:a,style:u}=r;return a&&!Ir(a)&&(r.class=Dr(a)),u&&(r.style=Oi(u)),r}const eQ="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",nQ=Lp(eQ),rQ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",iQ=Lp(rQ);function gE(r){return!!r||r===""}const pc=r=>Ir(r)?r:r==null?"":Tn(r)||Er(r)&&(r.toString===bE||!Dn(r.toString))?JSON.stringify(r,mE,2):String(r),mE=(r,a)=>a&&a.__v_isRef?mE(r,a.value):Ou(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((u,[d,p])=>(u[`${d} =>`]=p,u),{})}:yE(a)?{[`Set(${a.size})`]:[...a.values()]}:Er(a)&&!Tn(a)&&!vE(a)?String(a):a,br={},Lu=[],ia=()=>{},sQ=()=>!1,aQ=/^on[^a-z]/,Op=r=>aQ.test(r),j_=r=>r.startsWith("onUpdate:"),Ui=Object.assign,q_=(r,a)=>{const u=r.indexOf(a);u>-1&&r.splice(u,1)},oQ=Object.prototype.hasOwnProperty,Gn=(r,a)=>oQ.call(r,a),Tn=Array.isArray,Ou=r=>Mp(r)==="[object Map]",yE=r=>Mp(r)==="[object Set]",Dn=r=>typeof r=="function",Ir=r=>typeof r=="string",G_=r=>typeof r=="symbol",Er=r=>r!==null&&typeof r=="object",_E=r=>Er(r)&&Dn(r.then)&&Dn(r.catch),bE=Object.prototype.toString,Mp=r=>bE.call(r),lQ=r=>Mp(r).slice(8,-1),vE=r=>Mp(r)==="[object Object]",X_=r=>Ir(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,np=Lp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Np=r=>{const a=Object.create(null);return u=>a[u]||(a[u]=r(u))},cQ=/-(\w)/g,Da=Np(r=>r.replace(cQ,(a,u)=>u?u.toUpperCase():"")),uQ=/\B([A-Z])/g,yc=Np(r=>r.replace(uQ,"-$1").toLowerCase()),Dp=Np(r=>r.charAt(0).toUpperCase()+r.slice(1)),Ly=Np(r=>r?`on${Dp(r)}`:""),Pd=(r,a)=>!Object.is(r,a),Mu=(r,a)=>{for(let u=0;u<r.length;u++)r[u](a)},dp=(r,a,u)=>{Object.defineProperty(r,a,{configurable:!0,enumerable:!1,value:u})},fp=r=>{const a=parseFloat(r);return isNaN(a)?r:a};let a8;const hQ=()=>a8||(a8=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let cs;class xE{constructor(a=!1){this.detached=a,this.active=!0,this.effects=[],this.cleanups=[],this.parent=cs,!a&&cs&&(this.index=(cs.scopes||(cs.scopes=[])).push(this)-1)}run(a){if(this.active){const u=cs;try{return cs=this,a()}finally{cs=u}}}on(){cs=this}off(){cs=this.parent}stop(a){if(this.active){let u,d;for(u=0,d=this.effects.length;u<d;u++)this.effects[u].stop();for(u=0,d=this.cleanups.length;u<d;u++)this.cleanups[u]();if(this.scopes)for(u=0,d=this.scopes.length;u<d;u++)this.scopes[u].stop(!0);if(!this.detached&&this.parent&&!a){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.parent=void 0,this.active=!1}}}function dQ(r){return new xE(r)}function fQ(r,a=cs){a&&a.active&&a.effects.push(r)}function kE(){return cs}function wE(r){cs&&cs.cleanups.push(r)}const K_=r=>{const a=new Set(r);return a.w=0,a.n=0,a},TE=r=>(r.w&sl)>0,EE=r=>(r.n&sl)>0,pQ=({deps:r})=>{if(r.length)for(let a=0;a<r.length;a++)r[a].w|=sl},gQ=r=>{const{deps:a}=r;if(a.length){let u=0;for(let d=0;d<a.length;d++){const p=a[d];TE(p)&&!EE(p)?p.delete(r):a[u++]=p,p.w&=~sl,p.n&=~sl}a.length=u}},r_=new WeakMap;let Td=0,sl=1;const i_=30;let na;const uc=Symbol(""),s_=Symbol("");class Z_{constructor(a,u=null,d){this.fn=a,this.scheduler=u,this.active=!0,this.deps=[],this.parent=void 0,fQ(this,d)}run(){if(!this.active)return this.fn();let a=na,u=tl;for(;a;){if(a===this)return;a=a.parent}try{return this.parent=na,na=this,tl=!0,sl=1<<++Td,Td<=i_?pQ(this):o8(this),this.fn()}finally{Td<=i_&&gQ(this),sl=1<<--Td,na=this.parent,tl=u,this.parent=void 0,this.deferStop&&this.stop()}}stop(){na===this?this.deferStop=!0:this.active&&(o8(this),this.onStop&&this.onStop(),this.active=!1)}}function o8(r){const{deps:a}=r;if(a.length){for(let u=0;u<a.length;u++)a[u].delete(r);a.length=0}}let tl=!0;const CE=[];function Uu(){CE.push(tl),tl=!1}function zu(){const r=CE.pop();tl=r===void 0?!0:r}function ps(r,a,u){if(tl&&na){let d=r_.get(r);d||r_.set(r,d=new Map);let p=d.get(u);p||d.set(u,p=K_()),SE(p)}}function SE(r,a){let u=!1;Td<=i_?EE(r)||(r.n|=sl,u=!TE(r)):u=!r.has(na),u&&(r.add(na),na.deps.push(r))}function wo(r,a,u,d,p,_){const v=r_.get(r);if(!v)return;let C=[];if(a==="clear")C=[...v.values()];else if(u==="length"&&Tn(r)){const S=fp(d);v.forEach((D,E)=>{(E==="length"||E>=S)&&C.push(D)})}else switch(u!==void 0&&C.push(v.get(u)),a){case"add":Tn(r)?X_(u)&&C.push(v.get("length")):(C.push(v.get(uc)),Ou(r)&&C.push(v.get(s_)));break;case"delete":Tn(r)||(C.push(v.get(uc)),Ou(r)&&C.push(v.get(s_)));break;case"set":Ou(r)&&C.push(v.get(uc));break}if(C.length===1)C[0]&&a_(C[0]);else{const S=[];for(const D of C)D&&S.push(...D);a_(K_(S))}}function a_(r,a){const u=Tn(r)?r:[...r];for(const d of u)d.computed&&l8(d);for(const d of u)d.computed||l8(d)}function l8(r,a){(r!==na||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const mQ=Lp("__proto__,__v_isRef,__isVue"),AE=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(G_)),yQ=Q_(),_Q=Q_(!1,!0),bQ=Q_(!0),c8=vQ();function vQ(){const r={};return["includes","indexOf","lastIndexOf"].forEach(a=>{r[a]=function(...u){const d=tr(this);for(let _=0,v=this.length;_<v;_++)ps(d,"get",_+"");const p=d[a](...u);return p===-1||p===!1?d[a](...u.map(tr)):p}}),["push","pop","shift","unshift","splice"].forEach(a=>{r[a]=function(...u){Uu();const d=tr(this)[a].apply(this,u);return zu(),d}}),r}function Q_(r=!1,a=!1){return function(d,p,_){if(p==="__v_isReactive")return!r;if(p==="__v_isReadonly")return r;if(p==="__v_isShallow")return a;if(p==="__v_raw"&&_===(r?a?BQ:DE:a?NE:ME).get(d))return d;const v=Tn(d);if(!r&&v&&Gn(c8,p))return Reflect.get(c8,p,_);const C=Reflect.get(d,p,_);return(G_(p)?AE.has(p):mQ(p))||(r||ps(d,"get",p),a)?C:or(C)?v&&X_(p)?C:C.value:Er(C)?r?Su(C):vr(C):C}}const xQ=LE(),kQ=LE(!0);function LE(r=!1){return function(u,d,p,_){let v=u[d];if(Fu(v)&&or(v)&&!or(p))return!1;if(!r&&(!pp(p)&&!Fu(p)&&(v=tr(v),p=tr(p)),!Tn(u)&&or(v)&&!or(p)))return v.value=p,!0;const C=Tn(u)&&X_(d)?Number(d)<u.length:Gn(u,d),S=Reflect.set(u,d,p,_);return u===tr(_)&&(C?Pd(p,v)&&wo(u,"set",d,p):wo(u,"add",d,p)),S}}function wQ(r,a){const u=Gn(r,a);r[a];const d=Reflect.deleteProperty(r,a);return d&&u&&wo(r,"delete",a,void 0),d}function TQ(r,a){const u=Reflect.has(r,a);return(!G_(a)||!AE.has(a))&&ps(r,"has",a),u}function EQ(r){return ps(r,"iterate",Tn(r)?"length":uc),Reflect.ownKeys(r)}const OE={get:yQ,set:xQ,deleteProperty:wQ,has:TQ,ownKeys:EQ},CQ={get:bQ,set(r,a){return!0},deleteProperty(r,a){return!0}},SQ=Ui({},OE,{get:_Q,set:kQ}),J_=r=>r,Ip=r=>Reflect.getPrototypeOf(r);function H0(r,a,u=!1,d=!1){r=r.__v_raw;const p=tr(r),_=tr(a);u||(a!==_&&ps(p,"get",a),ps(p,"get",_));const{has:v}=Ip(p),C=d?J_:u?nb:Vd;if(v.call(p,a))return C(r.get(a));if(v.call(p,_))return C(r.get(_));r!==p&&r.get(a)}function W0(r,a=!1){const u=this.__v_raw,d=tr(u),p=tr(r);return a||(r!==p&&ps(d,"has",r),ps(d,"has",p)),r===p?u.has(r):u.has(r)||u.has(p)}function j0(r,a=!1){return r=r.__v_raw,!a&&ps(tr(r),"iterate",uc),Reflect.get(r,"size",r)}function u8(r){r=tr(r);const a=tr(this);return Ip(a).has.call(a,r)||(a.add(r),wo(a,"add",r,r)),this}function h8(r,a){a=tr(a);const u=tr(this),{has:d,get:p}=Ip(u);let _=d.call(u,r);_||(r=tr(r),_=d.call(u,r));const v=p.call(u,r);return u.set(r,a),_?Pd(a,v)&&wo(u,"set",r,a):wo(u,"add",r,a),this}function d8(r){const a=tr(this),{has:u,get:d}=Ip(a);let p=u.call(a,r);p||(r=tr(r),p=u.call(a,r)),d&&d.call(a,r);const _=a.delete(r);return p&&wo(a,"delete",r,void 0),_}function f8(){const r=tr(this),a=r.size!==0,u=r.clear();return a&&wo(r,"clear",void 0,void 0),u}function q0(r,a){return function(d,p){const _=this,v=_.__v_raw,C=tr(v),S=a?J_:r?nb:Vd;return!r&&ps(C,"iterate",uc),v.forEach((D,E)=>d.call(p,S(D),S(E),_))}}function G0(r,a,u){return function(...d){const p=this.__v_raw,_=tr(p),v=Ou(_),C=r==="entries"||r===Symbol.iterator&&v,S=r==="keys"&&v,D=p[r](...d),E=u?J_:a?nb:Vd;return!a&&ps(_,"iterate",S?s_:uc),{next(){const{value:H,done:W}=D.next();return W?{value:H,done:W}:{value:C?[E(H[0]),E(H[1])]:E(H),done:W}},[Symbol.iterator](){return this}}}}function Xo(r){return function(...a){return r==="delete"?!1:this}}function AQ(){const r={get(_){return H0(this,_)},get size(){return j0(this)},has:W0,add:u8,set:h8,delete:d8,clear:f8,forEach:q0(!1,!1)},a={get(_){return H0(this,_,!1,!0)},get size(){return j0(this)},has:W0,add:u8,set:h8,delete:d8,clear:f8,forEach:q0(!1,!0)},u={get(_){return H0(this,_,!0)},get size(){return j0(this,!0)},has(_){return W0.call(this,_,!0)},add:Xo("add"),set:Xo("set"),delete:Xo("delete"),clear:Xo("clear"),forEach:q0(!0,!1)},d={get(_){return H0(this,_,!0,!0)},get size(){return j0(this,!0)},has(_){return W0.call(this,_,!0)},add:Xo("add"),set:Xo("set"),delete:Xo("delete"),clear:Xo("clear"),forEach:q0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(_=>{r[_]=G0(_,!1,!1),u[_]=G0(_,!0,!1),a[_]=G0(_,!1,!0),d[_]=G0(_,!0,!0)}),[r,u,a,d]}const[LQ,OQ,MQ,NQ]=AQ();function tb(r,a){const u=a?r?NQ:MQ:r?OQ:LQ;return(d,p,_)=>p==="__v_isReactive"?!r:p==="__v_isReadonly"?r:p==="__v_raw"?d:Reflect.get(Gn(u,p)&&p in d?u:d,p,_)}const DQ={get:tb(!1,!1)},IQ={get:tb(!1,!0)},RQ={get:tb(!0,!1)},ME=new WeakMap,NE=new WeakMap,DE=new WeakMap,BQ=new WeakMap;function FQ(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PQ(r){return r.__v_skip||!Object.isExtensible(r)?0:FQ(lQ(r))}function vr(r){return Fu(r)?r:eb(r,!1,OE,DQ,ME)}function VQ(r){return eb(r,!1,SQ,IQ,NE)}function Su(r){return eb(r,!0,CQ,RQ,DE)}function eb(r,a,u,d,p){if(!Er(r)||r.__v_raw&&!(a&&r.__v_isReactive))return r;const _=p.get(r);if(_)return _;const v=PQ(r);if(v===0)return r;const C=new Proxy(r,v===2?d:u);return p.set(r,C),C}function Nu(r){return Fu(r)?Nu(r.__v_raw):!!(r&&r.__v_isReactive)}function Fu(r){return!!(r&&r.__v_isReadonly)}function pp(r){return!!(r&&r.__v_isShallow)}function IE(r){return Nu(r)||Fu(r)}function tr(r){const a=r&&r.__v_raw;return a?tr(a):r}function Rp(r){return dp(r,"__v_skip",!0),r}const Vd=r=>Er(r)?vr(r):r,nb=r=>Er(r)?Su(r):r;function rb(r){tl&&na&&(r=tr(r),SE(r.dep||(r.dep=K_())))}function ib(r,a){r=tr(r),r.dep&&a_(r.dep)}function or(r){return!!(r&&r.__v_isRef===!0)}function Se(r){return RE(r,!1)}function oa(r){return RE(r,!0)}function RE(r,a){return or(r)?r:new $Q(r,a)}class $Q{constructor(a,u){this.__v_isShallow=u,this.dep=void 0,this.__v_isRef=!0,this._rawValue=u?a:tr(a),this._value=u?a:Vd(a)}get value(){return rb(this),this._value}set value(a){const u=this.__v_isShallow||pp(a)||Fu(a);a=u?a:tr(a),Pd(a,this._rawValue)&&(this._rawValue=a,this._value=u?a:Vd(a),ib(this))}}function St(r){return or(r)?r.value:r}const YQ={get:(r,a,u)=>St(Reflect.get(r,a,u)),set:(r,a,u,d)=>{const p=r[a];return or(p)&&!or(u)?(p.value=u,!0):Reflect.set(r,a,u,d)}};function BE(r){return Nu(r)?r:new Proxy(r,YQ)}class UQ{constructor(a){this.dep=void 0,this.__v_isRef=!0;const{get:u,set:d}=a(()=>rb(this),()=>ib(this));this._get=u,this._set=d}get value(){return this._get()}set value(a){this._set(a)}}function zQ(r){return new UQ(r)}function HQ(r){const a=Tn(r)?new Array(r.length):{};for(const u in r)a[u]=jQ(r,u);return a}class WQ{constructor(a,u,d){this._object=a,this._key=u,this._defaultValue=d,this.__v_isRef=!0}get value(){const a=this._object[this._key];return a===void 0?this._defaultValue:a}set value(a){this._object[this._key]=a}}function jQ(r,a,u){const d=r[a];return or(d)?d:new WQ(r,a,u)}var FE;class qQ{constructor(a,u,d,p){this._setter=u,this.dep=void 0,this.__v_isRef=!0,this[FE]=!1,this._dirty=!0,this.effect=new Z_(a,()=>{this._dirty||(this._dirty=!0,ib(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!p,this.__v_isReadonly=d}get value(){const a=tr(this);return rb(a),(a._dirty||!a._cacheable)&&(a._dirty=!1,a._value=a.effect.run()),a._value}set value(a){this._setter(a)}}FE="__v_isReadonly";function GQ(r,a,u=!1){let d,p;const _=Dn(r);return _?(d=r,p=ia):(d=r.get,p=r.set),new qQ(d,p,_||!p,u)}function el(r,a,u,d){let p;try{p=d?r(...d):r()}catch(_){Bp(_,a,u)}return p}function sa(r,a,u,d){if(Dn(r)){const _=el(r,a,u,d);return _&&_E(_)&&_.catch(v=>{Bp(v,a,u)}),_}const p=[];for(let _=0;_<r.length;_++)p.push(sa(r[_],a,u,d));return p}function Bp(r,a,u,d=!0){const p=a?a.vnode:null;if(a){let _=a.parent;const v=a.proxy,C=u;for(;_;){const D=_.ec;if(D){for(let E=0;E<D.length;E++)if(D[E](r,v,C)===!1)return}_=_.parent}const S=a.appContext.config.errorHandler;if(S){el(S,null,10,[r,v,C]);return}}XQ(r,u,p,d)}function XQ(r,a,u,d=!0){console.error(r)}let $d=!1,o_=!1;const Si=[];let La=0;const Du=[];let bo=null,ec=0;const PE=Promise.resolve();let sb=null;function yi(r){const a=sb||PE;return r?a.then(this?r.bind(this):r):a}function KQ(r){let a=La+1,u=Si.length;for(;a<u;){const d=a+u>>>1;Yd(Si[d])<r?a=d+1:u=d}return a}function ab(r){(!Si.length||!Si.includes(r,$d&&r.allowRecurse?La+1:La))&&(r.id==null?Si.push(r):Si.splice(KQ(r.id),0,r),VE())}function VE(){!$d&&!o_&&(o_=!0,sb=PE.then(YE))}function ZQ(r){const a=Si.indexOf(r);a>La&&Si.splice(a,1)}function QQ(r){Tn(r)?Du.push(...r):(!bo||!bo.includes(r,r.allowRecurse?ec+1:ec))&&Du.push(r),VE()}function p8(r,a=$d?La+1:0){for(;a<Si.length;a++){const u=Si[a];u&&u.pre&&(Si.splice(a,1),a--,u())}}function $E(r){if(Du.length){const a=[...new Set(Du)];if(Du.length=0,bo){bo.push(...a);return}for(bo=a,bo.sort((u,d)=>Yd(u)-Yd(d)),ec=0;ec<bo.length;ec++)bo[ec]();bo=null,ec=0}}const Yd=r=>r.id==null?1/0:r.id,JQ=(r,a)=>{const u=Yd(r)-Yd(a);if(u===0){if(r.pre&&!a.pre)return-1;if(a.pre&&!r.pre)return 1}return u};function YE(r){o_=!1,$d=!0,Si.sort(JQ);const a=ia;try{for(La=0;La<Si.length;La++){const u=Si[La];u&&u.active!==!1&&el(u,null,14)}}finally{La=0,Si.length=0,$E(),$d=!1,sb=null,(Si.length||Du.length)&&YE()}}function tJ(r,a,...u){if(r.isUnmounted)return;const d=r.vnode.props||br;let p=u;const _=a.startsWith("update:"),v=_&&a.slice(7);if(v&&v in d){const E=`${v==="modelValue"?"model":v}Modifiers`,{number:H,trim:W}=d[E]||br;W&&(p=u.map(K=>Ir(K)?K.trim():K)),H&&(p=u.map(fp))}let C,S=d[C=Ly(a)]||d[C=Ly(Da(a))];!S&&_&&(S=d[C=Ly(yc(a))]),S&&sa(S,r,6,p);const D=d[C+"Once"];if(D){if(!r.emitted)r.emitted={};else if(r.emitted[C])return;r.emitted[C]=!0,sa(D,r,6,p)}}function UE(r,a,u=!1){const d=a.emitsCache,p=d.get(r);if(p!==void 0)return p;const _=r.emits;let v={},C=!1;if(!Dn(r)){const S=D=>{const E=UE(D,a,!0);E&&(C=!0,Ui(v,E))};!u&&a.mixins.length&&a.mixins.forEach(S),r.extends&&S(r.extends),r.mixins&&r.mixins.forEach(S)}return!_&&!C?(Er(r)&&d.set(r,null),null):(Tn(_)?_.forEach(S=>v[S]=null):Ui(v,_),Er(r)&&d.set(r,v),v)}function Fp(r,a){return!r||!Op(a)?!1:(a=a.slice(2).replace(/Once$/,""),Gn(r,a[0].toLowerCase()+a.slice(1))||Gn(r,yc(a))||Gn(r,a))}let _i=null,Pp=null;function gp(r){const a=_i;return _i=r,Pp=r&&r.type.__scopeId||null,a}function ob(r){Pp=r}function lb(){Pp=null}function ke(r,a=_i,u){if(!a||r._n)return r;const d=(...p)=>{d._d&&E8(-1);const _=gp(a);let v;try{v=r(...p)}finally{gp(_),d._d&&E8(1)}return v};return d._n=!0,d._c=!0,d._d=!0,d}function Oy(r){const{type:a,vnode:u,proxy:d,withProxy:p,props:_,propsOptions:[v],slots:C,attrs:S,emit:D,render:E,renderCache:H,data:W,setupState:K,ctx:ot,inheritAttrs:Tt}=r;let Lt,Kt;const Pt=gp(r);try{if(u.shapeFlag&4){const Gt=p||d;Lt=Aa(E.call(Gt,Gt,H,_,K,W,ot)),Kt=S}else{const Gt=a;Lt=Aa(Gt.length>1?Gt(_,{attrs:S,slots:C,emit:D}):Gt(_,null)),Kt=a.props?S:eJ(S)}}catch(Gt){Ad.length=0,Bp(Gt,r,1),Lt=Ne(ol)}let Nt=Lt;if(Kt&&Tt!==!1){const Gt=Object.keys(Kt),{shapeFlag:he}=Nt;Gt.length&&he&7&&(v&&Gt.some(j_)&&(Kt=nJ(Kt,v)),Nt=mc(Nt,Kt))}return u.dirs&&(Nt=mc(Nt),Nt.dirs=Nt.dirs?Nt.dirs.concat(u.dirs):u.dirs),u.transition&&(Nt.transition=u.transition),Lt=Nt,gp(Pt),Lt}const eJ=r=>{let a;for(const u in r)(u==="class"||u==="style"||Op(u))&&((a||(a={}))[u]=r[u]);return a},nJ=(r,a)=>{const u={};for(const d in r)(!j_(d)||!(d.slice(9)in a))&&(u[d]=r[d]);return u};function rJ(r,a,u){const{props:d,children:p,component:_}=r,{props:v,children:C,patchFlag:S}=a,D=_.emitsOptions;if(a.dirs||a.transition)return!0;if(u&&S>=0){if(S&1024)return!0;if(S&16)return d?g8(d,v,D):!!v;if(S&8){const E=a.dynamicProps;for(let H=0;H<E.length;H++){const W=E[H];if(v[W]!==d[W]&&!Fp(D,W))return!0}}}else return(p||C)&&(!C||!C.$stable)?!0:d===v?!1:d?v?g8(d,v,D):!0:!!v;return!1}function g8(r,a,u){const d=Object.keys(a);if(d.length!==Object.keys(r).length)return!0;for(let p=0;p<d.length;p++){const _=d[p];if(a[_]!==r[_]&&!Fp(u,_))return!0}return!1}function iJ({vnode:r,parent:a},u){for(;a&&a.subTree===r;)(r=a.vnode).el=u,a=a.parent}const zE=r=>r.__isSuspense;function sJ(r,a){a&&a.pendingBranch?Tn(r)?a.effects.push(...r):a.effects.push(r):QQ(r)}function hs(r,a){if(hi){let u=hi.provides;const d=hi.parent&&hi.parent.provides;d===u&&(u=hi.provides=Object.create(d)),u[r]=a}}function le(r,a,u=!1){const d=hi||_i;if(d){const p=d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides;if(p&&r in p)return p[r];if(arguments.length>1)return u&&Dn(a)?a.call(d.proxy):a}}function al(r,a){return cb(r,null,a)}const X0={};function Vn(r,a,u){return cb(r,a,u)}function cb(r,a,{immediate:u,deep:d,flush:p,onTrack:_,onTrigger:v}=br){const C=hi;let S,D=!1,E=!1;if(or(r)?(S=()=>r.value,D=pp(r)):Nu(r)?(S=()=>r,d=!0):Tn(r)?(E=!0,D=r.some(Nt=>Nu(Nt)||pp(Nt)),S=()=>r.map(Nt=>{if(or(Nt))return Nt.value;if(Nu(Nt))return sc(Nt);if(Dn(Nt))return el(Nt,C,2)})):Dn(r)?a?S=()=>el(r,C,2):S=()=>{if(!(C&&C.isUnmounted))return H&&H(),sa(r,C,3,[W])}:S=ia,a&&d){const Nt=S;S=()=>sc(Nt())}let H,W=Nt=>{H=Kt.onStop=()=>{el(Nt,C,4)}},K;if(zd)if(W=ia,a?u&&sa(a,C,3,[S(),E?[]:void 0,W]):S(),p==="sync"){const Nt=KJ();K=Nt.__watcherHandles||(Nt.__watcherHandles=[])}else return ia;let ot=E?new Array(r.length).fill(X0):X0;const Tt=()=>{if(!!Kt.active)if(a){const Nt=Kt.run();(d||D||(E?Nt.some((Gt,he)=>Pd(Gt,ot[he])):Pd(Nt,ot)))&&(H&&H(),sa(a,C,3,[Nt,ot===X0?void 0:E&&ot[0]===X0?[]:ot,W]),ot=Nt)}else Kt.run()};Tt.allowRecurse=!!a;let Lt;p==="sync"?Lt=Tt:p==="post"?Lt=()=>mi(Tt,C&&C.suspense):(Tt.pre=!0,C&&(Tt.id=C.uid),Lt=()=>ab(Tt));const Kt=new Z_(S,Lt);a?u?Tt():ot=Kt.run():p==="post"?mi(Kt.run.bind(Kt),C&&C.suspense):Kt.run();const Pt=()=>{Kt.stop(),C&&C.scope&&q_(C.scope.effects,Kt)};return K&&K.push(Pt),Pt}function aJ(r,a,u){const d=this.proxy,p=Ir(r)?r.includes(".")?HE(d,r):()=>d[r]:r.bind(d,d);let _;Dn(a)?_=a:(_=a.handler,u=a);const v=hi;Pu(this);const C=cb(p,_.bind(d),u);return v?Pu(v):hc(),C}function HE(r,a){const u=a.split(".");return()=>{let d=r;for(let p=0;p<u.length&&d;p++)d=d[u[p]];return d}}function sc(r,a){if(!Er(r)||r.__v_skip||(a=a||new Set,a.has(r)))return r;if(a.add(r),or(r))sc(r.value,a);else if(Tn(r))for(let u=0;u<r.length;u++)sc(r[u],a);else if(yE(r)||Ou(r))r.forEach(u=>{sc(u,a)});else if(vE(r))for(const u in r)sc(r[u],a);return r}function WE(r,a){r.shapeFlag&6&&r.component?WE(r.component.subTree,a):r.shapeFlag&128?(r.ssContent.transition=a.clone(r.ssContent),r.ssFallback.transition=a.clone(r.ssFallback)):r.transition=a}function Xn(r){return Dn(r)?{setup:r,name:r.name}:r}const Iu=r=>!!r.type.__asyncLoader,jE=r=>r.type.__isKeepAlive,oJ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(r,{slots:a}){const u=Ra(),d=u.ctx;if(!d.renderer)return()=>{const Pt=a.default&&a.default();return Pt&&Pt.length===1?Pt[0]:Pt};const p=new Map,_=new Set;let v=null;const C=u.suspense,{renderer:{p:S,m:D,um:E,o:{createElement:H}}}=d,W=H("div");d.activate=(Pt,Nt,Gt,he,ae)=>{const Be=Pt.component;D(Pt,Nt,Gt,0,C),S(Be.vnode,Pt,Nt,Gt,Be,C,he,Pt.slotScopeIds,ae),mi(()=>{Be.isDeactivated=!1,Be.a&&Mu(Be.a);const mn=Pt.props&&Pt.props.onVnodeMounted;mn&&Ts(mn,Be.parent,Pt)},C)},d.deactivate=Pt=>{const Nt=Pt.component;D(Pt,W,null,1,C),mi(()=>{Nt.da&&Mu(Nt.da);const Gt=Pt.props&&Pt.props.onVnodeUnmounted;Gt&&Ts(Gt,Nt.parent,Pt),Nt.isDeactivated=!0},C)};function K(Pt){My(Pt),E(Pt,u,C,!0)}function ot(Pt){p.forEach((Nt,Gt)=>{const he=p_(Nt.type);he&&(!Pt||!Pt(he))&&Tt(Gt)})}function Tt(Pt){const Nt=p.get(Pt);!v||Nt.type!==v.type?K(Nt):v&&My(v),p.delete(Pt),_.delete(Pt)}Vn(()=>[r.include,r.exclude],([Pt,Nt])=>{Pt&&ot(Gt=>Ed(Pt,Gt)),Nt&&ot(Gt=>!Ed(Nt,Gt))},{flush:"post",deep:!0});let Lt=null;const Kt=()=>{Lt!=null&&p.set(Lt,Ny(u.subTree))};return _c(Kt),ub(Kt),$p(()=>{p.forEach(Pt=>{const{subTree:Nt,suspense:Gt}=u,he=Ny(Nt);if(Pt.type===he.type){My(he);const ae=he.component.da;ae&&mi(ae,Gt);return}K(Pt)})}),()=>{if(Lt=null,!a.default)return null;const Pt=a.default(),Nt=Pt[0];if(Pt.length>1)return v=null,Pt;if(!gc(Nt)||!(Nt.shapeFlag&4)&&!(Nt.shapeFlag&128))return v=null,Nt;let Gt=Ny(Nt);const he=Gt.type,ae=p_(Iu(Gt)?Gt.type.__asyncResolved||{}:he),{include:Be,exclude:mn,max:Rn}=r;if(Be&&(!ae||!Ed(Be,ae))||mn&&ae&&Ed(mn,ae))return v=Gt,Nt;const Bn=Gt.key==null?he:Gt.key,Hn=p.get(Bn);return Gt.el&&(Gt=mc(Gt),Nt.shapeFlag&128&&(Nt.ssContent=Gt)),Lt=Bn,Hn?(Gt.el=Hn.el,Gt.component=Hn.component,Gt.transition&&WE(Gt,Gt.transition),Gt.shapeFlag|=512,_.delete(Bn),_.add(Bn)):(_.add(Bn),Rn&&_.size>parseInt(Rn,10)&&Tt(_.values().next().value)),Gt.shapeFlag|=256,v=Gt,zE(Nt.type)?Nt:Gt}}},qE=oJ;function Ed(r,a){return Tn(r)?r.some(u=>Ed(u,a)):Ir(r)?r.split(",").includes(a):r.test?r.test(a):!1}function lJ(r,a){GE(r,"a",a)}function cJ(r,a){GE(r,"da",a)}function GE(r,a,u=hi){const d=r.__wdc||(r.__wdc=()=>{let p=u;for(;p;){if(p.isDeactivated)return;p=p.parent}return r()});if(Vp(a,d,u),u){let p=u.parent;for(;p&&p.parent;)jE(p.parent.vnode)&&uJ(d,a,u,p),p=p.parent}}function uJ(r,a,u,d){const p=Vp(a,r,d,!0);Yp(()=>{q_(d[a],p)},u)}function My(r){r.shapeFlag&=-257,r.shapeFlag&=-513}function Ny(r){return r.shapeFlag&128?r.ssContent:r}function Vp(r,a,u=hi,d=!1){if(u){const p=u[r]||(u[r]=[]),_=a.__weh||(a.__weh=(...v)=>{if(u.isUnmounted)return;Uu(),Pu(u);const C=sa(a,u,r,v);return hc(),zu(),C});return d?p.unshift(_):p.push(_),_}}const To=r=>(a,u=hi)=>(!zd||r==="sp")&&Vp(r,(...d)=>a(...d),u),XE=To("bm"),_c=To("m"),hJ=To("bu"),ub=To("u"),$p=To("bum"),Yp=To("um"),dJ=To("sp"),fJ=To("rtg"),pJ=To("rtc");function gJ(r,a=hi){Vp("ec",r,a)}function Up(r,a){const u=_i;if(u===null)return r;const d=Wp(u)||u.proxy,p=r.dirs||(r.dirs=[]);for(let _=0;_<a.length;_++){let[v,C,S,D=br]=a[_];v&&(Dn(v)&&(v={mounted:v,updated:v}),v.deep&&sc(C),p.push({dir:v,instance:d,value:C,oldValue:void 0,arg:S,modifiers:D}))}return r}function Gl(r,a,u,d){const p=r.dirs,_=a&&a.dirs;for(let v=0;v<p.length;v++){const C=p[v];_&&(C.oldValue=_[v].value);let S=C.dir[d];S&&(Uu(),sa(S,u,8,[r.el,C,r,a]),zu())}}const KE="components",mJ="directives";function mp(r,a){return ZE(KE,r,!0,a)||r}const yJ=Symbol();function m8(r){return ZE(mJ,r)}function ZE(r,a,u=!0,d=!1){const p=_i||hi;if(p){const _=p.type;if(r===KE){const C=p_(_,!1);if(C&&(C===a||C===Da(a)||C===Dp(Da(a))))return _}const v=y8(p[r]||_[r],a)||y8(p.appContext[r],a);return!v&&d?_:v}}function y8(r,a){return r&&(r[a]||r[Da(a)]||r[Dp(Da(a))])}function Qd(r,a,u,d){let p;const _=u&&u[d];if(Tn(r)||Ir(r)){p=new Array(r.length);for(let v=0,C=r.length;v<C;v++)p[v]=a(r[v],v,void 0,_&&_[v])}else if(typeof r=="number"){p=new Array(r);for(let v=0;v<r;v++)p[v]=a(v+1,v,void 0,_&&_[v])}else if(Er(r))if(r[Symbol.iterator])p=Array.from(r,(v,C)=>a(v,C,void 0,_&&_[C]));else{const v=Object.keys(r);p=new Array(v.length);for(let C=0,S=v.length;C<S;C++){const D=v[C];p[C]=a(r[D],D,C,_&&_[C])}}else p=[];return u&&(u[d]=p),p}function Ia(r,a,u={},d,p){if(_i.isCE||_i.parent&&Iu(_i.parent)&&_i.parent.isCE)return a!=="default"&&(u.name=a),Ne("slot",u,d&&d());let _=r[a];_&&_._c&&(_._d=!1),Mt();const v=_&&QE(_(u)),C=be(sr,{key:u.key||v&&v.key||`_${a}`},v||(d?d():[]),v&&r._===1?64:-2);return!p&&C.scopeId&&(C.slotScopeIds=[C.scopeId+"-s"]),_&&_._c&&(_._d=!0),C}function QE(r){return r.some(a=>gc(a)?!(a.type===ol||a.type===sr&&!QE(a.children)):!0)?r:null}const l_=r=>r?c7(r)?Wp(r)||r.proxy:l_(r.parent):null,Cd=Ui(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>l_(r.parent),$root:r=>l_(r.root),$emit:r=>r.emit,$options:r=>hb(r),$forceUpdate:r=>r.f||(r.f=()=>ab(r.update)),$nextTick:r=>r.n||(r.n=yi.bind(r.proxy)),$watch:r=>aJ.bind(r)}),Dy=(r,a)=>r!==br&&!r.__isScriptSetup&&Gn(r,a),_J={get({_:r},a){const{ctx:u,setupState:d,data:p,props:_,accessCache:v,type:C,appContext:S}=r;let D;if(a[0]!=="$"){const K=v[a];if(K!==void 0)switch(K){case 1:return d[a];case 2:return p[a];case 4:return u[a];case 3:return _[a]}else{if(Dy(d,a))return v[a]=1,d[a];if(p!==br&&Gn(p,a))return v[a]=2,p[a];if((D=r.propsOptions[0])&&Gn(D,a))return v[a]=3,_[a];if(u!==br&&Gn(u,a))return v[a]=4,u[a];c_&&(v[a]=0)}}const E=Cd[a];let H,W;if(E)return a==="$attrs"&&ps(r,"get",a),E(r);if((H=C.__cssModules)&&(H=H[a]))return H;if(u!==br&&Gn(u,a))return v[a]=4,u[a];if(W=S.config.globalProperties,Gn(W,a))return W[a]},set({_:r},a,u){const{data:d,setupState:p,ctx:_}=r;return Dy(p,a)?(p[a]=u,!0):d!==br&&Gn(d,a)?(d[a]=u,!0):Gn(r.props,a)||a[0]==="$"&&a.slice(1)in r?!1:(_[a]=u,!0)},has({_:{data:r,setupState:a,accessCache:u,ctx:d,appContext:p,propsOptions:_}},v){let C;return!!u[v]||r!==br&&Gn(r,v)||Dy(a,v)||(C=_[0])&&Gn(C,v)||Gn(d,v)||Gn(Cd,v)||Gn(p.config.globalProperties,v)},defineProperty(r,a,u){return u.get!=null?r._.accessCache[a]=0:Gn(u,"value")&&this.set(r,a,u.value,null),Reflect.defineProperty(r,a,u)}};let c_=!0;function bJ(r){const a=hb(r),u=r.proxy,d=r.ctx;c_=!1,a.beforeCreate&&_8(a.beforeCreate,r,"bc");const{data:p,computed:_,methods:v,watch:C,provide:S,inject:D,created:E,beforeMount:H,mounted:W,beforeUpdate:K,updated:ot,activated:Tt,deactivated:Lt,beforeDestroy:Kt,beforeUnmount:Pt,destroyed:Nt,unmounted:Gt,render:he,renderTracked:ae,renderTriggered:Be,errorCaptured:mn,serverPrefetch:Rn,expose:Bn,inheritAttrs:Hn,components:Kr,directives:Rr,filters:xr}=a;if(D&&vJ(D,d,null,r.appContext.config.unwrapInjectedRef),v)for(const He in v){const hn=v[He];Dn(hn)&&(d[He]=hn.bind(u))}if(p){const He=p.call(u,u);Er(He)&&(r.data=vr(He))}if(c_=!0,_)for(const He in _){const hn=_[He],Fn=Dn(hn)?hn.bind(u,u):Dn(hn.get)?hn.get.bind(u,u):ia,jn=!Dn(hn)&&Dn(hn.set)?hn.set.bind(u):ia,Zr=Qt({get:Fn,set:jn});Object.defineProperty(d,He,{enumerable:!0,configurable:!0,get:()=>Zr.value,set:kr=>Zr.value=kr})}if(C)for(const He in C)JE(C[He],d,u,He);if(S){const He=Dn(S)?S.call(u):S;Reflect.ownKeys(He).forEach(hn=>{hs(hn,He[hn])})}E&&_8(E,r,"c");function cr(He,hn){Tn(hn)?hn.forEach(Fn=>He(Fn.bind(u))):hn&&He(hn.bind(u))}if(cr(XE,H),cr(_c,W),cr(hJ,K),cr(ub,ot),cr(lJ,Tt),cr(cJ,Lt),cr(gJ,mn),cr(pJ,ae),cr(fJ,Be),cr($p,Pt),cr(Yp,Gt),cr(dJ,Rn),Tn(Bn))if(Bn.length){const He=r.exposed||(r.exposed={});Bn.forEach(hn=>{Object.defineProperty(He,hn,{get:()=>u[hn],set:Fn=>u[hn]=Fn})})}else r.exposed||(r.exposed={});he&&r.render===ia&&(r.render=he),Hn!=null&&(r.inheritAttrs=Hn),Kr&&(r.components=Kr),Rr&&(r.directives=Rr)}function vJ(r,a,u=ia,d=!1){Tn(r)&&(r=u_(r));for(const p in r){const _=r[p];let v;Er(_)?"default"in _?v=le(_.from||p,_.default,!0):v=le(_.from||p):v=le(_),or(v)&&d?Object.defineProperty(a,p,{enumerable:!0,configurable:!0,get:()=>v.value,set:C=>v.value=C}):a[p]=v}}function _8(r,a,u){sa(Tn(r)?r.map(d=>d.bind(a.proxy)):r.bind(a.proxy),a,u)}function JE(r,a,u,d){const p=d.includes(".")?HE(u,d):()=>u[d];if(Ir(r)){const _=a[r];Dn(_)&&Vn(p,_)}else if(Dn(r))Vn(p,r.bind(u));else if(Er(r))if(Tn(r))r.forEach(_=>JE(_,a,u,d));else{const _=Dn(r.handler)?r.handler.bind(u):a[r.handler];Dn(_)&&Vn(p,_,r)}}function hb(r){const a=r.type,{mixins:u,extends:d}=a,{mixins:p,optionsCache:_,config:{optionMergeStrategies:v}}=r.appContext,C=_.get(a);let S;return C?S=C:!p.length&&!u&&!d?S=a:(S={},p.length&&p.forEach(D=>yp(S,D,v,!0)),yp(S,a,v)),Er(a)&&_.set(a,S),S}function yp(r,a,u,d=!1){const{mixins:p,extends:_}=a;_&&yp(r,_,u,!0),p&&p.forEach(v=>yp(r,v,u,!0));for(const v in a)if(!(d&&v==="expose")){const C=xJ[v]||u&&u[v];r[v]=C?C(r[v],a[v]):a[v]}return r}const xJ={data:b8,props:Jl,emits:Jl,methods:Jl,computed:Jl,beforeCreate:Vi,created:Vi,beforeMount:Vi,mounted:Vi,beforeUpdate:Vi,updated:Vi,beforeDestroy:Vi,beforeUnmount:Vi,destroyed:Vi,unmounted:Vi,activated:Vi,deactivated:Vi,errorCaptured:Vi,serverPrefetch:Vi,components:Jl,directives:Jl,watch:wJ,provide:b8,inject:kJ};function b8(r,a){return a?r?function(){return Ui(Dn(r)?r.call(this,this):r,Dn(a)?a.call(this,this):a)}:a:r}function kJ(r,a){return Jl(u_(r),u_(a))}function u_(r){if(Tn(r)){const a={};for(let u=0;u<r.length;u++)a[r[u]]=r[u];return a}return r}function Vi(r,a){return r?[...new Set([].concat(r,a))]:a}function Jl(r,a){return r?Ui(Ui(Object.create(null),r),a):a}function wJ(r,a){if(!r)return a;if(!a)return r;const u=Ui(Object.create(null),r);for(const d in a)u[d]=Vi(r[d],a[d]);return u}function TJ(r,a,u,d=!1){const p={},_={};dp(_,Hp,1),r.propsDefaults=Object.create(null),t7(r,a,p,_);for(const v in r.propsOptions[0])v in p||(p[v]=void 0);u?r.props=d?p:VQ(p):r.type.props?r.props=p:r.props=_,r.attrs=_}function EJ(r,a,u,d){const{props:p,attrs:_,vnode:{patchFlag:v}}=r,C=tr(p),[S]=r.propsOptions;let D=!1;if((d||v>0)&&!(v&16)){if(v&8){const E=r.vnode.dynamicProps;for(let H=0;H<E.length;H++){let W=E[H];if(Fp(r.emitsOptions,W))continue;const K=a[W];if(S)if(Gn(_,W))K!==_[W]&&(_[W]=K,D=!0);else{const ot=Da(W);p[ot]=h_(S,C,ot,K,r,!1)}else K!==_[W]&&(_[W]=K,D=!0)}}}else{t7(r,a,p,_)&&(D=!0);let E;for(const H in C)(!a||!Gn(a,H)&&((E=yc(H))===H||!Gn(a,E)))&&(S?u&&(u[H]!==void 0||u[E]!==void 0)&&(p[H]=h_(S,C,H,void 0,r,!0)):delete p[H]);if(_!==C)for(const H in _)(!a||!Gn(a,H)&&!0)&&(delete _[H],D=!0)}D&&wo(r,"set","$attrs")}function t7(r,a,u,d){const[p,_]=r.propsOptions;let v=!1,C;if(a)for(let S in a){if(np(S))continue;const D=a[S];let E;p&&Gn(p,E=Da(S))?!_||!_.includes(E)?u[E]=D:(C||(C={}))[E]=D:Fp(r.emitsOptions,S)||(!(S in d)||D!==d[S])&&(d[S]=D,v=!0)}if(_){const S=tr(u),D=C||br;for(let E=0;E<_.length;E++){const H=_[E];u[H]=h_(p,S,H,D[H],r,!Gn(D,H))}}return v}function h_(r,a,u,d,p,_){const v=r[u];if(v!=null){const C=Gn(v,"default");if(C&&d===void 0){const S=v.default;if(v.type!==Function&&Dn(S)){const{propsDefaults:D}=p;u in D?d=D[u]:(Pu(p),d=D[u]=S.call(null,a),hc())}else d=S}v[0]&&(_&&!C?d=!1:v[1]&&(d===""||d===yc(u))&&(d=!0))}return d}function e7(r,a,u=!1){const d=a.propsCache,p=d.get(r);if(p)return p;const _=r.props,v={},C=[];let S=!1;if(!Dn(r)){const E=H=>{S=!0;const[W,K]=e7(H,a,!0);Ui(v,W),K&&C.push(...K)};!u&&a.mixins.length&&a.mixins.forEach(E),r.extends&&E(r.extends),r.mixins&&r.mixins.forEach(E)}if(!_&&!S)return Er(r)&&d.set(r,Lu),Lu;if(Tn(_))for(let E=0;E<_.length;E++){const H=Da(_[E]);v8(H)&&(v[H]=br)}else if(_)for(const E in _){const H=Da(E);if(v8(H)){const W=_[E],K=v[H]=Tn(W)||Dn(W)?{type:W}:Object.assign({},W);if(K){const ot=w8(Boolean,K.type),Tt=w8(String,K.type);K[0]=ot>-1,K[1]=Tt<0||ot<Tt,(ot>-1||Gn(K,"default"))&&C.push(H)}}}const D=[v,C];return Er(r)&&d.set(r,D),D}function v8(r){return r[0]!=="$"}function x8(r){const a=r&&r.toString().match(/^\s*function (\w+)/);return a?a[1]:r===null?"null":""}function k8(r,a){return x8(r)===x8(a)}function w8(r,a){return Tn(a)?a.findIndex(u=>k8(u,r)):Dn(a)&&k8(a,r)?0:-1}const n7=r=>r[0]==="_"||r==="$stable",db=r=>Tn(r)?r.map(Aa):[Aa(r)],CJ=(r,a,u)=>{if(a._n)return a;const d=ke((...p)=>db(a(...p)),u);return d._c=!1,d},r7=(r,a,u)=>{const d=r._ctx;for(const p in r){if(n7(p))continue;const _=r[p];if(Dn(_))a[p]=CJ(p,_,d);else if(_!=null){const v=db(_);a[p]=()=>v}}},i7=(r,a)=>{const u=db(a);r.slots.default=()=>u},SJ=(r,a)=>{if(r.vnode.shapeFlag&32){const u=a._;u?(r.slots=tr(a),dp(a,"_",u)):r7(a,r.slots={})}else r.slots={},a&&i7(r,a);dp(r.slots,Hp,1)},AJ=(r,a,u)=>{const{vnode:d,slots:p}=r;let _=!0,v=br;if(d.shapeFlag&32){const C=a._;C?u&&C===1?_=!1:(Ui(p,a),!u&&C===1&&delete p._):(_=!a.$stable,r7(a,p)),v=a}else a&&(i7(r,a),v={default:1});if(_)for(const C in p)!n7(C)&&!(C in v)&&delete p[C]};function s7(){return{app:null,config:{isNativeTag:sQ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let LJ=0;function OJ(r,a){return function(d,p=null){Dn(d)||(d=Object.assign({},d)),p!=null&&!Er(p)&&(p=null);const _=s7(),v=new Set;let C=!1;const S=_.app={_uid:LJ++,_component:d,_props:p,_container:null,_context:_,_instance:null,version:ZJ,get config(){return _.config},set config(D){},use(D,...E){return v.has(D)||(D&&Dn(D.install)?(v.add(D),D.install(S,...E)):Dn(D)&&(v.add(D),D(S,...E))),S},mixin(D){return _.mixins.includes(D)||_.mixins.push(D),S},component(D,E){return E?(_.components[D]=E,S):_.components[D]},directive(D,E){return E?(_.directives[D]=E,S):_.directives[D]},mount(D,E,H){if(!C){const W=Ne(d,p);return W.appContext=_,E&&a?a(W,D):r(W,D,H),C=!0,S._container=D,D.__vue_app__=S,Wp(W.component)||W.component.proxy}},unmount(){C&&(r(null,S._container),delete S._container.__vue_app__)},provide(D,E){return _.provides[D]=E,S}};return S}}function d_(r,a,u,d,p=!1){if(Tn(r)){r.forEach((W,K)=>d_(W,a&&(Tn(a)?a[K]:a),u,d,p));return}if(Iu(d)&&!p)return;const _=d.shapeFlag&4?Wp(d.component)||d.component.proxy:d.el,v=p?null:_,{i:C,r:S}=r,D=a&&a.r,E=C.refs===br?C.refs={}:C.refs,H=C.setupState;if(D!=null&&D!==S&&(Ir(D)?(E[D]=null,Gn(H,D)&&(H[D]=null)):or(D)&&(D.value=null)),Dn(S))el(S,C,12,[v,E]);else{const W=Ir(S),K=or(S);if(W||K){const ot=()=>{if(r.f){const Tt=W?Gn(H,S)?H[S]:E[S]:S.value;p?Tn(Tt)&&q_(Tt,_):Tn(Tt)?Tt.includes(_)||Tt.push(_):W?(E[S]=[_],Gn(H,S)&&(H[S]=E[S])):(S.value=[_],r.k&&(E[r.k]=S.value))}else W?(E[S]=v,Gn(H,S)&&(H[S]=v)):K&&(S.value=v,r.k&&(E[r.k]=v))};v?(ot.id=-1,mi(ot,u)):ot()}}}const mi=sJ;function MJ(r){return NJ(r)}function NJ(r,a){const u=hQ();u.__VUE__=!0;const{insert:d,remove:p,patchProp:_,createElement:v,createText:C,createComment:S,setText:D,setElementText:E,parentNode:H,nextSibling:W,setScopeId:K=ia,insertStaticContent:ot}=r,Tt=(nt,mt,Vt,Zt=null,se=null,ye=null,Re=!1,pe=null,we=!!mt.dynamicChildren)=>{if(nt===mt)return;nt&&!md(nt,mt)&&(Zt=Te(nt),kr(nt,se,ye,!0),nt=null),mt.patchFlag===-2&&(we=!1,mt.dynamicChildren=null);const{type:ce,ref:Qe,shapeFlag:Ye}=mt;switch(ce){case zp:Lt(nt,mt,Vt,Zt);break;case ol:Kt(nt,mt,Vt,Zt);break;case Iy:nt==null&&Pt(mt,Vt,Zt,Re);break;case sr:Kr(nt,mt,Vt,Zt,se,ye,Re,pe,we);break;default:Ye&1?he(nt,mt,Vt,Zt,se,ye,Re,pe,we):Ye&6?Rr(nt,mt,Vt,Zt,se,ye,Re,pe,we):(Ye&64||Ye&128)&&ce.process(nt,mt,Vt,Zt,se,ye,Re,pe,we,Mn)}Qe!=null&&se&&d_(Qe,nt&&nt.ref,ye,mt||nt,!mt)},Lt=(nt,mt,Vt,Zt)=>{if(nt==null)d(mt.el=C(mt.children),Vt,Zt);else{const se=mt.el=nt.el;mt.children!==nt.children&&D(se,mt.children)}},Kt=(nt,mt,Vt,Zt)=>{nt==null?d(mt.el=S(mt.children||""),Vt,Zt):mt.el=nt.el},Pt=(nt,mt,Vt,Zt)=>{[nt.el,nt.anchor]=ot(nt.children,mt,Vt,Zt,nt.el,nt.anchor)},Nt=({el:nt,anchor:mt},Vt,Zt)=>{let se;for(;nt&&nt!==mt;)se=W(nt),d(nt,Vt,Zt),nt=se;d(mt,Vt,Zt)},Gt=({el:nt,anchor:mt})=>{let Vt;for(;nt&&nt!==mt;)Vt=W(nt),p(nt),nt=Vt;p(mt)},he=(nt,mt,Vt,Zt,se,ye,Re,pe,we)=>{Re=Re||mt.type==="svg",nt==null?ae(mt,Vt,Zt,se,ye,Re,pe,we):Rn(nt,mt,se,ye,Re,pe,we)},ae=(nt,mt,Vt,Zt,se,ye,Re,pe)=>{let we,ce;const{type:Qe,props:Ye,shapeFlag:Xe,transition:_n,dirs:Pn}=nt;if(we=nt.el=v(nt.type,ye,Ye&&Ye.is,Ye),Xe&8?E(we,nt.children):Xe&16&&mn(nt.children,we,null,Zt,se,ye&&Qe!=="foreignObject",Re,pe),Pn&&Gl(nt,null,Zt,"created"),Ye){for(const Kn in Ye)Kn!=="value"&&!np(Kn)&&_(we,Kn,null,Ye[Kn],ye,nt.children,Zt,se,De);"value"in Ye&&_(we,"value",null,Ye.value),(ce=Ye.onVnodeBeforeMount)&&Ts(ce,Zt,nt)}Be(we,nt,nt.scopeId,Re,Zt),Pn&&Gl(nt,null,Zt,"beforeMount");const er=(!se||se&&!se.pendingBranch)&&_n&&!_n.persisted;er&&_n.beforeEnter(we),d(we,mt,Vt),((ce=Ye&&Ye.onVnodeMounted)||er||Pn)&&mi(()=>{ce&&Ts(ce,Zt,nt),er&&_n.enter(we),Pn&&Gl(nt,null,Zt,"mounted")},se)},Be=(nt,mt,Vt,Zt,se)=>{if(Vt&&K(nt,Vt),Zt)for(let ye=0;ye<Zt.length;ye++)K(nt,Zt[ye]);if(se){let ye=se.subTree;if(mt===ye){const Re=se.vnode;Be(nt,Re,Re.scopeId,Re.slotScopeIds,se.parent)}}},mn=(nt,mt,Vt,Zt,se,ye,Re,pe,we=0)=>{for(let ce=we;ce<nt.length;ce++){const Qe=nt[ce]=pe?Zo(nt[ce]):Aa(nt[ce]);Tt(null,Qe,mt,Vt,Zt,se,ye,Re,pe)}},Rn=(nt,mt,Vt,Zt,se,ye,Re)=>{const pe=mt.el=nt.el;let{patchFlag:we,dynamicChildren:ce,dirs:Qe}=mt;we|=nt.patchFlag&16;const Ye=nt.props||br,Xe=mt.props||br;let _n;Vt&&Xl(Vt,!1),(_n=Xe.onVnodeBeforeUpdate)&&Ts(_n,Vt,mt,nt),Qe&&Gl(mt,nt,Vt,"beforeUpdate"),Vt&&Xl(Vt,!0);const Pn=se&&mt.type!=="foreignObject";if(ce?Bn(nt.dynamicChildren,ce,pe,Vt,Zt,Pn,ye):Re||hn(nt,mt,pe,null,Vt,Zt,Pn,ye,!1),we>0){if(we&16)Hn(pe,mt,Ye,Xe,Vt,Zt,se);else if(we&2&&Ye.class!==Xe.class&&_(pe,"class",null,Xe.class,se),we&4&&_(pe,"style",Ye.style,Xe.style,se),we&8){const er=mt.dynamicProps;for(let Kn=0;Kn<er.length;Kn++){const Cr=er[Kn],bi=Ye[Cr],Co=Xe[Cr];(Co!==bi||Cr==="value")&&_(pe,Cr,bi,Co,se,nt.children,Vt,Zt,De)}}we&1&&nt.children!==mt.children&&E(pe,mt.children)}else!Re&&ce==null&&Hn(pe,mt,Ye,Xe,Vt,Zt,se);((_n=Xe.onVnodeUpdated)||Qe)&&mi(()=>{_n&&Ts(_n,Vt,mt,nt),Qe&&Gl(mt,nt,Vt,"updated")},Zt)},Bn=(nt,mt,Vt,Zt,se,ye,Re)=>{for(let pe=0;pe<mt.length;pe++){const we=nt[pe],ce=mt[pe],Qe=we.el&&(we.type===sr||!md(we,ce)||we.shapeFlag&70)?H(we.el):Vt;Tt(we,ce,Qe,null,Zt,se,ye,Re,!0)}},Hn=(nt,mt,Vt,Zt,se,ye,Re)=>{if(Vt!==Zt){if(Vt!==br)for(const pe in Vt)!np(pe)&&!(pe in Zt)&&_(nt,pe,Vt[pe],null,Re,mt.children,se,ye,De);for(const pe in Zt){if(np(pe))continue;const we=Zt[pe],ce=Vt[pe];we!==ce&&pe!=="value"&&_(nt,pe,ce,we,Re,mt.children,se,ye,De)}"value"in Zt&&_(nt,"value",Vt.value,Zt.value)}},Kr=(nt,mt,Vt,Zt,se,ye,Re,pe,we)=>{const ce=mt.el=nt?nt.el:C(""),Qe=mt.anchor=nt?nt.anchor:C("");let{patchFlag:Ye,dynamicChildren:Xe,slotScopeIds:_n}=mt;_n&&(pe=pe?pe.concat(_n):_n),nt==null?(d(ce,Vt,Zt),d(Qe,Vt,Zt),mn(mt.children,Vt,Qe,se,ye,Re,pe,we)):Ye>0&&Ye&64&&Xe&&nt.dynamicChildren?(Bn(nt.dynamicChildren,Xe,Vt,se,ye,Re,pe),(mt.key!=null||se&&mt===se.subTree)&&fb(nt,mt,!0)):hn(nt,mt,Vt,Qe,se,ye,Re,pe,we)},Rr=(nt,mt,Vt,Zt,se,ye,Re,pe,we)=>{mt.slotScopeIds=pe,nt==null?mt.shapeFlag&512?se.ctx.activate(mt,Vt,Zt,Re,we):xr(mt,Vt,Zt,se,ye,Re,we):lr(nt,mt,we)},xr=(nt,mt,Vt,Zt,se,ye,Re)=>{const pe=nt.component=UJ(nt,Zt,se);if(jE(nt)&&(pe.ctx.renderer=Mn),zJ(pe),pe.asyncDep){if(se&&se.registerDep(pe,cr),!nt.el){const we=pe.subTree=Ne(ol);Kt(null,we,mt,Vt)}return}cr(pe,nt,mt,Vt,se,ye,Re)},lr=(nt,mt,Vt)=>{const Zt=mt.component=nt.component;if(rJ(nt,mt,Vt))if(Zt.asyncDep&&!Zt.asyncResolved){He(Zt,mt,Vt);return}else Zt.next=mt,ZQ(Zt.update),Zt.update();else mt.el=nt.el,Zt.vnode=mt},cr=(nt,mt,Vt,Zt,se,ye,Re)=>{const pe=()=>{if(nt.isMounted){let{next:Qe,bu:Ye,u:Xe,parent:_n,vnode:Pn}=nt,er=Qe,Kn;Xl(nt,!1),Qe?(Qe.el=Pn.el,He(nt,Qe,Re)):Qe=Pn,Ye&&Mu(Ye),(Kn=Qe.props&&Qe.props.onVnodeBeforeUpdate)&&Ts(Kn,_n,Qe,Pn),Xl(nt,!0);const Cr=Oy(nt),bi=nt.subTree;nt.subTree=Cr,Tt(bi,Cr,H(bi.el),Te(bi),nt,se,ye),Qe.el=Cr.el,er===null&&iJ(nt,Cr.el),Xe&&mi(Xe,se),(Kn=Qe.props&&Qe.props.onVnodeUpdated)&&mi(()=>Ts(Kn,_n,Qe,Pn),se)}else{let Qe;const{el:Ye,props:Xe}=mt,{bm:_n,m:Pn,parent:er}=nt,Kn=Iu(mt);if(Xl(nt,!1),_n&&Mu(_n),!Kn&&(Qe=Xe&&Xe.onVnodeBeforeMount)&&Ts(Qe,er,mt),Xl(nt,!0),Ye&&yn){const Cr=()=>{nt.subTree=Oy(nt),yn(Ye,nt.subTree,nt,se,null)};Kn?mt.type.__asyncLoader().then(()=>!nt.isUnmounted&&Cr()):Cr()}else{const Cr=nt.subTree=Oy(nt);Tt(null,Cr,Vt,Zt,nt,se,ye),mt.el=Cr.el}if(Pn&&mi(Pn,se),!Kn&&(Qe=Xe&&Xe.onVnodeMounted)){const Cr=mt;mi(()=>Ts(Qe,er,Cr),se)}(mt.shapeFlag&256||er&&Iu(er.vnode)&&er.vnode.shapeFlag&256)&&nt.a&&mi(nt.a,se),nt.isMounted=!0,mt=Vt=Zt=null}},we=nt.effect=new Z_(pe,()=>ab(ce),nt.scope),ce=nt.update=()=>we.run();ce.id=nt.uid,Xl(nt,!0),ce()},He=(nt,mt,Vt)=>{mt.component=nt;const Zt=nt.vnode.props;nt.vnode=mt,nt.next=null,EJ(nt,mt.props,Zt,Vt),AJ(nt,mt.children,Vt),Uu(),p8(),zu()},hn=(nt,mt,Vt,Zt,se,ye,Re,pe,we=!1)=>{const ce=nt&&nt.children,Qe=nt?nt.shapeFlag:0,Ye=mt.children,{patchFlag:Xe,shapeFlag:_n}=mt;if(Xe>0){if(Xe&128){jn(ce,Ye,Vt,Zt,se,ye,Re,pe,we);return}else if(Xe&256){Fn(ce,Ye,Vt,Zt,se,ye,Re,pe,we);return}}_n&8?(Qe&16&&De(ce,se,ye),Ye!==ce&&E(Vt,Ye)):Qe&16?_n&16?jn(ce,Ye,Vt,Zt,se,ye,Re,pe,we):De(ce,se,ye,!0):(Qe&8&&E(Vt,""),_n&16&&mn(Ye,Vt,Zt,se,ye,Re,pe,we))},Fn=(nt,mt,Vt,Zt,se,ye,Re,pe,we)=>{nt=nt||Lu,mt=mt||Lu;const ce=nt.length,Qe=mt.length,Ye=Math.min(ce,Qe);let Xe;for(Xe=0;Xe<Ye;Xe++){const _n=mt[Xe]=we?Zo(mt[Xe]):Aa(mt[Xe]);Tt(nt[Xe],_n,Vt,null,se,ye,Re,pe,we)}ce>Qe?De(nt,se,ye,!0,!1,Ye):mn(mt,Vt,Zt,se,ye,Re,pe,we,Ye)},jn=(nt,mt,Vt,Zt,se,ye,Re,pe,we)=>{let ce=0;const Qe=mt.length;let Ye=nt.length-1,Xe=Qe-1;for(;ce<=Ye&&ce<=Xe;){const _n=nt[ce],Pn=mt[ce]=we?Zo(mt[ce]):Aa(mt[ce]);if(md(_n,Pn))Tt(_n,Pn,Vt,null,se,ye,Re,pe,we);else break;ce++}for(;ce<=Ye&&ce<=Xe;){const _n=nt[Ye],Pn=mt[Xe]=we?Zo(mt[Xe]):Aa(mt[Xe]);if(md(_n,Pn))Tt(_n,Pn,Vt,null,se,ye,Re,pe,we);else break;Ye--,Xe--}if(ce>Ye){if(ce<=Xe){const _n=Xe+1,Pn=_n<Qe?mt[_n].el:Zt;for(;ce<=Xe;)Tt(null,mt[ce]=we?Zo(mt[ce]):Aa(mt[ce]),Vt,Pn,se,ye,Re,pe,we),ce++}}else if(ce>Xe)for(;ce<=Ye;)kr(nt[ce],se,ye,!0),ce++;else{const _n=ce,Pn=ce,er=new Map;for(ce=Pn;ce<=Xe;ce++){const di=mt[ce]=we?Zo(mt[ce]):Aa(mt[ce]);di.key!=null&&er.set(di.key,ce)}let Kn,Cr=0;const bi=Xe-Pn+1;let Co=!1,sf=0;const So=new Array(bi);for(ce=0;ce<bi;ce++)So[ce]=0;for(ce=_n;ce<=Ye;ce++){const di=nt[ce];if(Cr>=bi){kr(di,se,ye,!0);continue}let gs;if(di.key!=null)gs=er.get(di.key);else for(Kn=Pn;Kn<=Xe;Kn++)if(So[Kn-Pn]===0&&md(di,mt[Kn])){gs=Kn;break}gs===void 0?kr(di,se,ye,!0):(So[gs-Pn]=ce+1,gs>=sf?sf=gs:Co=!0,Tt(di,mt[gs],Vt,null,se,ye,Re,pe,we),Cr++)}const af=Co?DJ(So):Lu;for(Kn=af.length-1,ce=bi-1;ce>=0;ce--){const di=Pn+ce,gs=mt[di],Gu=di+1<Qe?mt[di+1].el:Zt;So[ce]===0?Tt(null,gs,Vt,Gu,se,ye,Re,pe,we):Co&&(Kn<0||ce!==af[Kn]?Zr(gs,Vt,Gu,2):Kn--)}}},Zr=(nt,mt,Vt,Zt,se=null)=>{const{el:ye,type:Re,transition:pe,children:we,shapeFlag:ce}=nt;if(ce&6){Zr(nt.component.subTree,mt,Vt,Zt);return}if(ce&128){nt.suspense.move(mt,Vt,Zt);return}if(ce&64){Re.move(nt,mt,Vt,Mn);return}if(Re===sr){d(ye,mt,Vt);for(let Ye=0;Ye<we.length;Ye++)Zr(we[Ye],mt,Vt,Zt);d(nt.anchor,mt,Vt);return}if(Re===Iy){Nt(nt,mt,Vt);return}if(Zt!==2&&ce&1&&pe)if(Zt===0)pe.beforeEnter(ye),d(ye,mt,Vt),mi(()=>pe.enter(ye),se);else{const{leave:Ye,delayLeave:Xe,afterLeave:_n}=pe,Pn=()=>d(ye,mt,Vt),er=()=>{Ye(ye,()=>{Pn(),_n&&_n()})};Xe?Xe(ye,Pn,er):er()}else d(ye,mt,Vt)},kr=(nt,mt,Vt,Zt=!1,se=!1)=>{const{type:ye,props:Re,ref:pe,children:we,dynamicChildren:ce,shapeFlag:Qe,patchFlag:Ye,dirs:Xe}=nt;if(pe!=null&&d_(pe,null,Vt,nt,!0),Qe&256){mt.ctx.deactivate(nt);return}const _n=Qe&1&&Xe,Pn=!Iu(nt);let er;if(Pn&&(er=Re&&Re.onVnodeBeforeUnmount)&&Ts(er,mt,nt),Qe&6)ee(nt.component,Vt,Zt);else{if(Qe&128){nt.suspense.unmount(Vt,Zt);return}_n&&Gl(nt,null,mt,"beforeUnmount"),Qe&64?nt.type.remove(nt,mt,Vt,se,Mn,Zt):ce&&(ye!==sr||Ye>0&&Ye&64)?De(ce,mt,Vt,!1,!0):(ye===sr&&Ye&384||!se&&Qe&16)&&De(we,mt,Vt),Zt&&ua(nt)}(Pn&&(er=Re&&Re.onVnodeUnmounted)||_n)&&mi(()=>{er&&Ts(er,mt,nt),_n&&Gl(nt,null,mt,"unmounted")},Vt)},ua=nt=>{const{type:mt,el:Vt,anchor:Zt,transition:se}=nt;if(mt===sr){Fa(Vt,Zt);return}if(mt===Iy){Gt(nt);return}const ye=()=>{p(Vt),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(nt.shapeFlag&1&&se&&!se.persisted){const{leave:Re,delayLeave:pe}=se,we=()=>Re(Vt,ye);pe?pe(nt.el,ye,we):we()}else ye()},Fa=(nt,mt)=>{let Vt;for(;nt!==mt;)Vt=W(nt),p(nt),nt=Vt;p(mt)},ee=(nt,mt,Vt)=>{const{bum:Zt,scope:se,update:ye,subTree:Re,um:pe}=nt;Zt&&Mu(Zt),se.stop(),ye&&(ye.active=!1,kr(Re,nt,mt,Vt)),pe&&mi(pe,mt),mi(()=>{nt.isUnmounted=!0},mt),mt&&mt.pendingBranch&&!mt.isUnmounted&&nt.asyncDep&&!nt.asyncResolved&&nt.suspenseId===mt.pendingId&&(mt.deps--,mt.deps===0&&mt.resolve())},De=(nt,mt,Vt,Zt=!1,se=!1,ye=0)=>{for(let Re=ye;Re<nt.length;Re++)kr(nt[Re],mt,Vt,Zt,se)},Te=nt=>nt.shapeFlag&6?Te(nt.component.subTree):nt.shapeFlag&128?nt.suspense.next():W(nt.anchor||nt.el),Ge=(nt,mt,Vt)=>{nt==null?mt._vnode&&kr(mt._vnode,null,null,!0):Tt(mt._vnode||null,nt,mt,null,null,null,Vt),p8(),$E(),mt._vnode=nt},Mn={p:Tt,um:kr,m:Zr,r:ua,mt:xr,mc:mn,pc:hn,pbc:Bn,n:Te,o:r};let Yn,yn;return a&&([Yn,yn]=a(Mn)),{render:Ge,hydrate:Yn,createApp:OJ(Ge,Yn)}}function Xl({effect:r,update:a},u){r.allowRecurse=a.allowRecurse=u}function fb(r,a,u=!1){const d=r.children,p=a.children;if(Tn(d)&&Tn(p))for(let _=0;_<d.length;_++){const v=d[_];let C=p[_];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=p[_]=Zo(p[_]),C.el=v.el),u||fb(v,C)),C.type===zp&&(C.el=v.el)}}function DJ(r){const a=r.slice(),u=[0];let d,p,_,v,C;const S=r.length;for(d=0;d<S;d++){const D=r[d];if(D!==0){if(p=u[u.length-1],r[p]<D){a[d]=p,u.push(d);continue}for(_=0,v=u.length-1;_<v;)C=_+v>>1,r[u[C]]<D?_=C+1:v=C;D<r[u[_]]&&(_>0&&(a[d]=u[_-1]),u[_]=d)}}for(_=u.length,v=u[_-1];_-- >0;)u[_]=v,v=a[v];return u}const IJ=r=>r.__isTeleport,Sd=r=>r&&(r.disabled||r.disabled===""),T8=r=>typeof SVGElement!="undefined"&&r instanceof SVGElement,f_=(r,a)=>{const u=r&&r.to;return Ir(u)?a?a(u):null:u},RJ={__isTeleport:!0,process(r,a,u,d,p,_,v,C,S,D){const{mc:E,pc:H,pbc:W,o:{insert:K,querySelector:ot,createText:Tt,createComment:Lt}}=D,Kt=Sd(a.props);let{shapeFlag:Pt,children:Nt,dynamicChildren:Gt}=a;if(r==null){const he=a.el=Tt(""),ae=a.anchor=Tt("");K(he,u,d),K(ae,u,d);const Be=a.target=f_(a.props,ot),mn=a.targetAnchor=Tt("");Be&&(K(mn,Be),v=v||T8(Be));const Rn=(Bn,Hn)=>{Pt&16&&E(Nt,Bn,Hn,p,_,v,C,S)};Kt?Rn(u,ae):Be&&Rn(Be,mn)}else{a.el=r.el;const he=a.anchor=r.anchor,ae=a.target=r.target,Be=a.targetAnchor=r.targetAnchor,mn=Sd(r.props),Rn=mn?u:ae,Bn=mn?he:Be;if(v=v||T8(ae),Gt?(W(r.dynamicChildren,Gt,Rn,p,_,v,C),fb(r,a,!0)):S||H(r,a,Rn,Bn,p,_,v,C,!1),Kt)mn||K0(a,u,he,D,1);else if((a.props&&a.props.to)!==(r.props&&r.props.to)){const Hn=a.target=f_(a.props,ot);Hn&&K0(a,Hn,null,D,0)}else mn&&K0(a,ae,Be,D,1)}a7(a)},remove(r,a,u,d,{um:p,o:{remove:_}},v){const{shapeFlag:C,children:S,anchor:D,targetAnchor:E,target:H,props:W}=r;if(H&&_(E),(v||!Sd(W))&&(_(D),C&16))for(let K=0;K<S.length;K++){const ot=S[K];p(ot,a,u,!0,!!ot.dynamicChildren)}},move:K0,hydrate:BJ};function K0(r,a,u,{o:{insert:d},m:p},_=2){_===0&&d(r.targetAnchor,a,u);const{el:v,anchor:C,shapeFlag:S,children:D,props:E}=r,H=_===2;if(H&&d(v,a,u),(!H||Sd(E))&&S&16)for(let W=0;W<D.length;W++)p(D[W],a,u,2);H&&d(C,a,u)}function BJ(r,a,u,d,p,_,{o:{nextSibling:v,parentNode:C,querySelector:S}},D){const E=a.target=f_(a.props,S);if(E){const H=E._lpa||E.firstChild;if(a.shapeFlag&16)if(Sd(a.props))a.anchor=D(v(r),a,C(r),u,d,p,_),a.targetAnchor=H;else{a.anchor=v(r);let W=H;for(;W;)if(W=v(W),W&&W.nodeType===8&&W.data==="teleport anchor"){a.targetAnchor=W,E._lpa=a.targetAnchor&&v(a.targetAnchor);break}D(H,a,E,u,d,p,_)}a7(a)}return a.anchor&&v(a.anchor)}const FJ=RJ;function a7(r){const a=r.ctx;if(a&&a.ut){let u=r.children[0].el;for(;u!==r.targetAnchor;)u.nodeType===1&&u.setAttribute("data-v-owner",a.uid),u=u.nextSibling;a.ut()}}const sr=Symbol(void 0),zp=Symbol(void 0),ol=Symbol(void 0),Iy=Symbol(void 0),Ad=[];let ra=null;function Mt(r=!1){Ad.push(ra=r?null:[])}function PJ(){Ad.pop(),ra=Ad[Ad.length-1]||null}let Ud=1;function E8(r){Ud+=r}function o7(r){return r.dynamicChildren=Ud>0?ra||Lu:null,PJ(),Ud>0&&ra&&ra.push(r),r}function Pe(r,a,u,d,p,_){return o7(w(r,a,u,d,p,_,!0))}function be(r,a,u,d,p){return o7(Ne(r,a,u,d,p,!0))}function gc(r){return r?r.__v_isVNode===!0:!1}function md(r,a){return r.type===a.type&&r.key===a.key}const Hp="__vInternal",l7=({key:r})=>r!=null?r:null,rp=({ref:r,ref_key:a,ref_for:u})=>r!=null?Ir(r)||or(r)||Dn(r)?{i:_i,r,k:a,f:!!u}:r:null;function w(r,a=null,u=null,d=0,p=null,_=r===sr?0:1,v=!1,C=!1){const S={__v_isVNode:!0,__v_skip:!0,type:r,props:a,key:a&&l7(a),ref:a&&rp(a),scopeId:Pp,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:_,patchFlag:d,dynamicProps:p,dynamicChildren:null,appContext:null,ctx:_i};return C?(pb(S,u),_&128&&r.normalize(S)):u&&(S.shapeFlag|=Ir(u)?8:16),Ud>0&&!v&&ra&&(S.patchFlag>0||_&6)&&S.patchFlag!==32&&ra.push(S),S}const Ne=VJ;function VJ(r,a=null,u=null,d=0,p=null,_=!1){if((!r||r===yJ)&&(r=ol),gc(r)){const C=mc(r,a,!0);return u&&pb(C,u),Ud>0&&!_&&ra&&(C.shapeFlag&6?ra[ra.indexOf(r)]=C:ra.push(C)),C.patchFlag|=-2,C}if(jJ(r)&&(r=r.__vccOpts),a){a=Je(a);let{class:C,style:S}=a;C&&!Ir(C)&&(a.class=Dr(C)),Er(S)&&(IE(S)&&!Tn(S)&&(S=Ui({},S)),a.style=Oi(S))}const v=Ir(r)?1:zE(r)?128:IJ(r)?64:Er(r)?4:Dn(r)?2:0;return w(r,a,u,d,p,v,_,!0)}function Je(r){return r?IE(r)||Hp in r?Ui({},r):r:null}function mc(r,a,u=!1){const{props:d,ref:p,patchFlag:_,children:v}=r,C=a?ii(d||{},a):d;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:C,key:C&&l7(C),ref:a&&a.ref?u&&p?Tn(p)?p.concat(rp(a)):[p,rp(a)]:rp(a):p,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:v,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:a&&r.type!==sr?_===-1?16:_|16:_,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&mc(r.ssContent),ssFallback:r.ssFallback&&mc(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx}}function P(r=" ",a=0){return Ne(zp,null,r,a)}function zn(r="",a=!1){return a?(Mt(),be(ol,null,r)):Ne(ol,null,r)}function Aa(r){return r==null||typeof r=="boolean"?Ne(ol):Tn(r)?Ne(sr,null,r.slice()):typeof r=="object"?Zo(r):Ne(zp,null,String(r))}function Zo(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:mc(r)}function pb(r,a){let u=0;const{shapeFlag:d}=r;if(a==null)a=null;else if(Tn(a))u=16;else if(typeof a=="object")if(d&65){const p=a.default;p&&(p._c&&(p._d=!1),pb(r,p()),p._c&&(p._d=!0));return}else{u=32;const p=a._;!p&&!(Hp in a)?a._ctx=_i:p===3&&_i&&(_i.slots._===1?a._=1:(a._=2,r.patchFlag|=1024))}else Dn(a)?(a={default:a,_ctx:_i},u=32):(a=String(a),d&64?(u=16,a=[P(a)]):u=8);r.children=a,r.shapeFlag|=u}function ii(...r){const a={};for(let u=0;u<r.length;u++){const d=r[u];for(const p in d)if(p==="class")a.class!==d.class&&(a.class=Dr([a.class,d.class]));else if(p==="style")a.style=Oi([a.style,d.style]);else if(Op(p)){const _=a[p],v=d[p];v&&_!==v&&!(Tn(_)&&_.includes(v))&&(a[p]=_?[].concat(_,v):v)}else p!==""&&(a[p]=d[p])}return a}function Ts(r,a,u,d=null){sa(r,a,7,[u,d])}const $J=s7();let YJ=0;function UJ(r,a,u){const d=r.type,p=(a?a.appContext:r.appContext)||$J,_={uid:YJ++,vnode:r,type:d,parent:a,appContext:p,root:null,next:null,subTree:null,effect:null,update:null,scope:new xE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(p.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:e7(d,p),emitsOptions:UE(d,p),emit:null,emitted:null,propsDefaults:br,inheritAttrs:d.inheritAttrs,ctx:br,data:br,props:br,attrs:br,slots:br,refs:br,setupState:br,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return _.ctx={_},_.root=a?a.root:_,_.emit=tJ.bind(null,_),r.ce&&r.ce(_),_}let hi=null;const Ra=()=>hi||_i,Pu=r=>{hi=r,r.scope.on()},hc=()=>{hi&&hi.scope.off(),hi=null};function c7(r){return r.vnode.shapeFlag&4}let zd=!1;function zJ(r,a=!1){zd=a;const{props:u,children:d}=r.vnode,p=c7(r);TJ(r,u,p,a),SJ(r,d);const _=p?HJ(r,a):void 0;return zd=!1,_}function HJ(r,a){const u=r.type;r.accessCache=Object.create(null),r.proxy=Rp(new Proxy(r.ctx,_J));const{setup:d}=u;if(d){const p=r.setupContext=d.length>1?h7(r):null;Pu(r),Uu();const _=el(d,r,0,[r.props,p]);if(zu(),hc(),_E(_)){if(_.then(hc,hc),a)return _.then(v=>{C8(r,v,a)}).catch(v=>{Bp(v,r,0)});r.asyncDep=_}else C8(r,_,a)}else u7(r,a)}function C8(r,a,u){Dn(a)?r.type.__ssrInlineRender?r.ssrRender=a:r.render=a:Er(a)&&(r.setupState=BE(a)),u7(r,u)}let S8;function u7(r,a,u){const d=r.type;if(!r.render){if(!a&&S8&&!d.render){const p=d.template||hb(r).template;if(p){const{isCustomElement:_,compilerOptions:v}=r.appContext.config,{delimiters:C,compilerOptions:S}=d,D=Ui(Ui({isCustomElement:_,delimiters:C},v),S);d.render=S8(p,D)}}r.render=d.render||ia}Pu(r),Uu(),bJ(r),zu(),hc()}function WJ(r){return new Proxy(r.attrs,{get(a,u){return ps(r,"get","$attrs"),a[u]}})}function h7(r){const a=d=>{r.exposed=d||{}};let u;return{get attrs(){return u||(u=WJ(r))},slots:r.slots,emit:r.emit,expose:a}}function Wp(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(BE(Rp(r.exposed)),{get(a,u){if(u in a)return a[u];if(u in Cd)return Cd[u](r)},has(a,u){return u in a||u in Cd}}))}function p_(r,a=!0){return Dn(r)?r.displayName||r.name:r.name||a&&r.__name}function jJ(r){return Dn(r)&&"__vccOpts"in r}const Qt=(r,a)=>GQ(r,a,zd);function qJ(){return GJ().slots}function GJ(){const r=Ra();return r.setupContext||(r.setupContext=h7(r))}function Ai(r,a,u){const d=arguments.length;return d===2?Er(a)&&!Tn(a)?gc(a)?Ne(r,null,[a]):Ne(r,a):Ne(r,null,a):(d>3?u=Array.prototype.slice.call(arguments,2):d===3&&gc(u)&&(u=[u]),Ne(r,a,u))}const XJ=Symbol(""),KJ=()=>le(XJ),ZJ="3.2.45",QJ="http://www.w3.org/2000/svg",nc=typeof document!="undefined"?document:null,A8=nc&&nc.createElement("template"),JJ={insert:(r,a,u)=>{a.insertBefore(r,u||null)},remove:r=>{const a=r.parentNode;a&&a.removeChild(r)},createElement:(r,a,u,d)=>{const p=a?nc.createElementNS(QJ,r):nc.createElement(r,u?{is:u}:void 0);return r==="select"&&d&&d.multiple!=null&&p.setAttribute("multiple",d.multiple),p},createText:r=>nc.createTextNode(r),createComment:r=>nc.createComment(r),setText:(r,a)=>{r.nodeValue=a},setElementText:(r,a)=>{r.textContent=a},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>nc.querySelector(r),setScopeId(r,a){r.setAttribute(a,"")},insertStaticContent(r,a,u,d,p,_){const v=u?u.previousSibling:a.lastChild;if(p&&(p===_||p.nextSibling))for(;a.insertBefore(p.cloneNode(!0),u),!(p===_||!(p=p.nextSibling)););else{A8.innerHTML=d?`<svg>${r}</svg>`:r;const C=A8.content;if(d){const S=C.firstChild;for(;S.firstChild;)C.appendChild(S.firstChild);C.removeChild(S)}a.insertBefore(C,u)}return[v?v.nextSibling:a.firstChild,u?u.previousSibling:a.lastChild]}};function ttt(r,a,u){const d=r._vtc;d&&(a=(a?[a,...d]:[...d]).join(" ")),a==null?r.removeAttribute("class"):u?r.setAttribute("class",a):r.className=a}function ett(r,a,u){const d=r.style,p=Ir(u);if(u&&!p){for(const _ in u)g_(d,_,u[_]);if(a&&!Ir(a))for(const _ in a)u[_]==null&&g_(d,_,"")}else{const _=d.display;p?a!==u&&(d.cssText=u):a&&r.removeAttribute("style"),"_vod"in r&&(d.display=_)}}const L8=/\s*!important$/;function g_(r,a,u){if(Tn(u))u.forEach(d=>g_(r,a,d));else if(u==null&&(u=""),a.startsWith("--"))r.setProperty(a,u);else{const d=ntt(r,a);L8.test(u)?r.setProperty(yc(d),u.replace(L8,""),"important"):r[d]=u}}const O8=["Webkit","Moz","ms"],Ry={};function ntt(r,a){const u=Ry[a];if(u)return u;let d=Da(a);if(d!=="filter"&&d in r)return Ry[a]=d;d=Dp(d);for(let p=0;p<O8.length;p++){const _=O8[p]+d;if(_ in r)return Ry[a]=_}return a}const M8="http://www.w3.org/1999/xlink";function rtt(r,a,u,d,p){if(d&&a.startsWith("xlink:"))u==null?r.removeAttributeNS(M8,a.slice(6,a.length)):r.setAttributeNS(M8,a,u);else{const _=iQ(a);u==null||_&&!gE(u)?r.removeAttribute(a):r.setAttribute(a,_?"":u)}}function itt(r,a,u,d,p,_,v){if(a==="innerHTML"||a==="textContent"){d&&v(d,p,_),r[a]=u==null?"":u;return}if(a==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=u;const S=u==null?"":u;(r.value!==S||r.tagName==="OPTION")&&(r.value=S),u==null&&r.removeAttribute(a);return}let C=!1;if(u===""||u==null){const S=typeof r[a];S==="boolean"?u=gE(u):u==null&&S==="string"?(u="",C=!0):S==="number"&&(u=0,C=!0)}try{r[a]=u}catch{}C&&r.removeAttribute(a)}function Eu(r,a,u,d){r.addEventListener(a,u,d)}function stt(r,a,u,d){r.removeEventListener(a,u,d)}function att(r,a,u,d,p=null){const _=r._vei||(r._vei={}),v=_[a];if(d&&v)v.value=d;else{const[C,S]=ott(a);if(d){const D=_[a]=utt(d,p);Eu(r,C,D,S)}else v&&(stt(r,C,v,S),_[a]=void 0)}}const N8=/(?:Once|Passive|Capture)$/;function ott(r){let a;if(N8.test(r)){a={};let d;for(;d=r.match(N8);)r=r.slice(0,r.length-d[0].length),a[d[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):yc(r.slice(2)),a]}let By=0;const ltt=Promise.resolve(),ctt=()=>By||(ltt.then(()=>By=0),By=Date.now());function utt(r,a){const u=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=u.attached)return;sa(htt(d,u.value),a,5,[d])};return u.value=r,u.attached=ctt(),u}function htt(r,a){if(Tn(a)){const u=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{u.call(r),r._stopped=!0},a.map(d=>p=>!p._stopped&&d&&d(p))}else return a}const D8=/^on[a-z]/,dtt=(r,a,u,d,p=!1,_,v,C,S)=>{a==="class"?ttt(r,d,p):a==="style"?ett(r,u,d):Op(a)?j_(a)||att(r,a,u,d,v):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):ftt(r,a,d,p))?itt(r,a,d,_,v,C,S):(a==="true-value"?r._trueValue=d:a==="false-value"&&(r._falseValue=d),rtt(r,a,d,p))};function ftt(r,a,u,d){return d?!!(a==="innerHTML"||a==="textContent"||a in r&&D8.test(a)&&Dn(u)):a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&r.tagName==="INPUT"||a==="type"&&r.tagName==="TEXTAREA"||D8.test(a)&&Ir(u)?!1:a in r}const I8=r=>{const a=r.props["onUpdate:modelValue"]||!1;return Tn(a)?u=>Mu(a,u):a};function ptt(r){r.target.composing=!0}function R8(r){const a=r.target;a.composing&&(a.composing=!1,a.dispatchEvent(new Event("input")))}const gtt={created(r,{modifiers:{lazy:a,trim:u,number:d}},p){r._assign=I8(p);const _=d||p.props&&p.props.type==="number";Eu(r,a?"change":"input",v=>{if(v.target.composing)return;let C=r.value;u&&(C=C.trim()),_&&(C=fp(C)),r._assign(C)}),u&&Eu(r,"change",()=>{r.value=r.value.trim()}),a||(Eu(r,"compositionstart",ptt),Eu(r,"compositionend",R8),Eu(r,"change",R8))},mounted(r,{value:a}){r.value=a==null?"":a},beforeUpdate(r,{value:a,modifiers:{lazy:u,trim:d,number:p}},_){if(r._assign=I8(_),r.composing||document.activeElement===r&&r.type!=="range"&&(u||d&&r.value.trim()===a||(p||r.type==="number")&&fp(r.value)===a))return;const v=a==null?"":a;r.value!==v&&(r.value=v)}},mtt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},B8=(r,a)=>u=>{if(!("key"in u))return;const d=yc(u.key);if(a.some(p=>p===d||mtt[p]===d))return r(u)},d7={beforeMount(r,{value:a},{transition:u}){r._vod=r.style.display==="none"?"":r.style.display,u&&a?u.beforeEnter(r):yd(r,a)},mounted(r,{value:a},{transition:u}){u&&a&&u.enter(r)},updated(r,{value:a,oldValue:u},{transition:d}){!a!=!u&&(d?a?(d.beforeEnter(r),yd(r,!0),d.enter(r)):d.leave(r,()=>{yd(r,!1)}):yd(r,a))},beforeUnmount(r,{value:a}){yd(r,a)}};function yd(r,a){r.style.display=a?r._vod:"none"}const ytt=Ui({patchProp:dtt},JJ);let F8;function _tt(){return F8||(F8=MJ(ytt))}const btt=(...r)=>{const a=_tt().createApp(...r),{mount:u}=a;return a.mount=d=>{const p=vtt(d);if(!p)return;const _=a._component;!Dn(_)&&!_.render&&!_.template&&(_.template=p.innerHTML),p.innerHTML="";const v=u(p,!1,p instanceof SVGElement);return p instanceof Element&&(p.removeAttribute("v-cloak"),p.setAttribute("data-v-app","")),v},a};function vtt(r){return Ir(r)?document.querySelector(r):r}var f7="usehead",P8="head:count",Fy="data-head-attrs",p7="data-meta-body",xtt=(r,a,u)=>{const d=u.createElement(r);for(const p of Object.keys(a))if(p==="body"&&a.body===!0)d.setAttribute(p7,"true");else{let _=a[p];if(p==="renderPriority"||p==="key"||_===!1)continue;p==="children"?d.textContent=_:d.setAttribute(p,_)}return d};function V8(r,a){if(r instanceof HTMLElement&&a instanceof HTMLElement){const u=a.getAttribute("nonce");if(u&&!r.getAttribute("nonce")){const d=a.cloneNode(!0);return d.setAttribute("nonce",""),d.nonce=u,u===r.nonce&&r.isEqualNode(d)}}return r.isEqualNode(a)}var ktt=r=>{if(!["meta","base","script","link"].includes(r.tag))return!1;const{props:a,tag:u}=r;if(u==="base")return"base";if(u==="link"&&a.rel==="canonical")return"canonical";if(a.charset)return"charset";const d=["key","id","name","property","http-equiv"];for(const p of d){let _;if(typeof a.getAttribute=="function"&&a.hasAttribute(p)?_=a.getAttribute(p):_=a[p],_!==void 0)return`${u}-${p}-${_}`}return!1},wtt=()=>{const r=le(f7);if(!r)throw new Error("You may forget to apply app.use(head)");return r},Ttt=["title","meta","link","base","style","script","noscript","htmlAttrs","bodyAttrs"],Ett=(r,a)=>r==null?"":typeof r=="string"?r.replace("%s",a!=null?a:""):r(St(a)),Ctt=r=>{const a=[],u=Object.keys(r);for(const d of u)if(r[d]!=null)switch(d){case"title":a.push({tag:d,props:{children:r[d]}});break;case"titleTemplate":break;case"base":a.push({tag:d,props:{key:"default",...r[d]}});break;default:if(Ttt.includes(d)){const p=r[d];Array.isArray(p)?p.forEach(_=>{a.push({tag:d,props:St(_)})}):p&&a.push({tag:d,props:p})}break}return a},$8=(r,a)=>{const u=r.getAttribute(Fy);if(u)for(const p of u.split(","))p in a||r.removeAttribute(p);const d=[];for(const p in a){const _=a[p];_!=null&&(_===!1?r.removeAttribute(p):r.setAttribute(p,_),d.push(p))}d.length?r.setAttribute(Fy,d.join(",")):r.removeAttribute(Fy)},Stt=(r=window.document,a,u)=>{var d,p;const _=r.head,v=r.body;let C=_.querySelector(`meta[name="${P8}"]`),S=v.querySelectorAll(`[${p7}]`);const D=C?Number(C.getAttribute("content")):0,E=[],H=[];if(S)for(let K=0;K<S.length;K++)S[K]&&((d=S[K].tagName)==null?void 0:d.toLowerCase())===a&&H.push(S[K]);if(C)for(let K=0,ot=C.previousElementSibling;K<D;K++,ot=(ot==null?void 0:ot.previousElementSibling)||null)((p=ot==null?void 0:ot.tagName)==null?void 0:p.toLowerCase())===a&&E.push(ot);else C=r.createElement("meta"),C.setAttribute("name",P8),C.setAttribute("content","0"),_.append(C);let W=u.map(K=>{var ot;return{element:xtt(K.tag,K.props,r),body:(ot=K.props.body)!=null?ot:!1}});W=W.filter(K=>{for(let ot=0;ot<E.length;ot++){const Tt=E[ot];if(V8(Tt,K.element))return E.splice(ot,1),!1}for(let ot=0;ot<H.length;ot++){const Tt=H[ot];if(V8(Tt,K.element))return H.splice(ot,1),!1}return!0}),H.forEach(K=>{var ot;return(ot=K.parentNode)==null?void 0:ot.removeChild(K)}),E.forEach(K=>{var ot;return(ot=K.parentNode)==null?void 0:ot.removeChild(K)}),W.forEach(K=>{K.body===!0?v.insertAdjacentElement("beforeend",K.element):_.insertBefore(K.element,C)}),C.setAttribute("content",""+(D-E.length+W.filter(K=>!K.body).length))},Att=r=>{let a=[],u=new Set;r&&a.push(oa(r));const d={install(p){p.config.globalProperties.$head=d,p.provide(f7,d)},get headTags(){const p=[],_={},v=a.map(C=>St(C).titleTemplate).reverse().find(C=>C!=null);return a.forEach((C,S)=>{Ctt(St(C)).forEach((E,H)=>{E._position=S*1e4+H,v&&E.tag==="title"&&(E.props.children=Ett(v,E.props.children));const W=ktt(E);W?_[W]=E:p.push(E)})}),p.push(...Object.values(_)),p.sort((C,S)=>C._position-S._position)},addHeadObjs(p){a.push(p)},removeHeadObjs(p){a=a.filter(_=>_!==p)},updateDOM(p=window.document){let _,v={},C={};const S={};for(const E of d.headTags.sort(Mtt)){if(E.tag==="title"){_=E.props.children;continue}if(E.tag==="htmlAttrs"){Object.assign(v,E.props);continue}if(E.tag==="bodyAttrs"){Object.assign(C,E.props);continue}S[E.tag]=S[E.tag]||[],S[E.tag].push(E)}_!==void 0&&(p.title=_),$8(p.documentElement,v),$8(p.body,C);const D=new Set([...Object.keys(S),...u]);for(const E of D)Stt(p,E,S[E]||[]);u.clear(),Object.keys(S).forEach(E=>u.add(E))}};return d},Ltt=typeof window!="undefined",Ott=r=>{const a=wtt(),u=Se(r);a.addHeadObjs(u),Ltt&&(al(()=>{a.updateDOM()}),$p(()=>{a.removeHeadObjs(u),a.updateDOM()}))},Mtt=(r,a)=>{const u=d=>{if(d.props.renderPriority)return d.props.renderPriority;switch(d.tag){case"base":return-1;case"meta":return d.props.charset?-2:d.props["http-equiv"]==="content-security-policy"?0:10;default:return 10}};return u(r)-u(a)};const Ld=Symbol("v-click-clicks"),rc=Symbol("v-click-clicks-elements"),m_=Symbol("v-click-clicks-order-map"),Od=Symbol("v-click-clicks-disabled"),g7=Symbol("slidev-slide-scale"),ve=Symbol("slidev-slidev-context"),Ntt=Symbol("slidev-route"),Dtt=Symbol("slidev-slide-context"),tc="slidev-vclick-target",Py="slidev-vclick-hidden",Itt="slidev-vclick-fade",Vy="slidev-vclick-hidden-explicitly",_d="slidev-vclick-current",Z0="slidev-vclick-prior";function Rtt(r){return r=r||[],Array.isArray(r)?r:[r]}function y_(r,a){if(!r)return!1;const u=r.indexOf(a);return u>=0?(r.splice(u,1),!0):!1}function Btt(...r){let a,u,d;r.length===1?(a=0,d=1,[u]=r):[a,u,d=1]=r;const p=[];let _=a;for(;_<u;)p.push(_),_+=d||1;return p}function Ftt(r){return r!=null}function Ptt(r,a){return Object.fromEntries(Object.entries(r).map(([u,d])=>a(u,d)).filter(Ftt))}function Y8(r){return Object.keys(r).forEach(a=>r[a]===void 0?delete r[a]:{}),r}var ac={theme:"eloc",title:"Programming with Algebras",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,info:!1,highlighter:"prism",lineNumbers:!1,colorSchema:"auto",routerMode:"hash",aspectRatio:1.7777777777777777,canvasWidth:1580,exportFilename:"",selectable:!0,themeConfig:{},fonts:{sans:["ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Fira Code"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"windicss"};const Jn=ac;var fE;const nl=(fE=Jn.aspectRatio)!=null?fE:16/9;var pE;const dc=(pE=Jn.canvasWidth)!=null?pE:980,m7=Math.round(dc/nl),y7=Qt(()=>Ptt(Jn.themeConfig||{},(r,a)=>[`--slidev-theme-${r}`,a]));function Cs(r,a,u){Object.defineProperty(r,a,{value:u,writable:!0,enumerable:!1})}const bc=vr({page:0,clicks:0});let Vtt=[],$tt=[];Cs(bc,"$syncUp",!0);Cs(bc,"$syncDown",!0);Cs(bc,"$paused",!1);Cs(bc,"$onSet",r=>Vtt.push(r));Cs(bc,"$onPatch",r=>$tt.push(r));Cs(bc,"$patch",async()=>!1);function _7(r,a,u=!1){const d=[];let p=!1,_=!1,v,C;const S=vr(a);function D(K){d.push(K)}function E(K,ot){clearTimeout(v),p=!0,S[K]=ot,v=setTimeout(()=>p=!1,0)}function H(K){p||(clearTimeout(C),_=!0,Object.entries(K).forEach(([ot,Tt])=>{S[ot]=Tt}),C=setTimeout(()=>_=!1,0))}function W(K){let ot;u?u&&window.addEventListener("storage",Lt=>{Lt&&Lt.key===K&&Lt.newValue&&H(JSON.parse(Lt.newValue))}):(ot=new BroadcastChannel(K),ot.addEventListener("message",Lt=>H(Lt.data)));function Tt(){!u&&ot&&!_?ot.postMessage(tr(S)):u&&!_&&window.localStorage.setItem(K,JSON.stringify(S)),p||d.forEach(Lt=>Lt(S))}if(Vn(S,Tt,{deep:!0}),u){const Lt=window.localStorage.getItem(K);Lt&&H(JSON.parse(Lt))}}return{init:W,onPatch:D,patch:E,state:S}}const{init:Ytt,onPatch:Utt,patch:U8,state:$y}=_7(bc,{page:1,clicks:0}),vc=vr({});let ztt=[],Htt=[];Cs(vc,"$syncUp",!0);Cs(vc,"$syncDown",!0);Cs(vc,"$paused",!1);Cs(vc,"$onSet",r=>ztt.push(r));Cs(vc,"$onPatch",r=>Htt.push(r));Cs(vc,"$patch",async()=>!1);const{init:Wtt,onPatch:jtt,patch:b7,state:_p}=_7(vc,{},!1),qtt="modulepreload",z8={},Gtt="/slides/presentations/programming_with_algebra/",Hu=function(a,u){return!u||u.length===0?a():Promise.all(u.map(d=>{if(d=`${Gtt}${d}`,d in z8)return;z8[d]=!0;const p=d.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":qtt,p||(v.as="script",v.crossOrigin=""),v.href=d,document.head.appendChild(v),p)return new Promise((C,S)=>{v.addEventListener("load",C),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>a())};var H8;const Qi=typeof window!="undefined",Xtt=r=>typeof r!="undefined",Ktt=Object.prototype.toString,v7=r=>typeof r=="string",Ztt=r=>Ktt.call(r)==="[object Object]",__=()=>+Date.now(),ip=()=>{};Qi&&((H8=window==null?void 0:window.navigator)==null?void 0:H8.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Qtt(r,a){function u(...d){r(()=>a.apply(this,d),{fn:a,thisArg:this,args:d})}return u}const x7=r=>r();function Jtt(r=x7){const a=Se(!0);function u(){a.value=!1}function d(){a.value=!0}return{isActive:a,pause:u,resume:d,eventFilter:(..._)=>{a.value&&r(..._)}}}function tet(r,a){var u;if(typeof r=="number")return r+a;const d=((u=r.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:u[0])||"",p=r.slice(d.length),_=parseFloat(d)+a;return Number.isNaN(_)?r:_+p}function ll(r){return kE()?(wE(r),!0):!1}function ei(...r){return Qt(()=>r.every(a=>St(a)))}function ls(r){return Qt(()=>!St(r))}function eet(r){if(!or(r))return vr(r);const a=new Proxy({},{get(u,d,p){return St(Reflect.get(r.value,d,p))},set(u,d,p){return or(r.value[d])&&!or(p)?r.value[d].value=p:r.value[d]=p,!0},deleteProperty(u,d){return Reflect.deleteProperty(r.value,d)},has(u,d){return Reflect.has(r.value,d)},ownKeys(){return Object.keys(r.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return vr(a)}var net=Object.defineProperty,ret=Object.defineProperties,iet=Object.getOwnPropertyDescriptors,W8=Object.getOwnPropertySymbols,set=Object.prototype.hasOwnProperty,aet=Object.prototype.propertyIsEnumerable,j8=(r,a,u)=>a in r?net(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,oet=(r,a)=>{for(var u in a||(a={}))set.call(a,u)&&j8(r,u,a[u]);if(W8)for(var u of W8(a))aet.call(a,u)&&j8(r,u,a[u]);return r},cet=(r,a)=>ret(r,iet(a));function uet(r){if(!or(r))return HQ(r);const a=Array.isArray(r.value)?new Array(r.value.length):{};for(const u in r.value)a[u]=zQ(()=>({get(){return r.value[u]},set(d){if(Array.isArray(r.value)){const p=[...r.value];p[u]=d,r.value=p}else{const p=cet(oet({},r.value),{[u]:d});Object.setPrototypeOf(p,r.value),r.value=p}}}));return a}function het(r,a=!0){Ra()?XE(r):a?r():yi(r)}function det(r,a=!0){Ra()?_c(r):a?r():yi(r)}function fet(r,a=1e3,u={}){const{immediate:d=!0,immediateCallback:p=!1}=u;let _=null;const v=Se(!1);function C(){_&&(clearInterval(_),_=null)}function S(){v.value=!1,C()}function D(){St(a)<=0||(v.value=!0,p&&r(),C(),_=setInterval(r,St(a)))}if(d&&Qi&&D(),or(a)){const E=Vn(a,()=>{v.value&&Qi&&D()});ll(E)}return ll(S),{isActive:v,pause:S,resume:D}}function pet(r,a,u={}){const{immediate:d=!0}=u,p=Se(!1);let _=null;function v(){_&&(clearTimeout(_),_=null)}function C(){p.value=!1,v()}function S(...D){v(),p.value=!0,_=setTimeout(()=>{p.value=!1,_=null,r(...D)},St(a))}return d&&(p.value=!0,Qi&&S()),ll(C),{isPending:p,start:S,stop:C}}function k7(r=!1,a={}){const{truthyValue:u=!0,falsyValue:d=!1}=a,p=or(r),_=Se(r);function v(C){return arguments.length?(_.value=C,_.value):(_.value=_.value===St(u)?St(d):St(u),_.value)}return p?v:[_,v]}var q8=Object.getOwnPropertySymbols,get=Object.prototype.hasOwnProperty,met=Object.prototype.propertyIsEnumerable,yet=(r,a)=>{var u={};for(var d in r)get.call(r,d)&&a.indexOf(d)<0&&(u[d]=r[d]);if(r!=null&&q8)for(var d of q8(r))a.indexOf(d)<0&&met.call(r,d)&&(u[d]=r[d]);return u};function _et(r,a,u={}){const d=u,{eventFilter:p=x7}=d,_=yet(d,["eventFilter"]);return Vn(r,Qtt(p,a),_)}var bet=Object.defineProperty,vet=Object.defineProperties,xet=Object.getOwnPropertyDescriptors,bp=Object.getOwnPropertySymbols,w7=Object.prototype.hasOwnProperty,T7=Object.prototype.propertyIsEnumerable,G8=(r,a,u)=>a in r?bet(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,ket=(r,a)=>{for(var u in a||(a={}))w7.call(a,u)&&G8(r,u,a[u]);if(bp)for(var u of bp(a))T7.call(a,u)&&G8(r,u,a[u]);return r},wet=(r,a)=>vet(r,xet(a)),Tet=(r,a)=>{var u={};for(var d in r)w7.call(r,d)&&a.indexOf(d)<0&&(u[d]=r[d]);if(r!=null&&bp)for(var d of bp(r))a.indexOf(d)<0&&T7.call(r,d)&&(u[d]=r[d]);return u};function Eet(r,a,u={}){const d=u,{eventFilter:p}=d,_=Tet(d,["eventFilter"]),{eventFilter:v,pause:C,resume:S,isActive:D}=Jtt(p);return{stop:_et(r,a,wet(ket({},_),{eventFilter:v})),pause:C,resume:S,isActive:D}}function ko(r){var a;const u=St(r);return(a=u==null?void 0:u.$el)!=null?a:u}const zi=Qi?window:void 0,Cet=Qi?window.document:void 0,Aet=Qi?window.navigator:void 0;function ar(...r){let a,u,d,p;if(v7(r[0])?([u,d,p]=r,a=zi):[a,u,d,p]=r,!a)return ip;let _=ip;const v=Vn(()=>ko(a),S=>{_(),S&&(S.addEventListener(u,d,p),_=()=>{S.removeEventListener(u,d,p),_=ip})},{immediate:!0,flush:"post"}),C=()=>{v(),_()};return ll(C),C}function Let(r,a,u={}){const{window:d=zi,ignore:p,capture:_=!0,detectIframe:v=!1}=u;if(!d)return;const C=Se(!0);let S;const D=W=>{d.clearTimeout(S);const K=ko(r),ot=W.composedPath();!K||K===W.target||ot.includes(K)||!C.value||p&&p.length>0&&p.some(Tt=>{const Lt=ko(Tt);return Lt&&(W.target===Lt||ot.includes(Lt))})||a(W)},E=[ar(d,"click",D,{passive:!0,capture:_}),ar(d,"pointerdown",W=>{const K=ko(r);C.value=!!K&&!W.composedPath().includes(K)},{passive:!0}),ar(d,"pointerup",W=>{if(W.button===0){const K=W.composedPath();W.composedPath=()=>K,S=d.setTimeout(()=>D(W),50)}},{passive:!0}),v&&ar(d,"blur",W=>{var K;const ot=ko(r);((K=document.activeElement)==null?void 0:K.tagName)==="IFRAME"&&!(ot!=null&&ot.contains(document.activeElement))&&a(W)})].filter(Boolean);return()=>E.forEach(W=>W())}const Oet=r=>typeof r=="function"?r:typeof r=="string"?a=>a.key===r:Array.isArray(r)?a=>r.includes(a.key):r?()=>!0:()=>!1;function Met(r,a,u={}){const{target:d=zi,eventName:p="keydown",passive:_=!1}=u,v=Oet(r);return ar(d,p,S=>{v(S)&&a(S)},_)}function Net(r={}){const{window:a=zi}=r,u=Se(0);return a&&(ar(a,"blur",()=>u.value+=1,!0),ar(a,"focus",()=>u.value+=1,!0)),Qt(()=>(u.value,a==null?void 0:a.document.activeElement))}function sp(r,a={}){const{window:u=zi}=a,d=Boolean(u&&"matchMedia"in u&&typeof u.matchMedia=="function");let p;const _=Se(!1),v=()=>{!d||(p||(p=u.matchMedia(r)),_.value=p.matches)};return het(()=>{v(),p&&("addEventListener"in p?p.addEventListener("change",v):p.addListener(v),ll(()=>{"removeEventListener"in p?p.removeEventListener("change",v):p.removeListener(v)}))}),_}const Det={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var Iet=Object.defineProperty,X8=Object.getOwnPropertySymbols,Ret=Object.prototype.hasOwnProperty,Bet=Object.prototype.propertyIsEnumerable,K8=(r,a,u)=>a in r?Iet(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,Fet=(r,a)=>{for(var u in a||(a={}))Ret.call(a,u)&&K8(r,u,a[u]);if(X8)for(var u of X8(a))Bet.call(a,u)&&K8(r,u,a[u]);return r};function Pet(r,a={}){function u(C,S){let D=r[C];return S!=null&&(D=tet(D,S)),typeof D=="number"&&(D=`${D}px`),D}const{window:d=zi}=a;function p(C){return d?d.matchMedia(C).matches:!1}const _=C=>sp(`(min-width: ${u(C)})`,a),v=Object.keys(r).reduce((C,S)=>(Object.defineProperty(C,S,{get:()=>_(S),enumerable:!0,configurable:!0}),C),{});return Fet({greater:_,smaller(C){return sp(`(max-width: ${u(C,-.1)})`,a)},between(C,S){return sp(`(min-width: ${u(C)}) and (max-width: ${u(S,-.1)})`,a)},isGreater(C){return p(`(min-width: ${u(C)})`)},isSmaller(C){return p(`(max-width: ${u(C,-.1)})`)},isInBetween(C,S){return p(`(min-width: ${u(C)}) and (max-width: ${u(S,-.1)})`)}},v)}function Vet(r={}){const{navigator:a=Aet,read:u=!1,source:d,copiedDuring:p=1500}=r,_=["copy","cut"],v=Boolean(a&&"clipboard"in a),C=Se(""),S=Se(!1),D=pet(()=>S.value=!1,p);function E(){a.clipboard.readText().then(W=>{C.value=W})}if(v&&u)for(const W of _)ar(W,E);async function H(W=St(d)){v&&W!=null&&(await a.clipboard.writeText(W),C.value=W,S.value=!0,D.start())}return{isSupported:v,text:C,copied:S,copy:H}}const b_=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},v_="__vueuse_ssr_handlers__";b_[v_]=b_[v_]||{};const $et=b_[v_];function Yet(r,a){return $et[r]||a}function Uet(r){return r==null?"any":r instanceof Set?"set":r instanceof Map?"map":r instanceof Date?"date":typeof r=="boolean"?"boolean":typeof r=="string"?"string":typeof r=="object"||Array.isArray(r)?"object":Number.isNaN(r)?"any":"number"}const zet={boolean:{read:r=>r==="true",write:r=>String(r)},object:{read:r=>JSON.parse(r),write:r=>JSON.stringify(r)},number:{read:r=>Number.parseFloat(r),write:r=>String(r)},any:{read:r=>r,write:r=>String(r)},string:{read:r=>r,write:r=>String(r)},map:{read:r=>new Map(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r.entries()))},set:{read:r=>new Set(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r))},date:{read:r=>new Date(r),write:r=>r.toISOString()}};function ca(r,a,u,d={}){var p;const{flush:_="pre",deep:v=!0,listenToStorageChanges:C=!0,writeDefaults:S=!0,shallow:D,window:E=zi,eventFilter:H,onError:W=ae=>{console.error(ae)}}=d,K=(D?oa:Se)(a);if(!u)try{u=Yet("getDefaultStorage",()=>{var ae;return(ae=zi)==null?void 0:ae.localStorage})()}catch(ae){W(ae)}if(!u)return K;const ot=St(a),Tt=Uet(ot),Lt=(p=d.serializer)!=null?p:zet[Tt],{pause:Kt,resume:Pt}=Eet(K,()=>Nt(K.value),{flush:_,deep:v,eventFilter:H});return E&&C&&ar(E,"storage",he),he(),K;function Nt(ae){try{ae==null?u.removeItem(r):u.setItem(r,Lt.write(ae))}catch(Be){W(Be)}}function Gt(ae){if(!(ae&&ae.key!==r)){Kt();try{const Be=ae?ae.newValue:u.getItem(r);return Be==null?(S&&ot!==null&&u.setItem(r,Lt.write(ot)),ot):typeof Be!="string"?Be:Lt.read(Be)}catch(Be){W(Be)}finally{Pt()}}}function he(ae){ae&&ae.key!==r||(K.value=Gt(ae))}}function Het(r){return sp("(prefers-color-scheme: dark)",r)}var Wet=Object.defineProperty,jet=Object.defineProperties,qet=Object.getOwnPropertyDescriptors,Z8=Object.getOwnPropertySymbols,Get=Object.prototype.hasOwnProperty,Xet=Object.prototype.propertyIsEnumerable,Q8=(r,a,u)=>a in r?Wet(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,Ket=(r,a)=>{for(var u in a||(a={}))Get.call(a,u)&&Q8(r,u,a[u]);if(Z8)for(var u of Z8(a))Xet.call(a,u)&&Q8(r,u,a[u]);return r},Zet=(r,a)=>jet(r,qet(a));function bmt(r,a={}){var u,d;const p=(u=a.draggingElement)!=null?u:zi,_=Se((d=a.initialValue)!=null?d:{x:0,y:0}),v=Se(),C=W=>a.pointerTypes?a.pointerTypes.includes(W.pointerType):!0,S=W=>{St(a.preventDefault)&&W.preventDefault(),St(a.stopPropagation)&&W.stopPropagation()},D=W=>{var K;if(!C(W)||St(a.exact)&&W.target!==St(r))return;const ot=St(r).getBoundingClientRect(),Tt={x:W.pageX-ot.left,y:W.pageY-ot.top};((K=a.onStart)==null?void 0:K.call(a,Tt,W))!==!1&&(v.value=Tt,S(W))},E=W=>{var K;!C(W)||!v.value||(_.value={x:W.pageX-v.value.x,y:W.pageY-v.value.y},(K=a.onMove)==null||K.call(a,_.value,W),S(W))},H=W=>{var K;!C(W)||!v.value||(v.value=void 0,(K=a.onEnd)==null||K.call(a,_.value,W),S(W))};return Qi&&(ar(r,"pointerdown",D,!0),ar(p,"pointermove",E,!0),ar(p,"pointerup",H,!0)),Zet(Ket({},uet(_)),{position:_,isDragging:Qt(()=>!!v.value),style:Qt(()=>`left:${_.value.x}px;top:${_.value.y}px;`)})}var J8=Object.getOwnPropertySymbols,Qet=Object.prototype.hasOwnProperty,Jet=Object.prototype.propertyIsEnumerable,tnt=(r,a)=>{var u={};for(var d in r)Qet.call(r,d)&&a.indexOf(d)<0&&(u[d]=r[d]);if(r!=null&&J8)for(var d of J8(r))a.indexOf(d)<0&&Jet.call(r,d)&&(u[d]=r[d]);return u};function ent(r,a,u={}){const d=u,{window:p=zi}=d,_=tnt(d,["window"]);let v;const C=p&&"ResizeObserver"in p,S=()=>{v&&(v.disconnect(),v=void 0)},D=Vn(()=>ko(r),H=>{S(),C&&p&&H&&(v=new ResizeObserver(a),v.observe(H,_))},{immediate:!0,flush:"post"}),E=()=>{S(),D()};return ll(E),{isSupported:C,stop:E}}function E7(r,a={}){const{immediate:u=!0,window:d=zi}=a,p=Se(!1);let _=null;function v(){!p.value||!d||(r(),_=d.requestAnimationFrame(v))}function C(){!p.value&&d&&(p.value=!0,v())}function S(){p.value=!1,_!=null&&d&&(d.cancelAnimationFrame(_),_=null)}return u&&C(),ll(S),{isActive:p,pause:S,resume:C}}function nnt(r,a={width:0,height:0},u={}){const d=Se(a.width),p=Se(a.height);return ent(r,([_])=>{d.value=_.contentRect.width,p.value=_.contentRect.height},u),Vn(()=>ko(r),_=>{d.value=_?a.width:0,p.value=_?a.height:0}),{width:d,height:p}}const tT=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function rnt(r,a={}){const{document:u=Cet,autoExit:d=!1}=a,p=r||(u==null?void 0:u.querySelector("html")),_=Se(!1);let v=!1,C=tT[0];if(!u)v=!1;else for(const Tt of tT)if(Tt[1]in u){C=Tt,v=!0;break}const[S,D,E,,H]=C;async function W(){!v||(u!=null&&u[E]&&await u[D](),_.value=!1)}async function K(){if(!v)return;await W();const Tt=ko(p);Tt&&(await Tt[S](),_.value=!0)}async function ot(){_.value?await W():await K()}return u&&ar(u,H,()=>{_.value=!!(u!=null&&u[E])},!1),d&&ll(W),{isSupported:v,isFullscreen:_,enter:K,exit:W,toggle:ot}}const int={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function snt(r={}){const{reactive:a=!1,target:u=zi,aliasMap:d=int,passive:p=!0,onEventFired:_=ip}=r,v=vr(new Set),C={toJSON(){return{}},current:v},S=a?vr(C):C,D=new Set,E=new Set;function H(Tt,Lt){Tt in S&&(a?S[Tt]=Lt:S[Tt].value=Lt)}function W(){for(const Tt of E)H(Tt,!1)}function K(Tt,Lt){var Kt,Pt;const Nt=(Kt=Tt.key)==null?void 0:Kt.toLowerCase(),Gt=(Pt=Tt.code)==null?void 0:Pt.toLowerCase(),he=[Gt,Nt].filter(Boolean);Gt&&(Lt?v.add(Tt.code):v.delete(Tt.code));for(const ae of he)E.add(ae),H(ae,Lt);Nt==="meta"&&!Lt?(D.forEach(ae=>{v.delete(ae),H(ae,!1)}),D.clear()):typeof Tt.getModifierState=="function"&&Tt.getModifierState("Meta")&&Lt&&[...v,...he].forEach(ae=>D.add(ae))}u&&(ar(u,"keydown",Tt=>(K(Tt,!0),_(Tt)),{passive:p}),ar(u,"keyup",Tt=>(K(Tt,!1),_(Tt)),{passive:p}),ar("blur",W,{passive:!0}),ar("focus",W,{passive:!0}));const ot=new Proxy(S,{get(Tt,Lt,Kt){if(typeof Lt!="string")return Reflect.get(Tt,Lt,Kt);if(Lt=Lt.toLowerCase(),Lt in d&&(Lt=d[Lt]),!(Lt in S))if(/[+_-]/.test(Lt)){const Nt=Lt.split(/[+_-]/g).map(Gt=>Gt.trim());S[Lt]=Qt(()=>Nt.every(Gt=>St(ot[Gt])))}else S[Lt]=Se(!1);const Pt=Reflect.get(Tt,Lt,Kt);return a?St(Pt):Pt}});return ot}function vmt(r={}){const{type:a="page",touch:u=!0,resetOnTouchEnds:d=!1,initialValue:p={x:0,y:0},window:_=zi,eventFilter:v}=r,C=Se(p.x),S=Se(p.y),D=Se(null),E=Tt=>{a==="page"?(C.value=Tt.pageX,S.value=Tt.pageY):a==="client"&&(C.value=Tt.clientX,S.value=Tt.clientY),D.value="mouse"},H=()=>{C.value=p.x,S.value=p.y},W=Tt=>{if(Tt.touches.length>0){const Lt=Tt.touches[0];a==="page"?(C.value=Lt.pageX,S.value=Lt.pageY):a==="client"&&(C.value=Lt.clientX,S.value=Lt.clientY),D.value="touch"}},K=Tt=>v===void 0?E(Tt):v(()=>E(Tt),{}),ot=Tt=>v===void 0?W(Tt):v(()=>W(Tt),{});return _&&(ar(_,"mousemove",K,{passive:!0}),ar(_,"dragover",K,{passive:!0}),u&&(ar(_,"touchstart",ot,{passive:!0}),ar(_,"touchmove",ot,{passive:!0}),d&&ar(_,"touchend",H,{passive:!0}))),{x:C,y:S,sourceType:D}}var xo;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(xo||(xo={}));function ant(r,a={}){const u=Se(r),{threshold:d=50,onSwipe:p,onSwipeEnd:_,onSwipeStart:v}=a,C=vr({x:0,y:0}),S=(ae,Be)=>{C.x=ae,C.y=Be},D=vr({x:0,y:0}),E=(ae,Be)=>{D.x=ae,D.y=Be},H=Qt(()=>C.x-D.x),W=Qt(()=>C.y-D.y),{max:K,abs:ot}=Math,Tt=Qt(()=>K(ot(H.value),ot(W.value))>=d),Lt=Se(!1),Kt=Se(!1),Pt=Qt(()=>Tt.value?ot(H.value)>ot(W.value)?H.value>0?xo.LEFT:xo.RIGHT:W.value>0?xo.UP:xo.DOWN:xo.NONE),Nt=ae=>a.pointerTypes?a.pointerTypes.includes(ae.pointerType):!0,Gt=[ar(r,"pointerdown",ae=>{var Be,mn;if(!Nt(ae))return;Kt.value=!0,(mn=(Be=u.value)==null?void 0:Be.style)==null||mn.setProperty("touch-action","none");const Rn=ae.target;Rn==null||Rn.setPointerCapture(ae.pointerId);const{clientX:Bn,clientY:Hn}=ae;S(Bn,Hn),E(Bn,Hn),v==null||v(ae)}),ar(r,"pointermove",ae=>{if(!Nt(ae)||!Kt.value)return;const{clientX:Be,clientY:mn}=ae;E(Be,mn),!Lt.value&&Tt.value&&(Lt.value=!0),Lt.value&&(p==null||p(ae))}),ar(r,"pointerup",ae=>{var Be,mn;!Nt(ae)||(Lt.value&&(_==null||_(ae,Pt.value)),Kt.value=!1,Lt.value=!1,(mn=(Be=u.value)==null?void 0:Be.style)==null||mn.setProperty("touch-action","initial"))})],he=()=>Gt.forEach(ae=>ae());return{isSwiping:Su(Lt),direction:Su(Pt),posStart:Su(C),posEnd:Su(D),distanceX:H,distanceY:W,stop:he}}var ont=Object.defineProperty,eT=Object.getOwnPropertySymbols,lnt=Object.prototype.hasOwnProperty,cnt=Object.prototype.propertyIsEnumerable,nT=(r,a,u)=>a in r?ont(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,unt=(r,a)=>{for(var u in a||(a={}))lnt.call(a,u)&&nT(r,u,a[u]);if(eT)for(var u of eT(a))cnt.call(a,u)&&nT(r,u,a[u]);return r};function xmt(r={}){const{controls:a=!1,offset:u=0,immediate:d=!0,interval:p="requestAnimationFrame"}=r,_=Se(__()+u),v=()=>_.value=__()+u,C=p==="requestAnimationFrame"?E7(v,{immediate:d}):fet(v,p,{immediate:d});return a?unt({timestamp:_},C):_}function Ma(r,a,u,d={}){var p,_,v;const{passive:C=!1,eventName:S,deep:D=!1,defaultValue:E}=d,H=Ra(),W=u||(H==null?void 0:H.emit)||((p=H==null?void 0:H.$emit)==null?void 0:p.bind(H))||((v=(_=H==null?void 0:H.proxy)==null?void 0:_.$emit)==null?void 0:v.bind(H==null?void 0:H.proxy));let K=S;a||(a="modelValue"),K=S||K||`update:${a.toString()}`;const ot=()=>Xtt(r[a])?r[a]:E;if(C){const Tt=Se(ot());return Vn(()=>r[a],Lt=>Tt.value=Lt),Vn(Tt,Lt=>{(Lt!==r[a]||D)&&W(K,Lt)},{deep:D}),Tt}else return Qt({get(){return ot()},set(Tt){W(K,Tt)}})}function kmt({window:r=zi}={}){if(!r)return Se(!1);const a=Se(r.document.hasFocus());return ar(r,"blur",()=>{a.value=!1}),ar(r,"focus",()=>{a.value=!0}),a}function hnt(r={}){const{window:a=zi,initialWidth:u=1/0,initialHeight:d=1/0,listenOrientation:p=!0}=r,_=Se(u),v=Se(d),C=()=>{a&&(_.value=a.innerWidth,v.value=a.innerHeight)};return C(),det(C),ar("resize",C,{passive:!0}),p&&ar("orientationchange",C,{passive:!0}),{width:_,height:v}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Cu=typeof window!="undefined";function dnt(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const ir=Object.assign;function Yy(r,a){const u={};for(const d in a){const p=a[d];u[d]=la(p)?p.map(r):r(p)}return u}const Md=()=>{},la=Array.isArray,fnt=/\/$/,pnt=r=>r.replace(fnt,"");function Uy(r,a,u="/"){let d,p={},_="",v="";const C=a.indexOf("#");let S=a.indexOf("?");return C<S&&C>=0&&(S=-1),S>-1&&(d=a.slice(0,S),_=a.slice(S+1,C>-1?C:a.length),p=r(_)),C>-1&&(d=d||a.slice(0,C),v=a.slice(C,a.length)),d=_nt(d!=null?d:a,u),{fullPath:d+(_&&"?")+_+v,path:d,query:p,hash:v}}function gnt(r,a){const u=a.query?r(a.query):"";return a.path+(u&&"?")+u+(a.hash||"")}function rT(r,a){return!a||!r.toLowerCase().startsWith(a.toLowerCase())?r:r.slice(a.length)||"/"}function mnt(r,a,u){const d=a.matched.length-1,p=u.matched.length-1;return d>-1&&d===p&&Vu(a.matched[d],u.matched[p])&&C7(a.params,u.params)&&r(a.query)===r(u.query)&&a.hash===u.hash}function Vu(r,a){return(r.aliasOf||r)===(a.aliasOf||a)}function C7(r,a){if(Object.keys(r).length!==Object.keys(a).length)return!1;for(const u in r)if(!ynt(r[u],a[u]))return!1;return!0}function ynt(r,a){return la(r)?iT(r,a):la(a)?iT(a,r):r===a}function iT(r,a){return la(a)?r.length===a.length&&r.every((u,d)=>u===a[d]):r.length===1&&r[0]===a}function _nt(r,a){if(r.startsWith("/"))return r;if(!r)return a;const u=a.split("/"),d=r.split("/");let p=u.length-1,_,v;for(_=0;_<d.length;_++)if(v=d[_],v!==".")if(v==="..")p>1&&p--;else break;return u.slice(0,p).join("/")+"/"+d.slice(_-(_===d.length?1:0)).join("/")}var Hd;(function(r){r.pop="pop",r.push="push"})(Hd||(Hd={}));var Nd;(function(r){r.back="back",r.forward="forward",r.unknown=""})(Nd||(Nd={}));function bnt(r){if(!r)if(Cu){const a=document.querySelector("base");r=a&&a.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),pnt(r)}const vnt=/^[^#]+#/;function xnt(r,a){return r.replace(vnt,"#")+a}function knt(r,a){const u=document.documentElement.getBoundingClientRect(),d=r.getBoundingClientRect();return{behavior:a.behavior,left:d.left-u.left-(a.left||0),top:d.top-u.top-(a.top||0)}}const jp=()=>({left:window.pageXOffset,top:window.pageYOffset});function wnt(r){let a;if("el"in r){const u=r.el,d=typeof u=="string"&&u.startsWith("#"),p=typeof u=="string"?d?document.getElementById(u.slice(1)):document.querySelector(u):u;if(!p)return;a=knt(p,r)}else a=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(a):window.scrollTo(a.left!=null?a.left:window.pageXOffset,a.top!=null?a.top:window.pageYOffset)}function sT(r,a){return(history.state?history.state.position-a:-1)+r}const x_=new Map;function Tnt(r,a){x_.set(r,a)}function Ent(r){const a=x_.get(r);return x_.delete(r),a}let Cnt=()=>location.protocol+"//"+location.host;function S7(r,a){const{pathname:u,search:d,hash:p}=a,_=r.indexOf("#");if(_>-1){let C=p.includes(r.slice(_))?r.slice(_).length:1,S=p.slice(C);return S[0]!=="/"&&(S="/"+S),rT(S,"")}return rT(u,r)+d+p}function Snt(r,a,u,d){let p=[],_=[],v=null;const C=({state:W})=>{const K=S7(r,location),ot=u.value,Tt=a.value;let Lt=0;if(W){if(u.value=K,a.value=W,v&&v===ot){v=null;return}Lt=Tt?W.position-Tt.position:0}else d(K);p.forEach(Kt=>{Kt(u.value,ot,{delta:Lt,type:Hd.pop,direction:Lt?Lt>0?Nd.forward:Nd.back:Nd.unknown})})};function S(){v=u.value}function D(W){p.push(W);const K=()=>{const ot=p.indexOf(W);ot>-1&&p.splice(ot,1)};return _.push(K),K}function E(){const{history:W}=window;!W.state||W.replaceState(ir({},W.state,{scroll:jp()}),"")}function H(){for(const W of _)W();_=[],window.removeEventListener("popstate",C),window.removeEventListener("beforeunload",E)}return window.addEventListener("popstate",C),window.addEventListener("beforeunload",E),{pauseListeners:S,listen:D,destroy:H}}function aT(r,a,u,d=!1,p=!1){return{back:r,current:a,forward:u,replaced:d,position:window.history.length,scroll:p?jp():null}}function Ant(r){const{history:a,location:u}=window,d={value:S7(r,u)},p={value:a.state};p.value||_(d.value,{back:null,current:d.value,forward:null,position:a.length-1,replaced:!0,scroll:null},!0);function _(S,D,E){const H=r.indexOf("#"),W=H>-1?(u.host&&document.querySelector("base")?r:r.slice(H))+S:Cnt()+r+S;try{a[E?"replaceState":"pushState"](D,"",W),p.value=D}catch(K){console.error(K),u[E?"replace":"assign"](W)}}function v(S,D){const E=ir({},a.state,aT(p.value.back,S,p.value.forward,!0),D,{position:p.value.position});_(S,E,!0),d.value=S}function C(S,D){const E=ir({},p.value,a.state,{forward:S,scroll:jp()});_(E.current,E,!0);const H=ir({},aT(d.value,S,null),{position:E.position+1},D);_(S,H,!1),d.value=S}return{location:d,state:p,push:C,replace:v}}function Lnt(r){r=bnt(r);const a=Ant(r),u=Snt(r,a.state,a.location,a.replace);function d(_,v=!0){v||u.pauseListeners(),history.go(_)}const p=ir({location:"",base:r,go:d,createHref:xnt.bind(null,r)},a,u);return Object.defineProperty(p,"location",{enumerable:!0,get:()=>a.location.value}),Object.defineProperty(p,"state",{enumerable:!0,get:()=>a.state.value}),p}function Ont(r){return r=location.host?r||location.pathname+location.search:"",r.includes("#")||(r+="#"),Lnt(r)}function Mnt(r){return typeof r=="string"||r&&typeof r=="object"}function A7(r){return typeof r=="string"||typeof r=="symbol"}const Ko={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},L7=Symbol("");var oT;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(oT||(oT={}));function $u(r,a){return ir(new Error,{type:r,[L7]:!0},a)}function yo(r,a){return r instanceof Error&&L7 in r&&(a==null||!!(r.type&a))}const lT="[^/]+?",Nnt={sensitive:!1,strict:!1,start:!0,end:!0},Dnt=/[.+*?^${}()[\]/\\]/g;function Int(r,a){const u=ir({},Nnt,a),d=[];let p=u.start?"^":"";const _=[];for(const D of r){const E=D.length?[]:[90];u.strict&&!D.length&&(p+="/");for(let H=0;H<D.length;H++){const W=D[H];let K=40+(u.sensitive?.25:0);if(W.type===0)H||(p+="/"),p+=W.value.replace(Dnt,"\\$&"),K+=40;else if(W.type===1){const{value:ot,repeatable:Tt,optional:Lt,regexp:Kt}=W;_.push({name:ot,repeatable:Tt,optional:Lt});const Pt=Kt||lT;if(Pt!==lT){K+=10;try{new RegExp(`(${Pt})`)}catch(Gt){throw new Error(`Invalid custom RegExp for param "${ot}" (${Pt}): `+Gt.message)}}let Nt=Tt?`((?:${Pt})(?:/(?:${Pt}))*)`:`(${Pt})`;H||(Nt=Lt&&D.length<2?`(?:/${Nt})`:"/"+Nt),Lt&&(Nt+="?"),p+=Nt,K+=20,Lt&&(K+=-8),Tt&&(K+=-20),Pt===".*"&&(K+=-50)}E.push(K)}d.push(E)}if(u.strict&&u.end){const D=d.length-1;d[D][d[D].length-1]+=.7000000000000001}u.strict||(p+="/?"),u.end?p+="$":u.strict&&(p+="(?:/|$)");const v=new RegExp(p,u.sensitive?"":"i");function C(D){const E=D.match(v),H={};if(!E)return null;for(let W=1;W<E.length;W++){const K=E[W]||"",ot=_[W-1];H[ot.name]=K&&ot.repeatable?K.split("/"):K}return H}function S(D){let E="",H=!1;for(const W of r){(!H||!E.endsWith("/"))&&(E+="/"),H=!1;for(const K of W)if(K.type===0)E+=K.value;else if(K.type===1){const{value:ot,repeatable:Tt,optional:Lt}=K,Kt=ot in D?D[ot]:"";if(la(Kt)&&!Tt)throw new Error(`Provided param "${ot}" is an array but it is not repeatable (* or + modifiers)`);const Pt=la(Kt)?Kt.join("/"):Kt;if(!Pt)if(Lt)W.length<2&&(E.endsWith("/")?E=E.slice(0,-1):H=!0);else throw new Error(`Missing required param "${ot}"`);E+=Pt}}return E||"/"}return{re:v,score:d,keys:_,parse:C,stringify:S}}function Rnt(r,a){let u=0;for(;u<r.length&&u<a.length;){const d=a[u]-r[u];if(d)return d;u++}return r.length<a.length?r.length===1&&r[0]===40+40?-1:1:r.length>a.length?a.length===1&&a[0]===40+40?1:-1:0}function Bnt(r,a){let u=0;const d=r.score,p=a.score;for(;u<d.length&&u<p.length;){const _=Rnt(d[u],p[u]);if(_)return _;u++}if(Math.abs(p.length-d.length)===1){if(cT(d))return 1;if(cT(p))return-1}return p.length-d.length}function cT(r){const a=r[r.length-1];return r.length>0&&a[a.length-1]<0}const Fnt={type:0,value:""},Pnt=/[a-zA-Z0-9_]/;function Vnt(r){if(!r)return[[]];if(r==="/")return[[Fnt]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function a(K){throw new Error(`ERR (${u})/"${D}": ${K}`)}let u=0,d=u;const p=[];let _;function v(){_&&p.push(_),_=[]}let C=0,S,D="",E="";function H(){!D||(u===0?_.push({type:0,value:D}):u===1||u===2||u===3?(_.length>1&&(S==="*"||S==="+")&&a(`A repeatable param (${D}) must be alone in its segment. eg: '/:ids+.`),_.push({type:1,value:D,regexp:E,repeatable:S==="*"||S==="+",optional:S==="*"||S==="?"})):a("Invalid state to consume buffer"),D="")}function W(){D+=S}for(;C<r.length;){if(S=r[C++],S==="\\"&&u!==2){d=u,u=4;continue}switch(u){case 0:S==="/"?(D&&H(),v()):S===":"?(H(),u=1):W();break;case 4:W(),u=d;break;case 1:S==="("?u=2:Pnt.test(S)?W():(H(),u=0,S!=="*"&&S!=="?"&&S!=="+"&&C--);break;case 2:S===")"?E[E.length-1]=="\\"?E=E.slice(0,-1)+S:u=3:E+=S;break;case 3:H(),u=0,S!=="*"&&S!=="?"&&S!=="+"&&C--,E="";break;default:a("Unknown state");break}}return u===2&&a(`Unfinished custom RegExp for param "${D}"`),H(),v(),p}function $nt(r,a,u){const d=Int(Vnt(r.path),u),p=ir(d,{record:r,parent:a,children:[],alias:[]});return a&&!p.record.aliasOf==!a.record.aliasOf&&a.children.push(p),p}function Ynt(r,a){const u=[],d=new Map;a=dT({strict:!1,end:!0,sensitive:!1},a);function p(E){return d.get(E)}function _(E,H,W){const K=!W,ot=Unt(E);ot.aliasOf=W&&W.record;const Tt=dT(a,E),Lt=[ot];if("alias"in E){const Nt=typeof E.alias=="string"?[E.alias]:E.alias;for(const Gt of Nt)Lt.push(ir({},ot,{components:W?W.record.components:ot.components,path:Gt,aliasOf:W?W.record:ot}))}let Kt,Pt;for(const Nt of Lt){const{path:Gt}=Nt;if(H&&Gt[0]!=="/"){const he=H.record.path,ae=he[he.length-1]==="/"?"":"/";Nt.path=H.record.path+(Gt&&ae+Gt)}if(Kt=$nt(Nt,H,Tt),W?W.alias.push(Kt):(Pt=Pt||Kt,Pt!==Kt&&Pt.alias.push(Kt),K&&E.name&&!hT(Kt)&&v(E.name)),ot.children){const he=ot.children;for(let ae=0;ae<he.length;ae++)_(he[ae],Kt,W&&W.children[ae])}W=W||Kt,(Kt.record.components&&Object.keys(Kt.record.components).length||Kt.record.name||Kt.record.redirect)&&S(Kt)}return Pt?()=>{v(Pt)}:Md}function v(E){if(A7(E)){const H=d.get(E);H&&(d.delete(E),u.splice(u.indexOf(H),1),H.children.forEach(v),H.alias.forEach(v))}else{const H=u.indexOf(E);H>-1&&(u.splice(H,1),E.record.name&&d.delete(E.record.name),E.children.forEach(v),E.alias.forEach(v))}}function C(){return u}function S(E){let H=0;for(;H<u.length&&Bnt(E,u[H])>=0&&(E.record.path!==u[H].record.path||!O7(E,u[H]));)H++;u.splice(H,0,E),E.record.name&&!hT(E)&&d.set(E.record.name,E)}function D(E,H){let W,K={},ot,Tt;if("name"in E&&E.name){if(W=d.get(E.name),!W)throw $u(1,{location:E});Tt=W.record.name,K=ir(uT(H.params,W.keys.filter(Pt=>!Pt.optional).map(Pt=>Pt.name)),E.params&&uT(E.params,W.keys.map(Pt=>Pt.name))),ot=W.stringify(K)}else if("path"in E)ot=E.path,W=u.find(Pt=>Pt.re.test(ot)),W&&(K=W.parse(ot),Tt=W.record.name);else{if(W=H.name?d.get(H.name):u.find(Pt=>Pt.re.test(H.path)),!W)throw $u(1,{location:E,currentLocation:H});Tt=W.record.name,K=ir({},H.params,E.params),ot=W.stringify(K)}const Lt=[];let Kt=W;for(;Kt;)Lt.unshift(Kt.record),Kt=Kt.parent;return{name:Tt,path:ot,params:K,matched:Lt,meta:Hnt(Lt)}}return r.forEach(E=>_(E)),{addRoute:_,resolve:D,removeRoute:v,getRoutes:C,getRecordMatcher:p}}function uT(r,a){const u={};for(const d of a)d in r&&(u[d]=r[d]);return u}function Unt(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:znt(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function znt(r){const a={},u=r.props||!1;if("component"in r)a.default=u;else for(const d in r.components)a[d]=typeof u=="boolean"?u:u[d];return a}function hT(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function Hnt(r){return r.reduce((a,u)=>ir(a,u.meta),{})}function dT(r,a){const u={};for(const d in r)u[d]=d in a?a[d]:r[d];return u}function O7(r,a){return a.children.some(u=>u===r||O7(r,u))}const M7=/#/g,Wnt=/&/g,jnt=/\//g,qnt=/=/g,Gnt=/\?/g,N7=/\+/g,Xnt=/%5B/g,Knt=/%5D/g,D7=/%5E/g,Znt=/%60/g,I7=/%7B/g,Qnt=/%7C/g,R7=/%7D/g,Jnt=/%20/g;function gb(r){return encodeURI(""+r).replace(Qnt,"|").replace(Xnt,"[").replace(Knt,"]")}function trt(r){return gb(r).replace(I7,"{").replace(R7,"}").replace(D7,"^")}function k_(r){return gb(r).replace(N7,"%2B").replace(Jnt,"+").replace(M7,"%23").replace(Wnt,"%26").replace(Znt,"`").replace(I7,"{").replace(R7,"}").replace(D7,"^")}function ert(r){return k_(r).replace(qnt,"%3D")}function nrt(r){return gb(r).replace(M7,"%23").replace(Gnt,"%3F")}function rrt(r){return r==null?"":nrt(r).replace(jnt,"%2F")}function vp(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function irt(r){const a={};if(r===""||r==="?")return a;const d=(r[0]==="?"?r.slice(1):r).split("&");for(let p=0;p<d.length;++p){const _=d[p].replace(N7," "),v=_.indexOf("="),C=vp(v<0?_:_.slice(0,v)),S=v<0?null:vp(_.slice(v+1));if(C in a){let D=a[C];la(D)||(D=a[C]=[D]),D.push(S)}else a[C]=S}return a}function fT(r){let a="";for(let u in r){const d=r[u];if(u=ert(u),d==null){d!==void 0&&(a+=(a.length?"&":"")+u);continue}(la(d)?d.map(_=>_&&k_(_)):[d&&k_(d)]).forEach(_=>{_!==void 0&&(a+=(a.length?"&":"")+u,_!=null&&(a+="="+_))})}return a}function srt(r){const a={};for(const u in r){const d=r[u];d!==void 0&&(a[u]=la(d)?d.map(p=>p==null?null:""+p):d==null?d:""+d)}return a}const art=Symbol(""),pT=Symbol(""),mb=Symbol(""),B7=Symbol(""),w_=Symbol("");function bd(){let r=[];function a(d){return r.push(d),()=>{const p=r.indexOf(d);p>-1&&r.splice(p,1)}}function u(){r=[]}return{add:a,list:()=>r,reset:u}}function Qo(r,a,u,d,p){const _=d&&(d.enterCallbacks[p]=d.enterCallbacks[p]||[]);return()=>new Promise((v,C)=>{const S=H=>{H===!1?C($u(4,{from:u,to:a})):H instanceof Error?C(H):Mnt(H)?C($u(2,{from:a,to:H})):(_&&d.enterCallbacks[p]===_&&typeof H=="function"&&_.push(H),v())},D=r.call(d&&d.instances[p],a,u,S);let E=Promise.resolve(D);r.length<3&&(E=E.then(S)),E.catch(H=>C(H))})}function zy(r,a,u,d){const p=[];for(const _ of r)for(const v in _.components){let C=_.components[v];if(!(a!=="beforeRouteEnter"&&!_.instances[v]))if(ort(C)){const D=(C.__vccOpts||C)[a];D&&p.push(Qo(D,u,d,_,v))}else{let S=C();p.push(()=>S.then(D=>{if(!D)return Promise.reject(new Error(`Couldn't resolve component "${v}" at "${_.path}"`));const E=dnt(D)?D.default:D;_.components[v]=E;const W=(E.__vccOpts||E)[a];return W&&Qo(W,u,d,_,v)()}))}}return p}function ort(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function gT(r){const a=le(mb),u=le(B7),d=Qt(()=>a.resolve(St(r.to))),p=Qt(()=>{const{matched:S}=d.value,{length:D}=S,E=S[D-1],H=u.matched;if(!E||!H.length)return-1;const W=H.findIndex(Vu.bind(null,E));if(W>-1)return W;const K=mT(S[D-2]);return D>1&&mT(E)===K&&H[H.length-1].path!==K?H.findIndex(Vu.bind(null,S[D-2])):W}),_=Qt(()=>p.value>-1&&hrt(u.params,d.value.params)),v=Qt(()=>p.value>-1&&p.value===u.matched.length-1&&C7(u.params,d.value.params));function C(S={}){return urt(S)?a[St(r.replace)?"replace":"push"](St(r.to)).catch(Md):Promise.resolve()}return{route:d,href:Qt(()=>d.value.href),isActive:_,isExactActive:v,navigate:C}}const lrt=Xn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gT,setup(r,{slots:a}){const u=vr(gT(r)),{options:d}=le(mb),p=Qt(()=>({[yT(r.activeClass,d.linkActiveClass,"router-link-active")]:u.isActive,[yT(r.exactActiveClass,d.linkExactActiveClass,"router-link-exact-active")]:u.isExactActive}));return()=>{const _=a.default&&a.default(u);return r.custom?_:Ai("a",{"aria-current":u.isExactActive?r.ariaCurrentValue:null,href:u.href,onClick:u.navigate,class:p.value},_)}}}),crt=lrt;function urt(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const a=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return r.preventDefault&&r.preventDefault(),!0}}function hrt(r,a){for(const u in a){const d=a[u],p=r[u];if(typeof d=="string"){if(d!==p)return!1}else if(!la(p)||p.length!==d.length||d.some((_,v)=>_!==p[v]))return!1}return!0}function mT(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const yT=(r,a,u)=>r!=null?r:a!=null?a:u,drt=Xn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:a,slots:u}){const d=le(w_),p=Qt(()=>r.route||d.value),_=le(pT,0),v=Qt(()=>{let D=St(_);const{matched:E}=p.value;let H;for(;(H=E[D])&&!H.components;)D++;return D}),C=Qt(()=>p.value.matched[v.value]);hs(pT,Qt(()=>v.value+1)),hs(art,C),hs(w_,p);const S=Se();return Vn(()=>[S.value,C.value,r.name],([D,E,H],[W,K,ot])=>{E&&(E.instances[H]=D,K&&K!==E&&D&&D===W&&(E.leaveGuards.size||(E.leaveGuards=K.leaveGuards),E.updateGuards.size||(E.updateGuards=K.updateGuards))),D&&E&&(!K||!Vu(E,K)||!W)&&(E.enterCallbacks[H]||[]).forEach(Tt=>Tt(D))},{flush:"post"}),()=>{const D=p.value,E=r.name,H=C.value,W=H&&H.components[E];if(!W)return _T(u.default,{Component:W,route:D});const K=H.props[E],ot=K?K===!0?D.params:typeof K=="function"?K(D):K:null,Lt=Ai(W,ir({},ot,a,{onVnodeUnmounted:Kt=>{Kt.component.isUnmounted&&(H.instances[E]=null)},ref:S}));return _T(u.default,{Component:Lt,route:D})||Lt}}});function _T(r,a){if(!r)return null;const u=r(a);return u.length===1?u[0]:u}const frt=drt;function prt(r){const a=Ynt(r.routes,r),u=r.parseQuery||irt,d=r.stringifyQuery||fT,p=r.history,_=bd(),v=bd(),C=bd(),S=oa(Ko);let D=Ko;Cu&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=Yy.bind(null,ee=>""+ee),H=Yy.bind(null,rrt),W=Yy.bind(null,vp);function K(ee,De){let Te,Ge;return A7(ee)?(Te=a.getRecordMatcher(ee),Ge=De):Ge=ee,a.addRoute(Ge,Te)}function ot(ee){const De=a.getRecordMatcher(ee);De&&a.removeRoute(De)}function Tt(){return a.getRoutes().map(ee=>ee.record)}function Lt(ee){return!!a.getRecordMatcher(ee)}function Kt(ee,De){if(De=ir({},De||S.value),typeof ee=="string"){const nt=Uy(u,ee,De.path),mt=a.resolve({path:nt.path},De),Vt=p.createHref(nt.fullPath);return ir(nt,mt,{params:W(mt.params),hash:vp(nt.hash),redirectedFrom:void 0,href:Vt})}let Te;if("path"in ee)Te=ir({},ee,{path:Uy(u,ee.path,De.path).path});else{const nt=ir({},ee.params);for(const mt in nt)nt[mt]==null&&delete nt[mt];Te=ir({},ee,{params:H(ee.params)}),De.params=H(De.params)}const Ge=a.resolve(Te,De),Mn=ee.hash||"";Ge.params=E(W(Ge.params));const Yn=gnt(d,ir({},ee,{hash:trt(Mn),path:Ge.path})),yn=p.createHref(Yn);return ir({fullPath:Yn,hash:Mn,query:d===fT?srt(ee.query):ee.query||{}},Ge,{redirectedFrom:void 0,href:yn})}function Pt(ee){return typeof ee=="string"?Uy(u,ee,S.value.path):ir({},ee)}function Nt(ee,De){if(D!==ee)return $u(8,{from:De,to:ee})}function Gt(ee){return Be(ee)}function he(ee){return Gt(ir(Pt(ee),{replace:!0}))}function ae(ee){const De=ee.matched[ee.matched.length-1];if(De&&De.redirect){const{redirect:Te}=De;let Ge=typeof Te=="function"?Te(ee):Te;return typeof Ge=="string"&&(Ge=Ge.includes("?")||Ge.includes("#")?Ge=Pt(Ge):{path:Ge},Ge.params={}),ir({query:ee.query,hash:ee.hash,params:"path"in Ge?{}:ee.params},Ge)}}function Be(ee,De){const Te=D=Kt(ee),Ge=S.value,Mn=ee.state,Yn=ee.force,yn=ee.replace===!0,nt=ae(Te);if(nt)return Be(ir(Pt(nt),{state:typeof nt=="object"?ir({},Mn,nt.state):Mn,force:Yn,replace:yn}),De||Te);const mt=Te;mt.redirectedFrom=De;let Vt;return!Yn&&mnt(d,Ge,Te)&&(Vt=$u(16,{to:mt,from:Ge}),jn(Ge,Ge,!0,!1)),(Vt?Promise.resolve(Vt):Rn(mt,Ge)).catch(Zt=>yo(Zt)?yo(Zt,2)?Zt:Fn(Zt):He(Zt,mt,Ge)).then(Zt=>{if(Zt){if(yo(Zt,2))return Be(ir({replace:yn},Pt(Zt.to),{state:typeof Zt.to=="object"?ir({},Mn,Zt.to.state):Mn,force:Yn}),De||mt)}else Zt=Hn(mt,Ge,!0,yn,Mn);return Bn(mt,Ge,Zt),Zt})}function mn(ee,De){const Te=Nt(ee,De);return Te?Promise.reject(Te):Promise.resolve()}function Rn(ee,De){let Te;const[Ge,Mn,Yn]=grt(ee,De);Te=zy(Ge.reverse(),"beforeRouteLeave",ee,De);for(const nt of Ge)nt.leaveGuards.forEach(mt=>{Te.push(Qo(mt,ee,De))});const yn=mn.bind(null,ee,De);return Te.push(yn),ku(Te).then(()=>{Te=[];for(const nt of _.list())Te.push(Qo(nt,ee,De));return Te.push(yn),ku(Te)}).then(()=>{Te=zy(Mn,"beforeRouteUpdate",ee,De);for(const nt of Mn)nt.updateGuards.forEach(mt=>{Te.push(Qo(mt,ee,De))});return Te.push(yn),ku(Te)}).then(()=>{Te=[];for(const nt of ee.matched)if(nt.beforeEnter&&!De.matched.includes(nt))if(la(nt.beforeEnter))for(const mt of nt.beforeEnter)Te.push(Qo(mt,ee,De));else Te.push(Qo(nt.beforeEnter,ee,De));return Te.push(yn),ku(Te)}).then(()=>(ee.matched.forEach(nt=>nt.enterCallbacks={}),Te=zy(Yn,"beforeRouteEnter",ee,De),Te.push(yn),ku(Te))).then(()=>{Te=[];for(const nt of v.list())Te.push(Qo(nt,ee,De));return Te.push(yn),ku(Te)}).catch(nt=>yo(nt,8)?nt:Promise.reject(nt))}function Bn(ee,De,Te){for(const Ge of C.list())Ge(ee,De,Te)}function Hn(ee,De,Te,Ge,Mn){const Yn=Nt(ee,De);if(Yn)return Yn;const yn=De===Ko,nt=Cu?history.state:{};Te&&(Ge||yn?p.replace(ee.fullPath,ir({scroll:yn&&nt&&nt.scroll},Mn)):p.push(ee.fullPath,Mn)),S.value=ee,jn(ee,De,Te,yn),Fn()}let Kr;function Rr(){Kr||(Kr=p.listen((ee,De,Te)=>{if(!Fa.listening)return;const Ge=Kt(ee),Mn=ae(Ge);if(Mn){Be(ir(Mn,{replace:!0}),Ge).catch(Md);return}D=Ge;const Yn=S.value;Cu&&Tnt(sT(Yn.fullPath,Te.delta),jp()),Rn(Ge,Yn).catch(yn=>yo(yn,12)?yn:yo(yn,2)?(Be(yn.to,Ge).then(nt=>{yo(nt,20)&&!Te.delta&&Te.type===Hd.pop&&p.go(-1,!1)}).catch(Md),Promise.reject()):(Te.delta&&p.go(-Te.delta,!1),He(yn,Ge,Yn))).then(yn=>{yn=yn||Hn(Ge,Yn,!1),yn&&(Te.delta&&!yo(yn,8)?p.go(-Te.delta,!1):Te.type===Hd.pop&&yo(yn,20)&&p.go(-1,!1)),Bn(Ge,Yn,yn)}).catch(Md)}))}let xr=bd(),lr=bd(),cr;function He(ee,De,Te){Fn(ee);const Ge=lr.list();return Ge.length?Ge.forEach(Mn=>Mn(ee,De,Te)):console.error(ee),Promise.reject(ee)}function hn(){return cr&&S.value!==Ko?Promise.resolve():new Promise((ee,De)=>{xr.add([ee,De])})}function Fn(ee){return cr||(cr=!ee,Rr(),xr.list().forEach(([De,Te])=>ee?Te(ee):De()),xr.reset()),ee}function jn(ee,De,Te,Ge){const{scrollBehavior:Mn}=r;if(!Cu||!Mn)return Promise.resolve();const Yn=!Te&&Ent(sT(ee.fullPath,0))||(Ge||!Te)&&history.state&&history.state.scroll||null;return yi().then(()=>Mn(ee,De,Yn)).then(yn=>yn&&wnt(yn)).catch(yn=>He(yn,ee,De))}const Zr=ee=>p.go(ee);let kr;const ua=new Set,Fa={currentRoute:S,listening:!0,addRoute:K,removeRoute:ot,hasRoute:Lt,getRoutes:Tt,resolve:Kt,options:r,push:Gt,replace:he,go:Zr,back:()=>Zr(-1),forward:()=>Zr(1),beforeEach:_.add,beforeResolve:v.add,afterEach:C.add,onError:lr.add,isReady:hn,install(ee){const De=this;ee.component("RouterLink",crt),ee.component("RouterView",frt),ee.config.globalProperties.$router=De,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>St(S)}),Cu&&!kr&&S.value===Ko&&(kr=!0,Gt(p.location).catch(Mn=>{}));const Te={};for(const Mn in Ko)Te[Mn]=Qt(()=>S.value[Mn]);ee.provide(mb,De),ee.provide(B7,vr(Te)),ee.provide(w_,S);const Ge=ee.unmount;ua.add(ee),ee.unmount=function(){ua.delete(ee),ua.size<1&&(D=Ko,Kr&&Kr(),Kr=null,S.value=Ko,kr=!1,cr=!1),Ge()}}};return Fa}function ku(r){return r.reduce((a,u)=>a.then(()=>u()),Promise.resolve())}function grt(r,a){const u=[],d=[],p=[],_=Math.max(a.matched.length,r.matched.length);for(let v=0;v<_;v++){const C=a.matched[v];C&&(r.matched.find(D=>Vu(D,C))?d.push(C):u.push(C));const S=r.matched[v];S&&(a.matched.find(D=>Vu(D,S))||p.push(S))}return[u,d,p]}const Hy=Se(!1),Dd=Se(!1),Au=Se(!1),mrt=Se(!0),T_=Pet({xs:460,...Det}),fc=hnt(),F7=snt(),yrt=Qt(()=>fc.height.value-fc.width.value/nl>180),P7=rnt(Qi?document.body:null),Ru=Net(),_rt=Qt(()=>{var r,a;return["INPUT","TEXTAREA"].includes(((r=Ru.value)==null?void 0:r.tagName)||"")||((a=Ru.value)==null?void 0:a.classList.contains("CodeMirror-code"))}),brt=Qt(()=>{var r;return["BUTTON","A"].includes(((r=Ru.value)==null?void 0:r.tagName)||"")});ca("slidev-camera","default");ca("slidev-mic","default");const ap=ca("slidev-scale",0),$i=ca("slidev-show-overview",!1),Wy=ca("slidev-presenter-cursor",!0),bT=ca("slidev-show-editor",!1);ca("slidev-editor-width",Qi?window.innerWidth*.4:100);const V7=k7($i);function vT(r,a,u,d=p=>p){return r*d(.5-a*(.5-u))}function vrt(r){return[-r[0],-r[1]]}function ea(r,a){return[r[0]+a[0],r[1]+a[1]]}function Es(r,a){return[r[0]-a[0],r[1]-a[1]]}function ta(r,a){return[r[0]*a,r[1]*a]}function xrt(r,a){return[r[0]/a,r[1]/a]}function vd(r){return[r[1],-r[0]]}function xT(r,a){return r[0]*a[0]+r[1]*a[1]}function krt(r,a){return r[0]===a[0]&&r[1]===a[1]}function wrt(r){return Math.hypot(r[0],r[1])}function Trt(r){return r[0]*r[0]+r[1]*r[1]}function kT(r,a){return Trt(Es(r,a))}function $7(r){return xrt(r,wrt(r))}function Ert(r,a){return Math.hypot(r[1]-a[1],r[0]-a[0])}function xd(r,a,u){let d=Math.sin(u),p=Math.cos(u),_=r[0]-a[0],v=r[1]-a[1],C=_*p-v*d,S=_*d+v*p;return[C+a[0],S+a[1]]}function E_(r,a,u){return ea(r,ta(Es(a,r),u))}function wT(r,a,u){return ea(r,ta(a,u))}var{min:wu,PI:Crt}=Math,TT=.275,kd=Crt+1e-4;function Srt(r,a={}){let{size:u=16,smoothing:d=.5,thinning:p=.5,simulatePressure:_=!0,easing:v=He=>He,start:C={},end:S={},last:D=!1}=a,{cap:E=!0,easing:H=He=>He*(2-He)}=C,{cap:W=!0,easing:K=He=>--He*He*He+1}=S;if(r.length===0||u<=0)return[];let ot=r[r.length-1].runningLength,Tt=C.taper===!1?0:C.taper===!0?Math.max(u,ot):C.taper,Lt=S.taper===!1?0:S.taper===!0?Math.max(u,ot):S.taper,Kt=Math.pow(u*d,2),Pt=[],Nt=[],Gt=r.slice(0,10).reduce((He,hn)=>{let Fn=hn.pressure;if(_){let jn=wu(1,hn.distance/u),Zr=wu(1,1-jn);Fn=wu(1,He+(Zr-He)*(jn*TT))}return(He+Fn)/2},r[0].pressure),he=vT(u,p,r[r.length-1].pressure,v),ae,Be=r[0].vector,mn=r[0].point,Rn=mn,Bn=mn,Hn=Rn,Kr=!1;for(let He=0;He<r.length;He++){let{pressure:hn}=r[He],{point:Fn,vector:jn,distance:Zr,runningLength:kr}=r[He];if(He<r.length-1&&ot-kr<3)continue;if(p){if(_){let Yn=wu(1,Zr/u),yn=wu(1,1-Yn);hn=wu(1,Gt+(yn-Gt)*(Yn*TT))}he=vT(u,p,hn,v)}else he=u/2;ae===void 0&&(ae=he);let ua=kr<Tt?H(kr/Tt):1,Fa=ot-kr<Lt?K((ot-kr)/Lt):1;he=Math.max(.01,he*Math.min(ua,Fa));let ee=(He<r.length-1?r[He+1]:r[He]).vector,De=He<r.length-1?xT(jn,ee):1,Te=xT(jn,Be)<0&&!Kr,Ge=De!==null&&De<0;if(Te||Ge){let Yn=ta(vd(Be),he);for(let yn=1/13,nt=0;nt<=1;nt+=yn)Bn=xd(Es(Fn,Yn),Fn,kd*nt),Pt.push(Bn),Hn=xd(ea(Fn,Yn),Fn,kd*-nt),Nt.push(Hn);mn=Bn,Rn=Hn,Ge&&(Kr=!0);continue}if(Kr=!1,He===r.length-1){let Yn=ta(vd(jn),he);Pt.push(Es(Fn,Yn)),Nt.push(ea(Fn,Yn));continue}let Mn=ta(vd(E_(ee,jn,De)),he);Bn=Es(Fn,Mn),(He<=1||kT(mn,Bn)>Kt)&&(Pt.push(Bn),mn=Bn),Hn=ea(Fn,Mn),(He<=1||kT(Rn,Hn)>Kt)&&(Nt.push(Hn),Rn=Hn),Gt=hn,Be=jn}let Rr=r[0].point.slice(0,2),xr=r.length>1?r[r.length-1].point.slice(0,2):ea(r[0].point,[1,1]),lr=[],cr=[];if(r.length===1){if(!(Tt||Lt)||D){let He=wT(Rr,$7(vd(Es(Rr,xr))),-(ae||he)),hn=[];for(let Fn=1/13,jn=Fn;jn<=1;jn+=Fn)hn.push(xd(He,Rr,kd*2*jn));return hn}}else{if(!(Tt||Lt&&r.length===1))if(E)for(let hn=1/13,Fn=hn;Fn<=1;Fn+=hn){let jn=xd(Nt[0],Rr,kd*Fn);lr.push(jn)}else{let hn=Es(Pt[0],Nt[0]),Fn=ta(hn,.5),jn=ta(hn,.51);lr.push(Es(Rr,Fn),Es(Rr,jn),ea(Rr,jn),ea(Rr,Fn))}let He=vd(vrt(r[r.length-1].vector));if(Lt||Tt&&r.length===1)cr.push(xr);else if(W){let hn=wT(xr,He,he);for(let Fn=1/29,jn=Fn;jn<1;jn+=Fn)cr.push(xd(hn,xr,kd*3*jn))}else cr.push(ea(xr,ta(He,he)),ea(xr,ta(He,he*.99)),Es(xr,ta(He,he*.99)),Es(xr,ta(He,he)))}return Pt.concat(cr,Nt.reverse(),lr)}function Art(r,a={}){var u;let{streamline:d=.5,size:p=16,last:_=!1}=a;if(r.length===0)return[];let v=.15+(1-d)*.85,C=Array.isArray(r[0])?r:r.map(({x:K,y:ot,pressure:Tt=.5})=>[K,ot,Tt]);if(C.length===2){let K=C[1];C=C.slice(0,-1);for(let ot=1;ot<5;ot++)C.push(E_(C[0],K,ot/4))}C.length===1&&(C=[...C,[...ea(C[0],[1,1]),...C[0].slice(2)]]);let S=[{point:[C[0][0],C[0][1]],pressure:C[0][2]>=0?C[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],D=!1,E=0,H=S[0],W=C.length-1;for(let K=1;K<C.length;K++){let ot=_&&K===W?C[K].slice(0,2):E_(H.point,C[K],v);if(krt(H.point,ot))continue;let Tt=Ert(ot,H.point);if(E+=Tt,K<W&&!D){if(E<p)continue;D=!0}H={point:ot,pressure:C[K][2]>=0?C[K][2]:.5,vector:$7(Es(H.point,ot)),distance:Tt,runningLength:E},S.push(H)}return S[0].vector=((u=S[1])==null?void 0:u.vector)||[0,0],S}function Lrt(r,a={}){return Srt(Art(r,a),a)}var Ort=()=>({events:{},emit(r,...a){let u=this.events[r]||[];for(let d=0,p=u.length;d<p;d++)u[d](...a)},on(r,a){var u;return(u=this.events[r])!=null&&u.push(a)||(this.events[r]=[a]),()=>{var d;this.events[r]=(d=this.events[r])==null?void 0:d.filter(p=>a!==p)}}});function xp(r,a){return r-a}function Mrt(r){return r<0?-1:1}function kp(r){return[Math.abs(r),Mrt(r)]}function Y7(){const r=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${r()+r()}-${r()}-${r()}-${r()}-${r()}${r()}${r()}`}var Nrt=2,vo=Nrt,Wu=class{constructor(r){this.drauu=r,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(r){}onUnselected(){}onStart(r){}onMove(r){return!1}onEnd(r){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(r){var p;var a;const u=this.drauu.el,d=(p=this.drauu.options.coordinateScale)!=null?p:1;if(this.drauu.options.coordinateTransform===!1){const _=this.drauu.el.getBoundingClientRect();return{x:(r.pageX-_.left)*d,y:(r.pageY-_.top)*d,pressure:r.pressure}}else{const _=this.drauu.svgPoint;_.x=r.clientX,_.y=r.clientY;const v=_.matrixTransform((a=u.getScreenCTM())==null?void 0:a.inverse());return{x:v.x*d,y:v.y*d,pressure:r.pressure}}}createElement(r,a){var p;const u=document.createElementNS("http://www.w3.org/2000/svg",r),d=a?{...this.brush,...a}:this.brush;return u.setAttribute("fill",(p=d.fill)!=null?p:"transparent"),u.setAttribute("stroke",d.color),u.setAttribute("stroke-width",d.size.toString()),u.setAttribute("stroke-linecap","round"),d.dasharray&&u.setAttribute("stroke-dasharray",d.dasharray),u}attr(r,a){this.el.setAttribute(r,typeof a=="string"?a:a.toFixed(vo))}_setEvent(r){this.event=r,this.point=this.getMousePosition(r)}_eventDown(r){return this._setEvent(r),this.start=this.point,this.onStart(this.point)}_eventMove(r){return this._setEvent(r),this.onMove(this.point)}_eventUp(r){return this._setEvent(r),this.onEnd(this.point)}},Drt=class extends Wu{constructor(){super(...arguments),this.points=[]}onStart(r){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[r],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(r){return this.el||this.onStart(r),this.points[this.points.length-1]!==r&&this.points.push(r),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const r=this.el;return this.el=null,!!r}getSvgData(r){const a=Lrt(r,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!a.length)return"";const u=a.reduce((d,[p,_],v,C)=>{const[S,D]=C[(v+1)%C.length];return d.push(p,_,(p+S)/2,(_+D)/2),d},["M",...a[0],"Q"]);return u.push("Z"),u.map(d=>typeof d=="number"?d.toFixed(2):d).join(" ")}},Irt=class extends Wu{onStart(r){return this.el=this.createElement("ellipse"),this.attr("cx",r.x),this.attr("cy",r.y),this.el}onMove(r){if(!this.el||!this.start)return!1;let[a,u]=kp(r.x-this.start.x),[d,p]=kp(r.y-this.start.y);if(this.shiftPressed){const _=Math.min(a,d);a=_,d=_}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",a),this.attr("ry",d);else{const[_,v]=[this.start.x,this.start.x+a*u].sort(xp),[C,S]=[this.start.y,this.start.y+d*p].sort(xp);this.attr("cx",(_+v)/2),this.attr("cy",(C+S)/2),this.attr("rx",(v-_)/2),this.attr("ry",(S-C)/2)}return!0}onEnd(){const r=this.el;return this.el=null,!(!r||!r.getTotalLength())}};function U7(r,a){const u=document.createElementNS("http://www.w3.org/2000/svg","defs"),d=document.createElementNS("http://www.w3.org/2000/svg","marker"),p=document.createElementNS("http://www.w3.org/2000/svg","path");return p.setAttribute("fill",a),d.setAttribute("id",r),d.setAttribute("viewBox","0 -5 10 10"),d.setAttribute("refX","5"),d.setAttribute("refY","0"),d.setAttribute("markerWidth","4"),d.setAttribute("markerHeight","4"),d.setAttribute("orient","auto"),p.setAttribute("d","M0,-5L10,0L0,5"),d.appendChild(p),u.appendChild(d),u}var Rrt=class extends Wu{onStart(r){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",r.x),this.attr("y1",r.y),this.attr("x2",r.x),this.attr("y2",r.y),this.brush.arrowEnd){const a=Y7(),u=document.createElementNS("http://www.w3.org/2000/svg","g");return u.append(U7(a,this.brush.color)),u.append(this.el),this.attr("marker-end",`url(#${a})`),u}return this.el}onMove(r){if(!this.el)return!1;let{x:a,y:u}=r;if(this.shiftPressed){const d=r.x-this.start.x,p=r.y-this.start.y;if(p!==0){let _=d/p;_=Math.round(_),Math.abs(_)<=1?(a=this.start.x+p*_,u=this.start.y+p):(a=this.start.x+d,u=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-a),this.attr("y1",this.start.y*2-u),this.attr("x2",a),this.attr("y2",u)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",a),this.attr("y2",u)),!0}onEnd(){const r=this.el;return this.el=null,!(!r||r.getTotalLength()<5)}},Brt=class extends Wu{onStart(r){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",r.x),this.attr("y",r.y),this.el}onMove(r){if(!this.el||!this.start)return!1;let[a,u]=kp(r.x-this.start.x),[d,p]=kp(r.y-this.start.y);if(this.shiftPressed){const _=Math.min(a,d);a=_,d=_}if(this.altPressed)this.attr("x",this.start.x-a),this.attr("y",this.start.y-d),this.attr("width",a*2),this.attr("height",d*2);else{const[_,v]=[this.start.x,this.start.x+a*u].sort(xp),[C,S]=[this.start.y,this.start.y+d*p].sort(xp);this.attr("x",_),this.attr("y",C),this.attr("width",v-_),this.attr("height",S-C)}return!0}onEnd(){const r=this.el;return this.el=null,!(!r||!r.getTotalLength())}};function Frt(r,a){const u=r.x-a.x,d=r.y-a.y;return u*u+d*d}function Prt(r,a,u){let d=a.x,p=a.y,_=u.x-d,v=u.y-p;if(_!==0||v!==0){const C=((r.x-d)*_+(r.y-p)*v)/(_*_+v*v);C>1?(d=u.x,p=u.y):C>0&&(d+=_*C,p+=v*C)}return _=r.x-d,v=r.y-p,_*_+v*v}function Vrt(r,a){let u=r[0];const d=[u];let p;for(let _=1,v=r.length;_<v;_++)p=r[_],Frt(p,u)>a&&(d.push(p),u=p);return u!==p&&p&&d.push(p),d}function C_(r,a,u,d,p){let _=d,v=0;for(let C=a+1;C<u;C++){const S=Prt(r[C],r[a],r[u]);S>_&&(v=C,_=S)}_>d&&(v-a>1&&C_(r,a,v,d,p),p.push(r[v]),u-v>1&&C_(r,v,u,d,p))}function $rt(r,a){const u=r.length-1,d=[r[0]];return C_(r,0,u,a,d),d.push(r[u]),d}function ET(r,a,u=!1){if(r.length<=2)return r;const d=a!==void 0?a*a:1;return r=u?r:Vrt(r,d),r=$rt(r,d),r}var Yrt=class extends Wu{constructor(){super(...arguments),this.points=[],this.count=0}onStart(r){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[r],this.brush.arrowEnd){this.arrowId=Y7();const a=U7(this.arrowId,this.brush.color);this.el.appendChild(a)}return this.el}onMove(r){return this.el||this.onStart(r),this.points[this.points.length-1]!==r&&(this.points.push(r),this.count+=1),this.count>5&&(this.points=ET(this.points,1,!0),this.count=0),this.attr("d",ST(this.points)),!0}onEnd(){const r=this.el;return this.el=null,!(!r||(r.setAttribute("d",ST(ET(this.points,1,!0))),!r.getTotalLength()))}};function Urt(r,a){const u=a.x-r.x,d=a.y-r.y;return{length:Math.sqrt(u**2+d**2),angle:Math.atan2(d,u)}}function CT(r,a,u,d){const p=a||r,_=u||r,v=.2,C=Urt(p,_),S=C.angle+(d?Math.PI:0),D=C.length*v,E=r.x+Math.cos(S)*D,H=r.y+Math.sin(S)*D;return{x:E,y:H}}function zrt(r,a,u){const d=CT(u[a-1],u[a-2],r),p=CT(r,u[a-1],u[a+1],!0);return`C ${d.x.toFixed(vo)},${d.y.toFixed(vo)} ${p.x.toFixed(vo)},${p.y.toFixed(vo)} ${r.x.toFixed(vo)},${r.y.toFixed(vo)}`}function ST(r){return r.reduce((a,u,d,p)=>d===0?`M ${u.x.toFixed(vo)},${u.y.toFixed(vo)}`:`${a} ${zrt(u,d,p)}`,"")}var Hrt=class extends Wu{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(r){const a=(u,d)=>{if(u&&u.length)for(let p=0;p<u.length;p++){const _=u[p];if(_.getTotalLength){const v=_.getTotalLength();for(let C=0;C<this.pathSubFactor;C++){const S=_.getPointAtLength(v*C/this.pathSubFactor),D=_.getPointAtLength(v*(C+1)/this.pathSubFactor);this.pathFragments.push({x1:S.x,x2:D.x,y1:S.y,y2:D.y,segment:C,element:d||_})}}else _.children&&a(_.children,_)}};r&&a(r.children)}onUnselected(){this.pathFragments=[]}onStart(r){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=r.x,this.svgPointPrevious.y=r.y}onMove(r){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=r.x,this.svgPointCurrent.y=r.y;const a=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,a}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const r=[];if(this.pathFragments.length)for(let a=0;a<this.pathFragments.length;a++){const u=this.pathFragments[a],d={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(u,d)&&(u.element.remove(),r.push(a))}return r.length&&(this.pathFragments=this.pathFragments.filter((a,u)=>!r.includes(u))),r.length>0}lineLineIntersect(r,a){const u=r.x1,d=r.x2,p=a.x1,_=a.x2,v=r.y1,C=r.y2,S=a.y1,D=a.y2,E=(u-d)*(S-D)-(v-C)*(p-_),H=(u*C-v*d)*(p-_)-(u-d)*(p*D-S*_),W=(u*C-v*d)*(S-D)-(v-C)*(p*D-S*_),K=(ot,Tt,Lt)=>ot>=Tt&&ot<=Lt?!0:ot>=Lt&&ot<=Tt;if(E===0)return!1;{const ot={x:H/E,y:W/E};return K(ot.x,u,d)&&K(ot.y,v,C)&&K(ot.x,p,_)&&K(ot.y,S,D)}}};function Wrt(r){return{draw:new Yrt(r),stylus:new Drt(r),line:new Rrt(r),rectangle:new Brt(r),ellipse:new Irt(r),eraseLine:new Hrt(r)}}var jrt=class{constructor(r={}){this.options=r,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=Ort(),this._models=Wrt(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),r.el&&this.mount(r.el,r.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(r){this._models[this.mode].onUnselected(),this.options.brush.mode=r,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(r){this.options.brush=r}resolveSelector(r){return typeof r=="string"?document.querySelector(r):r||null}mount(r,a){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(r),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const u=this.resolveSelector(a)||this.el,d=this.eventStart.bind(this),p=this.eventMove.bind(this),_=this.eventEnd.bind(this),v=this.eventKeyboard.bind(this);u.addEventListener("pointerdown",d,{passive:!1}),window.addEventListener("pointermove",p,{passive:!1}),window.addEventListener("pointerup",_,{passive:!1}),window.addEventListener("pointercancel",_,{passive:!1}),window.addEventListener("keydown",v,!1),window.addEventListener("keyup",v,!1),this._disposables.push(()=>{u.removeEventListener("pointerdown",d),window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_),window.removeEventListener("keydown",v,!1),window.removeEventListener("keyup",v,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(r=>r()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(r,a){return this._emitter.on(r,a)}undo(){const r=this.el;return r.lastElementChild?(this._undoStack.push(r.lastElementChild.cloneNode(!0)),r.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var r;return!!((r=this.el)!=null&&r.lastElementChild)}eventMove(r){!this.acceptsInput(r)||!this.drawing||this.model._eventMove(r)&&(r.stopPropagation(),r.preventDefault(),this._emitter.emit("changed"))}eventStart(r){!this.acceptsInput(r)||(r.stopPropagation(),r.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(r),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(r){if(!this.acceptsInput(r)||!this.drawing)return;const a=this.model._eventUp(r);a?(a instanceof Element&&a!==this._currentNode&&(this._currentNode=a),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(r){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(r.pointerType)}eventKeyboard(r){this.shiftPressed===r.shiftKey&&this.altPressed===r.altKey||(this.shiftPressed=r.shiftKey,this.altPressed=r.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const r=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",r)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(r){this.clear(),this.el.innerHTML=r}};function qrt(r){return new jrt(r)}const S_=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],Na=ca("slidev-drawing-enabled",!1),wmt=ca("slidev-drawing-pinned",!1),Grt=Se(!1),Xrt=Se(!1),Krt=Se(!1),Wd=Se(!1),oc=eet(ca("slidev-drawing-brush",{color:S_[0],size:4,mode:"stylus"})),AT=Se("stylus"),z7=Qt(()=>Jn.drawings.syncAll||Oa.value);let jd=!1;const wd=Qt({get(){return AT.value},set(r){AT.value=r,r==="arrow"?(oc.mode="line",oc.arrowEnd=!0):(oc.mode=r,oc.arrowEnd=!1)}}),Zrt=vr({brush:oc,acceptsInputTypes:Qt(()=>Na.value?void 0:["pen"]),coordinateTransform:!1}),Yi=Rp(qrt(Zrt));function Qrt(){Yi.clear(),z7.value&&b7(ri.value,"")}function H7(){var r;Xrt.value=Yi.canRedo(),Grt.value=Yi.canUndo(),Krt.value=!!((r=Yi.el)!=null&&r.children.length)}function Jrt(r){jd=!0;const a=_p[r||ri.value];a!=null?Yi.load(a):Yi.clear(),jd=!1}Yi.on("changed",()=>{if(H7(),!jd){const r=Yi.dump(),a=ri.value;(_p[a]||"")!==r&&z7.value&&b7(a,Yi.dump())}});jtt(r=>{jd=!0,r[ri.value]!=null&&Yi.load(r[ri.value]||""),jd=!1,H7()});yi(()=>{Vn(ri,()=>{!Yi.mounted||Jrt()},{immediate:!0})});Yi.on("start",()=>Wd.value=!0);Yi.on("end",()=>Wd.value=!1);window.addEventListener("keydown",r=>{if(!Na.value)return;const a=!r.ctrlKey&&!r.altKey&&!r.shiftKey&&!r.metaKey;let u=!0;r.code==="KeyZ"&&(r.ctrlKey||r.metaKey)?r.shiftKey?Yi.redo():Yi.undo():r.code==="Escape"?Na.value=!1:r.code==="KeyL"&&a?wd.value="line":r.code==="KeyA"&&a?wd.value="arrow":r.code==="KeyS"&&a?wd.value="stylus":r.code==="KeyR"&&a?wd.value="rectangle":r.code==="KeyE"&&a?wd.value="ellipse":r.code==="KeyC"&&a?Qrt():r.code.startsWith("Digit")&&a&&+r.code[5]<=S_.length?oc.color=S_[+r.code[5]-1]:u=!1,u&&(r.preventDefault(),r.stopPropagation())},!1);const LT=Het(),jy=ca("slidev-color-schema","auto"),A_=Qt(()=>Jn.colorSchema!=="auto"),qp=Qt({get(){return A_.value?Jn.colorSchema==="dark":jy.value==="auto"?LT.value:jy.value==="dark"},set(r){A_.value||(jy.value=r===LT.value?"auto":r?"dark":"light")}}),W7=k7(qp);Qi&&Vn(qp,r=>{const a=document.querySelector("html");a.classList.toggle("dark",r),a.classList.toggle("light",!r)},{immediate:!0});function tit(){return[]}const op=Se(1),lp=Qt(()=>ni.length-1),ds=Se(0),yb=Se(0);function eit(){ds.value>op.value&&(ds.value-=1)}function nit(){ds.value<lp.value&&(ds.value+=1)}function rit(){if(ds.value>op.value){let r=ds.value-yb.value;r<op.value&&(r=op.value),ds.value=r}}function iit(){if(ds.value<lp.value){let r=ds.value+yb.value;r>lp.value&&(r=lp.value),ds.value=r}}const j7=ei(ls(_rt),ls(brt),mrt);function sit(r,a,u=!1){typeof r=="string"&&(r=F7[r]);const d=ei(r,j7);let p=0,_;const v=()=>{if(clearTimeout(_),!d.value){p=0;return}u&&(_=setTimeout(v,Math.max(1e3-p*250,150)),p++),a()};return Vn(d,v,{flush:"sync"})}function ait(r,a){return Met(r,u=>{!j7.value||u.repeat||a()})}function oit(){const r=tit(),{escape:a,space:u,shift:d,left:p,right:_,up:v,down:C,enter:S,d:D,g:E,o:H}=F7;new Map([{key:ei(u,ls(d)),fn:rl,autoRepeat:!0},{key:ei(u,d),fn:il,autoRepeat:!0},{key:ei(_,ls(d),ls($i)),fn:rl,autoRepeat:!0},{key:ei(p,ls(d),ls($i)),fn:il,autoRepeat:!0},{key:"pageDown",fn:rl,autoRepeat:!0},{key:"pageUp",fn:il,autoRepeat:!0},{key:ei(v,ls($i)),fn:()=>Xd(!1),autoRepeat:!0},{key:ei(C,ls($i)),fn:Gd,autoRepeat:!0},{key:ei(p,d),fn:()=>Xd(!1),autoRepeat:!0},{key:ei(_,d),fn:Gd,autoRepeat:!0},{key:ei(D,ls(Na)),fn:W7},{key:ei(H,ls(Na)),fn:V7},{key:ei(a,ls(Na)),fn:()=>$i.value=!1},{key:ei(E,ls(Na)),fn:()=>Au.value=!Au.value},{key:ei(p,$i),fn:eit},{key:ei(_,$i),fn:nit},{key:ei(v,$i),fn:rit},{key:ei(C,$i),fn:iit},{key:ei(S,$i),fn:()=>{Yu(ds.value),$i.value=!1}},...r].map(K=>[K.key,K])).forEach(K=>{K.fn&&sit(K.key,K.fn,K.autoRepeat)}),ait("f",()=>P7.toggle())}const lit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},cit=w("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),uit=[cit];function hit(r,a){return Mt(),Pe("svg",lit,uit)}var dit={name:"carbon-close",render:hit};function _b(r){var u,d;const a=(d=(u=r==null?void 0:r.meta)==null?void 0:u.slide)==null?void 0:d.no;return a!=null?`slidev-page-${a}`:""}const q7=Xn({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(r){const a=r;le(ve);const u=Se(),d=nnt(u),p=Qt(()=>a.width?a.width:d.width.value),_=Qt(()=>a.width?a.width/nl:d.height.value);a.width&&al(()=>{u.value&&(u.value.style.width=`${p.value}px`,u.value.style.height=`${_.value}px`)});const v=Qt(()=>p.value/_.value),C=Qt(()=>a.scale?a.scale:v.value<nl?p.value/dc:_.value*nl/dc),S=Qt(()=>({height:`${m7}px`,width:`${dc}px`,transform:`translate(-50%, -50%) scale(${C.value})`})),D=Qt(()=>({"select-none":!Jn.selectable,"slidev-code-line-numbers":Jn.lineNumbers}));return hs(g7,C),(E,H)=>(Mt(),Pe("div",{id:"slide-container",ref_key:"root",ref:u,class:Dr(St(D))},[w("div",{id:"slide-content",style:Oi(St(S))},[Ia(E.$slots,"default")],4),Ia(E.$slots,"controls")],2))}});var bb=Xn({props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(r,{emit:a}){const u=Ma(r,"clicks",a),d=Ma(r,"clicksElements",a),p=Ma(r,"clicksDisabled",a),_=Ma(r,"clicksOrderMap",a);d.value.length=0,hs(Ntt,r.route),hs(Dtt,r.context),hs(Ld,u),hs(Od,p),hs(rc,d),hs(m_,_)},render(){var r,a;return this.$props.is?Ai(this.$props.is):(a=(r=this.$slots)==null?void 0:r.default)==null?void 0:a.call(r)}});const fit=["innerHTML"],G7=Xn({__name:"DrawingPreview",props:{page:null},setup(r){return le(ve),(a,u)=>St(_p)[r.page]?(Mt(),Pe("svg",{key:0,ref:"svg",class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:St(_p)[r.page]},null,8,fit)):zn("v-if",!0)}});var pit=Object.freeze(Object.defineProperty({__proto__:null,default:G7},Symbol.toStringTag,{value:"Module"}));const git={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},mit=["onClick"],yit=Xn({__name:"SlidesOverview",props:{modelValue:{type:Boolean}},emits:[],setup(r,{emit:a}){const u=r;le(ve);const d=Ma(u,"modelValue",a);function p(){d.value=!1}function _(K){Yu(K),p()}function v(K){return K===ds.value}const C=T_.smaller("xs"),S=T_.smaller("sm"),D=4*16*2,E=2*16,H=Qt(()=>C.value?fc.width.value-D:S.value?(fc.width.value-D-E)/2:300),W=Qt(()=>Math.floor((fc.width.value-D)/(H.value+E)));return al(()=>{ds.value=ri.value,yb.value=W.value}),(K,ot)=>{const Tt=dit;return Mt(),Pe(sr,null,[Up(w("div",git,[w("div",{class:"grid gap-y-4 gap-x-8 w-full",style:Oi(`grid-template-columns: repeat(auto-fit,minmax(${St(H)}px,1fr))`)},[(Mt(!0),Pe(sr,null,Qd(St(ni).slice(0,-1),(Lt,Kt)=>(Mt(),Pe("div",{key:Lt.path,class:"relative"},[w("div",{class:Dr(["inline-block border border-gray-400 rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":v(Kt+1)}]),onClick:Pt=>_(+Lt.path)},[(Mt(),be(q7,{key:Lt.path,width:St(H),"clicks-disabled":!0,class:"pointer-events-none"},{default:ke(()=>[Ne(St(bb),{is:Lt==null?void 0:Lt.component,"clicks-disabled":!0,class:Dr(St(_b)(Lt)),route:Lt,context:"overview"},null,8,["is","class","route"]),Ne(G7,{page:+Lt.path},null,8,["page"])]),_:2},1032,["width"]))],10,mit),w("div",{class:"absolute top-0 opacity-50",style:Oi(`left: ${St(H)+5}px`)},pc(Kt+1),5)]))),128))],4)],512),[[d7,St(d)]]),St(d)?(Mt(),Pe("button",{key:0,class:"fixed text-2xl top-4 right-4 icon-btn text-gray-400",onClick:p},[Ne(Tt)])):zn("v-if",!0)],64)}}});var _it="/slides/presentations/programming_with_algebra/assets/logo.b72bde5d.png";const bit={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},vit=Xn({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(r,{emit:a}){const u=r;le(ve);const d=Ma(u,"modelValue",a);function p(){d.value=!1}return(_,v)=>(Mt(),be(qE,null,[St(d)?(Mt(),Pe("div",bit,[w("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:v[0]||(v[0]=C=>p())}),w("div",{class:Dr(["m-auto rounded-md bg-main shadow",u.class]),"dark:border":"~ gray-400 opacity-10"},[Ia(_.$slots,"default")],2)])):zn("v-if",!0)],1024))}});const xit={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},kit=["innerHTML"],wit=w("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[w("div",{class:"flex gap-1 children:my-auto"},[w("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),w("img",{class:"w-5 h-5",src:_it,alt:"Slidev"}),w("div",{style:{color:"#2082A6"}},[w("b",null,"Sli"),P("dev ")])])],-1),Tit=Xn({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(r,{emit:a}){const u=r;le(ve);const d=Ma(u,"modelValue",a),p=Qt(()=>typeof Jn.info=="string");return(_,v)=>(Mt(),be(vit,{modelValue:St(d),"onUpdate:modelValue":v[0]||(v[0]=C=>or(d)?d.value=C:null),class:"px-6 py-4"},{default:ke(()=>[w("div",xit,[St(p)?(Mt(),Pe("div",{key:0,class:"mb-4",innerHTML:St(Jn).info},null,8,kit)):zn("v-if",!0),wit])]),_:1},8,["modelValue"]))}}),Eit=["disabled","onKeydown"],Cit=Xn({__name:"Goto",setup(r){le(ve);const a=Se(),u=Se(""),d=Qt(()=>{if(u.value.startsWith("/"))return!!ni.find(v=>v.path===u.value.substring(1));{const v=+u.value;return!isNaN(v)&&v>0&&v<=fC.value}});function p(){d.value&&(u.value.startsWith("/")?Yu(u.value.substring(1)):Yu(+u.value)),_()}function _(){Au.value=!1}return Vn(Au,async v=>{var C,S;v?(await yi(),u.value="",(C=a.value)==null||C.focus()):(S=a.value)==null||S.blur()}),Vn(u,v=>{v.match(/^[^0-9/]/)&&(u.value=u.value.substring(1))}),(v,C)=>(Mt(),Pe("div",{id:"slidev-goto-dialog",class:Dr(["fixed right-5 bg-main transform transition-all",St(Au)?"top-5":"-top-20"]),shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:gray-400 dark:opacity-25"},[Up(w("input",{ref_key:"input",ref:a,"onUpdate:modelValue":C[0]||(C[0]=S=>u.value=S),type:"text",disabled:!St(Au),class:Dr(["outline-none bg-transparent",{"text-red-400":!St(d)&&u.value}]),placeholder:"Goto...",onKeydown:[B8(p,["enter"]),B8(_,["escape"])],onBlur:_},null,42,Eit),[[gtt,u.value]])],2))}}),Sit=Xn({__name:"Controls",setup(r){le(ve);const a=oa(),u=oa();return(d,p)=>(Mt(),Pe(sr,null,[Ne(yit,{modelValue:St($i),"onUpdate:modelValue":p[0]||(p[0]=_=>or($i)?$i.value=_:null)},null,8,["modelValue"]),Ne(Cit),St(a)?(Mt(),be(St(a),{key:0})):zn("v-if",!0),St(u)?(Mt(),be(St(u),{key:1,modelValue:St(Hy),"onUpdate:modelValue":p[1]||(p[1]=_=>or(Hy)?Hy.value=_:null)},null,8,["modelValue"])):zn("v-if",!0),St(Jn).info?(Mt(),be(Tit,{key:2,modelValue:St(Dd),"onUpdate:modelValue":p[2]||(p[2]=_=>or(Dd)?Dd.value=_:null)},null,8,["modelValue"])):zn("v-if",!0)],64))}}),Ait={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Lit=w("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),Oit=[Lit];function Mit(r,a){return Mt(),Pe("svg",Ait,Oit)}var Nit={name:"carbon-settings-adjust",render:Mit};const Dit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Iit=w("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),Rit=w("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),Bit=[Iit,Rit];function Fit(r,a){return Mt(),Pe("svg",Dit,Bit)}var Pit={name:"carbon-information",render:Fit};const Vit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},$it=w("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),Yit=[$it];function Uit(r,a){return Mt(),Pe("svg",Vit,Yit)}var zit={name:"carbon-download",render:Uit};const Hit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Wit=w("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),jit=w("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),qit=[Wit,jit];function Git(r,a){return Mt(),Pe("svg",Hit,qit)}var Xit={name:"carbon-user-speaker",render:Git};const Kit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Zit=w("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),Qit=w("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),Jit=[Zit,Qit];function tst(r,a){return Mt(),Pe("svg",Kit,Jit)}var est={name:"carbon-presentation-file",render:tst};const nst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},rst=w("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),ist=[rst];function sst(r,a){return Mt(),Pe("svg",nst,ist)}var ast={name:"carbon-pen",render:sst};const ost={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},lst=w("path",{fill:"currentColor",d:"m38.2 48.5l58.2 155.2a8 8 0 0 0 15-.1l23.3-64.1a8.1 8.1 0 0 1 4.8-4.8l64.1-23.3a8 8 0 0 0 .1-15L48.5 38.2a8 8 0 0 0-10.3 10.3Z",opacity:".2"},null,-1),cst=w("path",{fill:"currentColor",d:"m150.5 139.2l55.9-20.3a16 16 0 0 0 .1-30L51.3 30.7a16 16 0 0 0-20.6 20.6l58.2 155.2a15.9 15.9 0 0 0 15 10.4h.1a15.9 15.9 0 0 0 14.9-10.5l20.3-55.9l63.1 63.2a8.5 8.5 0 0 0 5.7 2.3a8.3 8.3 0 0 0 5.7-2.3a8.1 8.1 0 0 0 0-11.4Zm-46.6 61.7L45.7 45.7l155.2 58.2l-64.1 23.3a15.7 15.7 0 0 0-9.6 9.6Z"},null,-1),ust=[lst,cst];function hst(r,a){return Mt(),Pe("svg",ost,ust)}var dst={name:"ph-cursor-duotone",render:hst};const fst={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},pst=w("path",{fill:"currentColor",d:"M213.7 202.3a8.1 8.1 0 0 1 0 11.4a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3l-63.1-63.2l-20.3 55.9a15.9 15.9 0 0 1-14.9 10.5h-.1a15.9 15.9 0 0 1-15-10.4L30.7 51.3a16 16 0 0 1 20.6-20.6l155.2 58.2a16 16 0 0 1-.1 30l-55.9 20.3Z"},null,-1),gst=[pst];function mst(r,a){return Mt(),Pe("svg",fst,gst)}var X7={name:"ph-cursor-fill",render:mst};const yst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_st=w("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),bst=[_st];function vst(r,a){return Mt(),Pe("svg",yst,bst)}var xst={name:"carbon-sun",render:vst};const kst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},wst=w("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),Tst=[wst];function Est(r,a){return Mt(),Pe("svg",kst,Tst)}var Cst={name:"carbon-moon",render:Est};const Sst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ast=w("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),Lst=[Ast];function Ost(r,a){return Mt(),Pe("svg",Sst,Lst)}var Mst={name:"carbon-apps",render:Ost};const Nst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Dst=w("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),Ist=[Dst];function Rst(r,a){return Mt(),Pe("svg",Nst,Ist)}var Bst={name:"carbon-arrow-right",render:Rst};const Fst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Pst=w("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),Vst=[Pst];function $st(r,a){return Mt(),Pe("svg",Fst,Vst)}var Yst={name:"carbon-arrow-left",render:$st};const Ust={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},zst=w("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),Hst=[zst];function Wst(r,a){return Mt(),Pe("svg",Ust,Hst)}var jst={name:"carbon-maximize",render:Wst};const qst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Gst=w("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),Xst=[Gst];function Kst(r,a){return Mt(),Pe("svg",qst,Xst)}var Zst={name:"carbon-minimize",render:Kst};const Qst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Jst=w("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),tat=[Jst];function eat(r,a){return Mt(),Pe("svg",Qst,tat)}var nat={name:"carbon-checkmark",render:eat};var Jd=(r,a)=>{const u=r.__vccOpts||r;for(const[d,p]of a)u[d]=p;return u};const rat={class:"select-list"},iat={class:"title"},sat={class:"items"},aat=["onClick"],oat=Xn({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(r,{emit:a}){const u=r;le(ve);const d=Ma(u,"modelValue",a,{passive:!0});return(p,_)=>{const v=nat;return Mt(),Pe("div",rat,[w("div",iat,pc(r.title),1),w("div",sat,[(Mt(!0),Pe(sr,null,Qd(r.items,C=>(Mt(),Pe("div",{key:C.value,class:Dr(["item",{active:St(d)===C.value}]),onClick:()=>{var S;d.value=C.value,(S=C.onClick)==null||S.call(C)}},[Ne(v,{class:Dr(["text-green-500",{"opacity-0":St(d)!==C.value}])},null,8,["class"]),P(" "+pc(C.display||C.value),1)],10,aat))),128))])])}}});var lat=Jd(oat,[["__scopeId","data-v-5a1f2bcf"]]);const cat={class:"text-sm"},uat=Xn({__name:"Settings",setup(r){le(ve);const a=[{display:"Fit",value:0},{display:"1:1",value:1}];return(u,d)=>(Mt(),Pe("div",cat,[Ne(lat,{modelValue:St(ap),"onUpdate:modelValue":d[0]||(d[0]=p=>or(ap)?ap.value=p:null),title:"Scale",items:a},null,8,["modelValue"])]))}}),hat={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ gray-400 opacity-10"},dat=Xn({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(r,{emit:a}){const u=r;le(ve);const d=Ma(u,"modelValue",a,{passive:!0}),p=Se();return Let(p,()=>{d.value=!1}),(_,v)=>(Mt(),Pe("div",{ref_key:"el",ref:p,class:"flex relative"},[w("button",{class:Dr({disabled:r.disabled}),onClick:v[0]||(v[0]=C=>d.value=!St(d))},[Ia(_.$slots,"button",{class:Dr({disabled:r.disabled})})],2),(Mt(),be(qE,null,[St(d)?(Mt(),Pe("div",hat,[Ia(_.$slots,"menu")])):zn("v-if",!0)],1024))],512))}}),fat={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},Q0={__name:"VerticalDivider",setup(r){return le(ve),(a,u)=>(Mt(),Pe("div",fat))}};var pat={render(){return[]}};const gat={class:"icon-btn"},mat={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},yat={class:"my-auto"},_at={class:"opacity-50"},bat=Xn({__name:"NavControls",props:{persist:{default:!1}},setup(r){const a=r;le(ve);const u=T_.smaller("md"),{isFullscreen:d,toggle:p}=P7,_=Qt(()=>M_.value?`?password=${M_.value}`:""),v=Qt(()=>`/presenter/${ri.value}${_.value}`),C=Qt(()=>`/${ri.value}${_.value}`),S=Se(),D=()=>{S.value&&Ru.value&&S.value.contains(Ru.value)&&Ru.value.blur()},E=Qt(()=>a.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),H=oa(),W=oa();return Hu(()=>import("./DrawingControls.932ca558.js"),[]).then(K=>W.value=K.default),(K,ot)=>{const Tt=Zst,Lt=jst,Kt=Yst,Pt=Bst,Nt=Mst,Gt=Cst,he=xst,ae=X7,Be=dst,mn=ast,Rn=est,Bn=mp("RouterLink"),Hn=Xit,Kr=zit,Rr=Pit,xr=Nit;return Mt(),Pe("nav",{ref_key:"root",ref:S,class:"flex flex-col"},[w("div",{class:Dr(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",St(E)]),onMouseleave:D},[St(_o)?zn("v-if",!0):(Mt(),Pe("button",{key:0,class:"icon-btn",onClick:ot[0]||(ot[0]=(...lr)=>St(p)&&St(p)(...lr))},[St(d)?(Mt(),be(Tt,{key:0})):(Mt(),be(Lt,{key:1}))])),w("button",{class:Dr(["icon-btn",{disabled:!St(udt)}]),onClick:ot[1]||(ot[1]=(...lr)=>St(il)&&St(il)(...lr))},[Ne(Kt)],2),w("button",{class:Dr(["icon-btn",{disabled:!St(cdt)}]),title:"Next",onClick:ot[2]||(ot[2]=(...lr)=>St(rl)&&St(rl)(...lr))},[Ne(Pt)],2),St(_o)?zn("v-if",!0):(Mt(),Pe("button",{key:1,class:"icon-btn",title:"Slides overview",onClick:ot[3]||(ot[3]=lr=>St(V7)())},[Ne(Nt)])),St(A_)?zn("v-if",!0):(Mt(),Pe("button",{key:2,class:"icon-btn",title:"Toggle dark mode",onClick:ot[4]||(ot[4]=lr=>St(W7)())},[St(qp)?(Mt(),be(Gt,{key:0})):(Mt(),be(he,{key:1}))])),Ne(Q0),St(_o)?zn("v-if",!0):(Mt(),Pe(sr,{key:3},[!St(Oa)&&!St(u)&&St(H)?(Mt(),Pe(sr,{key:0},[Ne(St(H)),Ne(Q0)],64)):zn("v-if",!0),St(Oa)?(Mt(),Pe("button",{key:1,class:"icon-btn",title:"Show presenter cursor",onClick:ot[5]||(ot[5]=lr=>Wy.value=!St(Wy))},[St(Wy)?(Mt(),be(ae,{key:0})):(Mt(),be(Be,{key:1,class:"opacity-50"}))])):zn("v-if",!0)],64)),!St(Jn).drawings.presenterOnly&&!St(_o)?(Mt(),Pe(sr,{key:4},[w("button",{class:"icon-btn relative",title:"Drawing",onClick:ot[6]||(ot[6]=lr=>Na.value=!St(Na))},[Ne(mn),St(Na)?(Mt(),Pe("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:Oi({background:St(oc).color})},null,4)):zn("v-if",!0)]),Ne(Q0)],64)):zn("v-if",!0),St(_o)?zn("v-if",!0):(Mt(),Pe(sr,{key:5},[St(Oa)?(Mt(),be(Bn,{key:0,to:St(C),class:"icon-btn",title:"Play Mode"},{default:ke(()=>[Ne(Rn)]),_:1},8,["to"])):zn("v-if",!0),St(adt)?(Mt(),be(Bn,{key:1,to:St(v),class:"icon-btn",title:"Presenter Mode"},{default:ke(()=>[Ne(Hn)]),_:1},8,["to"])):zn("v-if",!0),zn("v-if",!0)],64)),(Mt(),Pe(sr,{key:6},[St(Jn).download?(Mt(),Pe("button",{key:0,class:"icon-btn",onClick:ot[8]||(ot[8]=(...lr)=>St(N_)&&St(N_)(...lr))},[Ne(Kr)])):zn("v-if",!0)],64)),!St(Oa)&&St(Jn).info&&!St(_o)?(Mt(),Pe("button",{key:7,class:"icon-btn",onClick:ot[9]||(ot[9]=lr=>Dd.value=!St(Dd))},[Ne(Rr)])):zn("v-if",!0),!St(Oa)&&!St(_o)?(Mt(),be(dat,{key:8},{button:ke(()=>[w("button",gat,[Ne(xr)])]),menu:ke(()=>[Ne(uat)]),_:1})):zn("v-if",!0),St(_o)?zn("v-if",!0):(Mt(),be(Q0,{key:9})),w("div",mat,[w("div",yat,[P(pc(St(ri))+" ",1),w("span",_at,"/ "+pc(St(fC)),1)])]),Ne(St(pat))],34)],512)}}});var K7={render(){return[]}},vat="/slides/presentations/programming_with_algebra/prima_logo.png";const xat={class:"absolute bottom-0 left-0 right-0 p-2"},kat=w("img",{src:vat,class:"m-10 h-10"},null,-1),wat=[kat],Tat={__name:"global-bottom",setup(r){return le(ve),(a,u)=>(Mt(),Pe("footer",xat,wat))}};var Z7={render(){return[Ai(Tat)]}};const Eat={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},Cat=Xn({__name:"PresenterMouse",setup(r){return le(ve),(a,u)=>{const d=X7;return St($y).cursor?(Mt(),Pe("div",Eat,[Ne(d,{class:"absolute",style:Oi({left:`${St($y).cursor.x}%`,top:`${St($y).cursor.y}%`})},null,8,["style"])])):zn("v-if",!0)}}}),Sat=Xn({__name:"SlidesShow",props:{context:null},setup(r){le(ve),Vn(us,()=>{var u,d;((u=us.value)==null?void 0:u.meta)&&us.value.meta.preload!==!1&&(us.value.meta.__preloaded=!0),((d=qy.value)==null?void 0:d.meta)&&qy.value.meta.preload!==!1&&(qy.value.meta.__preloaded=!0)},{immediate:!0});const a=oa();return Hu(()=>import("./DrawingLayer.c86c1bfc.js"),[]).then(u=>a.value=u.default),(u,d)=>(Mt(),Pe(sr,null,[zn(" Global Bottom "),Ne(St(Z7)),zn(" Slides "),(Mt(!0),Pe(sr,null,Qd(St(ni),p=>{var _,v;return Mt(),Pe(sr,{key:p.path},[((_=p.meta)==null?void 0:_.__preloaded)||p===St(us)?Up((Mt(),be(St(bb),{key:0,is:p==null?void 0:p.component,clicks:p===St(us)?St(aa):0,"clicks-elements":((v=p.meta)==null?void 0:v.__clicksElements)||[],"clicks-disabled":!1,class:Dr(St(_b)(p)),route:p,context:r.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[d7,p===St(us)]]):zn("v-if",!0)],64)}),128)),zn(" Global Top "),Ne(St(K7)),St(a)?(Mt(),be(St(a),{key:0})):zn("v-if",!0),St(Oa)?zn("v-if",!0):(Mt(),be(Cat,{key:1}))],64))}}),Aat=Xn({__name:"Play",setup(r){le(ve),oit();const a=Se();function u(_){var v;bT.value||((v=_.target)==null?void 0:v.id)==="slide-container"&&(_.screenX/window.innerWidth>.6?rl():il())}fdt(a);const d=Qt(()=>yrt.value||bT.value);oa();const p=oa();return Hu(()=>import("./DrawingControls.932ca558.js"),[]).then(_=>p.value=_.default),(_,v)=>(Mt(),Pe(sr,null,[w("div",{id:"page-root",ref_key:"root",ref:a,class:"grid grid-cols-[1fr_max-content]",style:Oi(St(y7))},[Ne(q7,{class:"w-full h-full",style:Oi({background:"var(--slidev-slide-container-background, black)"}),width:St(Tb)?St(fc).width.value:void 0,scale:St(ap),onPointerdown:u},{default:ke(()=>[Ne(Sat,{context:"slide"})]),controls:ke(()=>[w("div",{class:Dr(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[St(d)?"opacity-100 right-0":"opacity-0 p-2",St(Wd)?"pointer-events-none":""]])},[Ne(bat,{class:"m-auto",persist:St(d)},null,8,["persist"])],2),!St(Jn).drawings.presenterOnly&&!St(_o)&&St(p)?(Mt(),be(St(p),{key:0,class:"ml-0"})):zn("v-if",!0)]),_:1},8,["style","width","scale"]),zn("v-if",!0)],4),Ne(Sit)],64))}});function Q7(r){const a=Qt(()=>r.value.path),u=Qt(()=>ni.length-1),d=Qt(()=>parseInt(a.value.split(/\//g).slice(-1)[0])||1),p=Qt(()=>Gp(d.value)),_=Qt(()=>ni.find(W=>W.path===`${d.value}`)),v=Qt(()=>{var W,K,ot;return(ot=(K=(W=_.value)==null?void 0:W.meta)==null?void 0:K.slide)==null?void 0:ot.id}),C=Qt(()=>{var W,K;return(K=(W=_.value)==null?void 0:W.meta)==null?void 0:K.layout}),S=Qt(()=>ni.find(W=>W.path===`${Math.min(ni.length,d.value+1)}`)),D=Qt(()=>ni.filter(W=>{var K,ot;return(ot=(K=W.meta)==null?void 0:K.slide)==null?void 0:ot.title}).reduce((W,K)=>(Eb(W,K),W),[])),E=Qt(()=>Cb(D.value,_.value)),H=Qt(()=>Sb(E.value));return{route:r,path:a,total:u,currentPage:d,currentPath:p,currentRoute:_,currentSlideId:v,currentLayout:C,nextRoute:S,rawTree:D,treeWithActiveStatuses:E,tree:H}}function J7(r,a,u){const d=Se(0);yi(()=>{fs.afterEach(async()=>{await yi(),d.value+=1})});const p=Qt(()=>{var S,D;return d.value,((D=(S=a.value)==null?void 0:S.meta)==null?void 0:D.__clicksElements)||[]}),_=Qt(()=>{var S,D,E;return+((E=(D=(S=a.value)==null?void 0:S.meta)==null?void 0:D.clicks)!=null?E:p.value.length)}),v=Qt(()=>u.value<ni.length-1||r.value<_.value),C=Qt(()=>u.value>1||r.value>0);return{clicks:r,clicksElements:p,clicksTotal:_,hasNext:v,hasPrev:C}}const Lat=["id"],OT=Xn({__name:"PrintSlideClick",props:{clicks:null,clicksElements:null,nav:null,route:null},emits:["update:clicksElements"],setup(r,{emit:a}){const u=r,d=Ma(u,"clicksElements",a),p=Qt(()=>({height:`${m7}px`,width:`${dc}px`})),_=oa();Hu(()=>Promise.resolve().then(function(){return pit}),void 0).then(D=>_.value=D.default);const v=Qt(()=>u.clicks),C=J7(v,u.nav.currentRoute,u.nav.currentPage),S=Qt(()=>`${u.route.path.toString().padStart(3,"0")}-${(v.value+1).toString().padStart(2,"0")}`);return hs(ve,vr({nav:{...u.nav,...C},configs:Jn,themeConfigs:Qt(()=>Jn.themeConfig)})),(D,E)=>{var H;return Mt(),Pe("div",{id:St(S),class:"slide-container",style:Oi(St(p))},[Ne(St(Z7)),Ne(St(bb),{is:(H=r.route)==null?void 0:H.component,"clicks-elements":St(d),"onUpdate:clicks-elements":E[0]||(E[0]=W=>or(d)?d.value=W:null),clicks:St(v),"clicks-disabled":!1,class:Dr(St(_b)(r.route)),route:r.route},null,8,["is","clicks-elements","clicks","class","route"]),St(_)?(Mt(),be(St(_),{key:0,page:+r.route.path},null,8,["page"])):zn("v-if",!0),Ne(St(K7))],12,Lat)}}}),Oat=Xn({__name:"PrintSlide",props:{route:null},setup(r){var _;const a=r;le(ve);const u=vr(((_=a.route.meta)==null?void 0:_.__clicksElements)||[]),d=Qt(()=>a.route),p=Q7(d);return(v,C)=>(Mt(),Pe(sr,null,[Ne(OT,{"clicks-elements":u,"onUpdate:clicks-elements":C[0]||(C[0]=S=>u=S),clicks:0,nav:St(p),route:St(d)},null,8,["clicks-elements","nav","route"]),St(Id)?zn("v-if",!0):(Mt(!0),Pe(sr,{key:0},Qd(u.length,S=>(Mt(),be(OT,{key:S,clicks:S,nav:St(p),route:St(d)},null,8,["clicks","nav","route"]))),128))],64))}});const Mat={id:"print-content"},Nat=Xn({__name:"PrintContainer",props:{width:null},setup(r){const a=r;le(ve);const u=Qt(()=>a.width),d=Qt(()=>a.width/nl),p=Qt(()=>u.value/d.value),_=Qt(()=>p.value<nl?u.value/dc:d.value*nl/dc),v=ni.slice(0,-1),C=Qt(()=>({"select-none":!Jn.selectable,"slidev-code-line-numbers":Jn.lineNumbers}));return hs(g7,_),(S,D)=>(Mt(),Pe("div",{id:"print-container",class:Dr(St(C))},[w("div",Mat,[(Mt(!0),Pe(sr,null,Qd(St(v),E=>(Mt(),be(Oat,{key:E.path,route:E},null,8,["route"]))),128))]),Ia(S.$slots,"controls")],2))}});const Dat=Xn({__name:"Print",setup(r){le(ve);const a=ac.canvasWidth,u=Math.round(a/ac.aspectRatio)+1;function d(p,{slots:_}){if(_.default)return Ai("style",_.default())}return al(()=>{Tb?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(p,_)=>(Mt(),Pe(sr,null,[Ne(d,null,{default:ke(()=>[P(" @page { size: "+pc(St(a))+"px "+pc(u)+"px; margin: 0px; } ",1)]),_:1}),w("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:Oi(St(y7))},[Ne(Nat,{class:"w-full h-full",style:Oi({background:"var(--slidev-slide-container-background, black)"}),width:St(fc).width.value},null,8,["style","width"])],4)],64))}});const Iat={class:"slidev-layout end"},Rat={__name:"end",setup(r){return le(ve),(a,u)=>(Mt(),Pe("div",Iat," END "))}};var Bat=Jd(Rat,[["__scopeId","data-v-739044c6"]]);const Fat={class:"slidev-layout cover"},Pat={__name:"cover",setup(r){return le(ve),(a,u)=>(Mt(),Pe("div",Fat,[Ia(a.$slots,"default")]))}},Vat=w("h1",null,"Programming with Algebras",-1),$at=w("p",null,"Stefano Candori",-1),Yat={__name:"1",setup(r){const a={theme:"eloc"};return le(ve),(u,d)=>(Mt(),be(Pat,en(Je(a)),{default:ke(()=>[Vat,$at]),_:1},16))}},Uat={class:"slidev-layout default"},sn={__name:"default",setup(r){return le(ve),(a,u)=>(Mt(),Pe("div",Uat,[Ia(a.$slots,"default")]))}},zat=w("h2",null,[P("A "),w("code",null,"monad"),P(" is just a "),w("code",null,"monoid"),P(" in the category of "),w("code",null,"endofunctors"),P(", what\u2019s the problem?")],-1),Hat=w("p",null,[w("em",null,"\u2014 James Iry")],-1),Wat={__name:"2",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[zat,Hat]),_:1},16))}};var tC="/slides/presentations/programming_with_algebra/category_theory_composition.png",eC="/slides/presentations/programming_with_algebra/category_theory_two_elements_boxed.png";const jat=w("div",{class:"grid grid-cols-2 gap-4 justify-items-center items-center"},[w("img",{src:tC,class:"rounded-3-xl shadow-xl h-80"}),w("img",{src:eC,class:"rounded-3-xl shadow-xl h-70"})],-1),qat={__name:"3",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[jat]),_:1},16))}},Gat=w("h2",null,[P("You do not need to know "),w("br"),w("code",null,"category theory"),P(" to "),w("br"),P(" write "),w("code",null,"good"),P(" functional "),w("code",null,"code")],-1),Xat={__name:"4",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Gat]),_:1},16))}},Kat=w("h2",null,[w("code",null,"Composition"),P(" and "),w("code",null,"abstraction"),P(" are the essence of "),w("code",null,"human reasoning")],-1),Zat={__name:"5",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Kat]),_:1},16))}},Qat=w("h2",null,[w("code",null,"Composition"),P(" and "),w("code",null,"abstraction"),P(" are the essence of "),w("code",null,"programming")],-1),Jat={__name:"6",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Qat]),_:1},16))}},tot=w("h2",null,[w("code",null,"Composition"),P(" and "),w("code",null,"abstraction"),P(" are the essence of "),w("code",null,"category theory")],-1),eot={__name:"7",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[tot]),_:1},16))}},not={class:"slidev-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},rot=w("path",{fill:"currentColor",d:"m17.737 14.622l-2.426 2.23a11.603 11.603 0 0 1-4.299 2.37l.644 3.004a1 1 0 0 0 1.469.661l3.905-2.202a3.035 3.035 0 0 0 1.375-3.304zM7.266 8.776l2.088-2.48l-2.604-.628a2.777 2.777 0 0 0-3.387 1.357l-2.2 3.9a1 1 0 0 0 .661 1.469l3.073.659a12.887 12.887 0 0 1 2.369-4.277zm9.468.04a1.5 1.5 0 1 0-1.5-1.5a1.5 1.5 0 0 0 1.5 1.5z"},null,-1),iot=w("path",{fill:"currentColor",d:"M22.601 2.062a1 1 0 0 0-.713-.713A11.249 11.249 0 0 0 10.47 4.972L7.266 8.776a12.936 12.936 0 0 0-2.924 6.71a1 1 0 0 0 .284.837l3.1 3.1a1 1 0 0 0 .708.293a.838.838 0 0 0 .086-.004a11.847 11.847 0 0 0 6.79-2.86l3.664-3.368A11.204 11.204 0 0 0 22.6 2.062Zm-5.867 6.754a1.5 1.5 0 1 1 1.5-1.5a1.5 1.5 0 0 1-1.5 1.5Z",opacity:".5"},null,-1),sot=[rot,iot];function aot(r,a){return Mt(),Pe("svg",not,sot)}var oot={name:"uim-rocket",render:aot};const lot=w("h2",null,[w("code",null,"Category theory")],-1),cot=w("li",null,[P("helps to "),w("code",null,"understand"),P(" how and why things are done in a certain way")],-1),uot=w("li",null,[w("code",null,"unlocks"),P(" your abstract thinking")],-1),hot=w("li",null,[P("lends to extremely useful programming "),w("code",null,"ideas"),P(" which are percolating into every language")],-1),dot=w("code",null,"happy",-1),fot={__name:"8",setup(r){const a={};return le(ve),(u,d)=>{const p=oot;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[lot,w("ol",null,[cot,uot,hot,w("li",null,[P("It\u2019s funny and makes me "),dot,P(),Ne(p,{class:"text-purple-400"})])])]),_:1},16)}}},pot=w("h2",null,[w("code",null,"Applied"),P(" Category Theory")],-1),got=w("ul",null,[w("li",null,"Emerging field!"),w("li",null,"Explosion of papers, research, development in last 10 years"),w("li",null,"Builds a common vocabulary of composition across disciplines (e.g. databases, thermodynamics, quantum theory, digital circuits, distributed systems, \u2026)")],-1),mot={__name:"9",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[pot,got]),_:1},16))}},yot=w("h2",null,[P("The "),w("code",null,"Plan")],-1),_ot=w("ul",null,[w("li",null,[P("I want to put "),w("code",null,"category theory"),P(" on your roadmap/radar")]),w("li",null,[P("The big idea: "),w("code",null,"compositionality")]),w("li",null,[P("Case study: algebraic structures in functional design patterns ("),w("code",null,"functors"),P(", "),w("code",null,"applicatives"),P(" and "),w("code",null,"monads"),P("!)")])],-1),bot={__name:"10",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[yot,_ot]),_:1},16))}},vot=w("h2",null,[P("A "),w("code",null,"category"),P(" consists of "),w("code",null,"objects"),P(" and "),w("code",null,"arrows"),P(" that go between them")],-1),xot={__name:"11",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[vot]),_:1},16))}};var kot="/slides/presentations/programming_with_algebra/category_pig.png";const wot=w("img",{src:kot,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),Tot={__name:"12",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[wot]),_:1},16))}},Eot=w("h1",null,[P("Arrows "),w("code",null,"compose")],-1),Cot={__name:"13",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Eot]),_:1},16))}},Sot=w("img",{src:tC,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),Aot={__name:"14",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Sot]),_:1},16))}};function MT(r){return r.startsWith("/")?"/slides/presentations/programming_with_algebra/"+r.slice(1):r}function Lot(r,a=!1){const u=r&&r[0]==="#"&&r.startsWith("rgb"),d={background:u?r:void 0,color:r&&!u?"white":void 0,backgroundImage:u?void 0:r?a?`linear-gradient(#0005, #0008), url(${MT(r)})`:`url("${MT(r)}")`:void 0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return d.background||delete d.background,d}const Oot={class:"grid grid-cols-2 w-full h-full"},Mot=Xn({__name:"image-right",props:{image:{type:String},class:{type:String}},setup(r){const a=r;le(ve);const u=Qt(()=>Lot(a.image));return(d,p)=>(Mt(),Pe("div",Oot,[w("div",{class:Dr(["slidev-layout default",a.class])},[Ia(d.$slots,"default")],2),w("div",{class:"w-full w-full",style:Oi(St(u))},null,4)]))}}),Not=w("h2",null,[w("code",null,"Laws")],-1),Dot=w("ol",null,[w("li",null,[w("strong",null,"Identity"),P(" for composition")]),w("li",null,[w("strong",null,"Associativity"),P(" in composition")])],-1),Iot={__name:"15",setup(r){const a={layout:"image-right",image:"/category_laws.png"};return le(ve),(u,d)=>(Mt(),be(Mot,en(Je(a)),{default:ke(()=>[Not,Dot]),_:1},16))}};var Rot="/slides/presentations/programming_with_algebra/monoid_pig.png";const Bot=w("h3",null,[P("1-Object Category: "),w("code",null,"Monoid")],-1),Fot=w("p",null,[w("img",{src:Rot,alt:""})],-1),Pot={__name:"16",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Bot,Fot]),_:1},16))}};var Vot="/slides/presentations/programming_with_algebra/category_theory_monoid.jpg";const $ot=w("h3",null,[P("Addition "),w("code",null,"Monoid")],-1),Yot=w("p",null,[w("img",{src:Vot,alt:""})],-1),Uot={__name:"17",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[$ot,Yot]),_:1},16))}};var zot="/slides/presentations/programming_with_algebra/category_composition_example.png";const Hot=w("h3",null,[P("Category of Sets ("),w("code",null,"types"),P(" + "),w("code",null,"functions"),P(")")],-1),Wot=w("p",null,[w("img",{src:zot,alt:""})],-1),jot={__name:"18",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Hot,Wot]),_:1},16))}},qot=w("h1",null,"Breathe.",-1),Got={__name:"19",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[qot]),_:1},16))}},Xot=w("h2",null,[w("code",null,"Algebrical Data Types")],-1),Kot=w("p",null,"A type formed by combining other types",-1),Zot=w("ol",null,[w("li",null,[w("strong",null,"Product"),P(" types")]),w("li",null,[w("strong",null,"Sum"),P(" types")])],-1),Qot={__name:"20",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Xot,Kot,Zot]),_:1},16))}};var Kl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Jot(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var L_={exports:{}};(function(r,a){var u=Object.defineProperty,d=(_,v,C)=>v in _?u(_,v,{enumerable:!0,configurable:!0,writable:!0,value:C}):_[v]=C,p=(_,v,C)=>(d(_,typeof v!="symbol"?v+"":v,C),C);(function(_,v){r.exports=v()})(Kl,function(){var _=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Kl!="undefined"?Kl:typeof self!="undefined"?self:{};function v(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var C={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(_,function(){var n;function i(){return n.apply(null,arguments)}function s(m){return m instanceof Array||Object.prototype.toString.call(m)==="[object Array]"}function o(m){return m!=null&&Object.prototype.toString.call(m)==="[object Object]"}function l(m,T){return Object.prototype.hasOwnProperty.call(m,T)}function h(m){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(m).length===0;for(var T in m)if(l(m,T))return;return 1}function f(m){return m===void 0}function g(m){return typeof m=="number"||Object.prototype.toString.call(m)==="[object Number]"}function y(m){return m instanceof Date||Object.prototype.toString.call(m)==="[object Date]"}function b(m,T){for(var M=[],F=m.length,Z=0;Z<F;++Z)M.push(T(m[Z],Z));return M}function x(m,T){for(var M in T)l(T,M)&&(m[M]=T[M]);return l(T,"toString")&&(m.toString=T.toString),l(T,"valueOf")&&(m.valueOf=T.valueOf),m}function k(m,T,M,F){return gi(m,T,M,F,!0).utc()}function O(m){return m._pf==null&&(m._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),m._pf}function I(m){if(m._isValid==null){var T=O(m),M=Y.call(T.parsedDateParts,function(F){return F!=null}),M=!isNaN(m._d.getTime())&&T.overflow<0&&!T.empty&&!T.invalidEra&&!T.invalidMonth&&!T.invalidWeekday&&!T.weekdayMismatch&&!T.nullInput&&!T.invalidFormat&&!T.userInvalidated&&(!T.meridiem||T.meridiem&&M);if(m._strict&&(M=M&&T.charsLeftOver===0&&T.unusedTokens.length===0&&T.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(m))return M;m._isValid=M}return m._isValid}function R(m){var T=k(NaN);return m!=null?x(O(T),m):O(T).userInvalidated=!0,T}var Y=Array.prototype.some||function(m){for(var T=Object(this),M=T.length>>>0,F=0;F<M;F++)if(F in T&&m.call(this,T[F],F,T))return!0;return!1},V=i.momentProperties=[],X=!1;function J(m,T){var M,F,Z,kt=V.length;if(f(T._isAMomentObject)||(m._isAMomentObject=T._isAMomentObject),f(T._i)||(m._i=T._i),f(T._f)||(m._f=T._f),f(T._l)||(m._l=T._l),f(T._strict)||(m._strict=T._strict),f(T._tzm)||(m._tzm=T._tzm),f(T._isUTC)||(m._isUTC=T._isUTC),f(T._offset)||(m._offset=T._offset),f(T._pf)||(m._pf=O(T)),f(T._locale)||(m._locale=T._locale),0<kt)for(M=0;M<kt;M++)f(Z=T[F=V[M]])||(m[F]=Z);return m}function st(m){J(this,m),this._d=new Date(m._d!=null?m._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),X===!1&&(X=!0,i.updateOffset(this),X=!1)}function lt(m){return m instanceof st||m!=null&&m._isAMomentObject!=null}function tt(m){i.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+m)}function at(m,T){var M=!0;return x(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,m),M){for(var F,Z,kt=[],Ut=arguments.length,ne=0;ne<Ut;ne++){if(F="",typeof arguments[ne]=="object"){for(Z in F+=`
[`+ne+"] ",arguments[0])l(arguments[0],Z)&&(F+=Z+": "+arguments[0][Z]+", ");F=F.slice(0,-2)}else F=arguments[ne];kt.push(F)}tt(m+`
Arguments: `+Array.prototype.slice.call(kt).join("")+`
`+new Error().stack),M=!1}return T.apply(this,arguments)},T)}var q={};function z(m,T){i.deprecationHandler!=null&&i.deprecationHandler(m,T),q[m]||(tt(T),q[m]=!0)}function $(m){return typeof Function!="undefined"&&m instanceof Function||Object.prototype.toString.call(m)==="[object Function]"}function N(m,T){var M,F=x({},m);for(M in T)l(T,M)&&(o(m[M])&&o(T[M])?(F[M]={},x(F[M],m[M]),x(F[M],T[M])):T[M]!=null?F[M]=T[M]:delete F[M]);for(M in m)l(m,M)&&!l(T,M)&&o(m[M])&&(F[M]=x({},F[M]));return F}function j(m){m!=null&&this.set(m)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;var A=Object.keys||function(m){var T,M=[];for(T in m)l(m,T)&&M.push(T);return M};function gt(m,T,M){var F=""+Math.abs(m);return(0<=m?M?"+":"":"-")+Math.pow(10,Math.max(0,T-F.length)).toString().substr(1)+F}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Dt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ue={},qt={};function ut(m,T,M,F){var Z=typeof F=="string"?function(){return this[F]()}:F;m&&(qt[m]=Z),T&&(qt[T[0]]=function(){return gt(Z.apply(this,arguments),T[1],T[2])}),M&&(qt[M]=function(){return this.localeData().ordinal(Z.apply(this,arguments),m)})}function Ct(m,T){return m.isValid()?(T=vt(T,m.localeData()),ue[T]=ue[T]||function(M){for(var F,Z=M.match(L),kt=0,Ut=Z.length;kt<Ut;kt++)qt[Z[kt]]?Z[kt]=qt[Z[kt]]:Z[kt]=(F=Z[kt]).match(/\[[\s\S]/)?F.replace(/^\[|\]$/g,""):F.replace(/\\/g,"");return function(ne){for(var Ce="",me=0;me<Ut;me++)Ce+=$(Z[me])?Z[me].call(ne,M):Z[me];return Ce}}(T),ue[T](m)):m.localeData().invalidDate()}function vt(m,T){var M=5;function F(Z){return T.longDateFormat(Z)||Z}for(Dt.lastIndex=0;0<=M&&Dt.test(m);)m=m.replace(Dt,F),Dt.lastIndex=0,--M;return m}var xt={};function Ot(m,T){var M=m.toLowerCase();xt[M]=xt[M+"s"]=xt[T]=m}function Ht(m){return typeof m=="string"?xt[m]||xt[m.toLowerCase()]:void 0}function ft(m){var T,M,F={};for(M in m)l(m,M)&&(T=Ht(M))&&(F[T]=m[M]);return F}var _e={};function et(m,T){_e[m]=T}function it(m){return m%4==0&&m%100!=0||m%400==0}function dt(m){return m<0?Math.ceil(m)||0:Math.floor(m)}function Q(T){var T=+T,M=0;return M=T!=0&&isFinite(T)?dt(T):M}function G(m,T){return function(M){return M!=null?(yt(this,m,M),i.updateOffset(this,T),this):U(this,m)}}function U(m,T){return m.isValid()?m._d["get"+(m._isUTC?"UTC":"")+T]():NaN}function yt(m,T,M){m.isValid()&&!isNaN(M)&&(T==="FullYear"&&it(m.year())&&m.month()===1&&m.date()===29?(M=Q(M),m._d["set"+(m._isUTC?"UTC":"")+T](M,m.month(),Rt(M,m.month()))):m._d["set"+(m._isUTC?"UTC":"")+T](M))}var B=/\d/,fn=/\d\d/,It=/\d{3}/,jl=/\d{4}/,qo=/[+-]?\d{6}/,rt=/\d\d?/,Ae=/\d\d\d\d?/,bt=/\d\d\d\d\d\d?/,de=/\d{1,3}/,Go=/\d{1,4}/,jo=/[+-]?\d{1,6}/,Jt=/\d+/,$t=/[+-]?\d+/,te=/Z|[+-]\d\d:?\d\d/gi,Xt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ft=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function wt(m,T,M){Ue[m]=$(T)?T:function(F,Z){return F&&M?M:T}}function dn(m,T){return l(Ue,m)?Ue[m](T._strict,T._locale):new RegExp(We(m.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(M,F,Z,kt,Ut){return F||Z||kt||Ut})))}function We(m){return m.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ue={},je={};function Ve(m,T){var M,F,Z=T;for(typeof m=="string"&&(m=[m]),g(T)&&(Z=function(kt,Ut){Ut[T]=Q(kt)}),F=m.length,M=0;M<F;M++)je[m[M]]=Z}function Un(m,T){Ve(m,function(M,F,Z,kt){Z._w=Z._w||{},T(M,Z._w,Z,kt)})}var Fe,Le=0,Ee=1,Wt=2,Bt=3,oe=4,zt=5,Oe=6,Et=7,on=8;function Rt(m,T){if(isNaN(m)||isNaN(T))return NaN;var M=(T%(M=12)+M)%M;return m+=(T-M)/12,M==1?it(m)?29:28:31-M%7%2}Fe=Array.prototype.indexOf||function(m){for(var T=0;T<this.length;++T)if(this[T]===m)return T;return-1},ut("M",["MM",2],"Mo",function(){return this.month()+1}),ut("MMM",0,0,function(m){return this.localeData().monthsShort(this,m)}),ut("MMMM",0,0,function(m){return this.localeData().months(this,m)}),Ot("month","M"),et("month",8),wt("M",rt),wt("MM",rt,fn),wt("MMM",function(m,T){return T.monthsShortRegex(m)}),wt("MMMM",function(m,T){return T.monthsRegex(m)}),Ve(["M","MM"],function(m,T){T[Ee]=Q(m)-1}),Ve(["MMM","MMMM"],function(m,T,M,F){F=M._locale.monthsParse(m,F,M._strict),F!=null?T[Ee]=F:O(M).invalidMonth=m});var nn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Cn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Sn=Ft,On=Ft;function ze(m,T){var M;if(m.isValid()){if(typeof T=="string"){if(/^\d+$/.test(T))T=Q(T);else if(!g(T=m.localeData().monthsParse(T)))return}M=Math.min(m.date(),Rt(m.year(),T)),m._d["set"+(m._isUTC?"UTC":"")+"Month"](T,M)}}function ln(m){return m!=null?(ze(this,m),i.updateOffset(this,!0),this):U(this,"Month")}function wn(){function m(Ut,ne){return ne.length-Ut.length}for(var T,M=[],F=[],Z=[],kt=0;kt<12;kt++)T=k([2e3,kt]),M.push(this.monthsShort(T,"")),F.push(this.months(T,"")),Z.push(this.months(T,"")),Z.push(this.monthsShort(T,""));for(M.sort(m),F.sort(m),Z.sort(m),kt=0;kt<12;kt++)M[kt]=We(M[kt]),F[kt]=We(F[kt]);for(kt=0;kt<24;kt++)Z[kt]=We(Z[kt]);this._monthsRegex=new RegExp("^("+Z.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+F.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+M.join("|")+")","i")}function Ze(m){return it(m)?366:365}ut("Y",0,0,function(){var m=this.year();return m<=9999?gt(m,4):"+"+m}),ut(0,["YY",2],0,function(){return this.year()%100}),ut(0,["YYYY",4],0,"year"),ut(0,["YYYYY",5],0,"year"),ut(0,["YYYYYY",6,!0],0,"year"),Ot("year","y"),et("year",1),wt("Y",$t),wt("YY",rt,fn),wt("YYYY",Go,jl),wt("YYYYY",jo,qo),wt("YYYYYY",jo,qo),Ve(["YYYYY","YYYYYY"],Le),Ve("YYYY",function(m,T){T[Le]=m.length===2?i.parseTwoDigitYear(m):Q(m)}),Ve("YY",function(m,T){T[Le]=i.parseTwoDigitYear(m)}),Ve("Y",function(m,T){T[Le]=parseInt(m,10)}),i.parseTwoDigitYear=function(m){return Q(m)+(68<Q(m)?1900:2e3)};var U0=G("FullYear",!0);function Xs(m,T,M,F,Z,kt,Ut){var ne;return m<100&&0<=m?(ne=new Date(m+400,T,M,F,Z,kt,Ut),isFinite(ne.getFullYear())&&ne.setFullYear(m)):ne=new Date(m,T,M,F,Z,kt,Ut),ne}function is(m){var T;return m<100&&0<=m?((T=Array.prototype.slice.call(arguments))[0]=m+400,T=new Date(Date.UTC.apply(null,T)),isFinite(T.getUTCFullYear())&&T.setUTCFullYear(m)):T=new Date(Date.UTC.apply(null,arguments)),T}function nr(m,T,M){return M=7+T-M,M-(7+is(m,0,M).getUTCDay()-T)%7-1}function cn(m,Ut,ne,F,Z){var kt,Ut=1+7*(Ut-1)+(7+ne-F)%7+nr(m,F,Z),ne=Ut<=0?Ze(kt=m-1)+Ut:Ut>Ze(m)?(kt=m+1,Ut-Ze(m)):(kt=m,Ut);return{year:kt,dayOfYear:ne}}function hr(m,T,M){var F,Z,kt=nr(m.year(),T,M),kt=Math.floor((m.dayOfYear()-kt-1)/7)+1;return kt<1?F=kt+pr(Z=m.year()-1,T,M):kt>pr(m.year(),T,M)?(F=kt-pr(m.year(),T,M),Z=m.year()+1):(Z=m.year(),F=kt),{week:F,year:Z}}function pr(m,Z,M){var F=nr(m,Z,M),Z=nr(m+1,Z,M);return(Ze(m)-F+Z)/7}ut("w",["ww",2],"wo","week"),ut("W",["WW",2],"Wo","isoWeek"),Ot("week","w"),Ot("isoWeek","W"),et("week",5),et("isoWeek",5),wt("w",rt),wt("ww",rt,fn),wt("W",rt),wt("WW",rt,fn),Un(["w","ww","W","WW"],function(m,T,M,F){T[F.substr(0,1)]=Q(m)});function mr(m,T){return m.slice(T,7).concat(m.slice(0,T))}ut("d",0,"do","day"),ut("dd",0,0,function(m){return this.localeData().weekdaysMin(this,m)}),ut("ddd",0,0,function(m){return this.localeData().weekdaysShort(this,m)}),ut("dddd",0,0,function(m){return this.localeData().weekdays(this,m)}),ut("e",0,0,"weekday"),ut("E",0,0,"isoWeekday"),Ot("day","d"),Ot("weekday","e"),Ot("isoWeekday","E"),et("day",11),et("weekday",11),et("isoWeekday",11),wt("d",rt),wt("e",rt),wt("E",rt),wt("dd",function(m,T){return T.weekdaysMinRegex(m)}),wt("ddd",function(m,T){return T.weekdaysShortRegex(m)}),wt("dddd",function(m,T){return T.weekdaysRegex(m)}),Un(["dd","ddd","dddd"],function(m,T,M,F){F=M._locale.weekdaysParse(m,F,M._strict),F!=null?T.d=F:O(M).invalidWeekday=m}),Un(["d","e","E"],function(m,T,M,F){T[F]=Q(m)});var yr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),dr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Nr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qr=Ft,Me=Ft,pt=Ft;function ie(){function m(me,pn){return pn.length-me.length}for(var T,M,F,Z=[],kt=[],Ut=[],ne=[],Ce=0;Ce<7;Ce++)F=k([2e3,1]).day(Ce),T=We(this.weekdaysMin(F,"")),M=We(this.weekdaysShort(F,"")),F=We(this.weekdays(F,"")),Z.push(T),kt.push(M),Ut.push(F),ne.push(T),ne.push(M),ne.push(F);Z.sort(m),kt.sort(m),Ut.sort(m),ne.sort(m),this._weekdaysRegex=new RegExp("^("+ne.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Ut.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+kt.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Z.join("|")+")","i")}function fe(){return this.hours()%12||12}function xn(m,T){ut(m,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),T)})}function rr(m,T){return T._meridiemParse}ut("H",["HH",2],0,"hour"),ut("h",["hh",2],0,fe),ut("k",["kk",2],0,function(){return this.hours()||24}),ut("hmm",0,0,function(){return""+fe.apply(this)+gt(this.minutes(),2)}),ut("hmmss",0,0,function(){return""+fe.apply(this)+gt(this.minutes(),2)+gt(this.seconds(),2)}),ut("Hmm",0,0,function(){return""+this.hours()+gt(this.minutes(),2)}),ut("Hmmss",0,0,function(){return""+this.hours()+gt(this.minutes(),2)+gt(this.seconds(),2)}),xn("a",!0),xn("A",!1),Ot("hour","h"),et("hour",13),wt("a",rr),wt("A",rr),wt("H",rt),wt("h",rt),wt("k",rt),wt("HH",rt,fn),wt("hh",rt,fn),wt("kk",rt,fn),wt("hmm",Ae),wt("hmmss",bt),wt("Hmm",Ae),wt("Hmmss",bt),Ve(["H","HH"],Bt),Ve(["k","kk"],function(m,T,M){m=Q(m),T[Bt]=m===24?0:m}),Ve(["a","A"],function(m,T,M){M._isPm=M._locale.isPM(m),M._meridiem=m}),Ve(["h","hh"],function(m,T,M){T[Bt]=Q(m),O(M).bigHour=!0}),Ve("hmm",function(m,T,M){var F=m.length-2;T[Bt]=Q(m.substr(0,F)),T[oe]=Q(m.substr(F)),O(M).bigHour=!0}),Ve("hmmss",function(m,T,M){var F=m.length-4,Z=m.length-2;T[Bt]=Q(m.substr(0,F)),T[oe]=Q(m.substr(F,2)),T[zt]=Q(m.substr(Z)),O(M).bigHour=!0}),Ve("Hmm",function(m,T,M){var F=m.length-2;T[Bt]=Q(m.substr(0,F)),T[oe]=Q(m.substr(F))}),Ve("Hmmss",function(m,T,M){var F=m.length-4,Z=m.length-2;T[Bt]=Q(m.substr(0,F)),T[oe]=Q(m.substr(F,2)),T[zt]=Q(m.substr(Z))}),Ft=G("Hours",!0);var Qn,Sr={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:nn,monthsShort:vn,week:{dow:0,doy:6},weekdays:yr,weekdaysMin:Nr,weekdaysShort:dr,meridiemParse:/[ap]\.?m?\.?/i},Ln={},ur={};function zo(m){return m&&m.toLowerCase().replace("_","-")}function Ho(m){for(var T,M,F,Z,kt=0;kt<m.length;){for(T=(Z=zo(m[kt]).split("-")).length,M=(M=zo(m[kt+1]))?M.split("-"):null;0<T;){if(F=Ki(Z.slice(0,T).join("-")))return F;if(M&&M.length>=T&&function(Ut,ne){for(var Ce=Math.min(Ut.length,ne.length),me=0;me<Ce;me+=1)if(Ut[me]!==ne[me])return me;return Ce}(Z,M)>=T-1)break;T--}kt++}return Qn}function Ki(m){var T;if(Ln[m]===void 0&&!0&&t&&t.exports&&m.match("^[^/\\\\]*$")!=null)try{T=Qn._abbr,v("./locale/"+m),$e(T)}catch{Ln[m]=null}return Ln[m]}function $e(m,T){return m&&((T=f(T)?un(m):tn(m,T))?Qn=T:typeof console!="undefined"&&console.warn&&console.warn("Locale "+m+" not found. Did you forget to load it?")),Qn._abbr}function tn(m,T){if(T===null)return delete Ln[m],null;var M,F=Sr;if(T.abbr=m,Ln[m]!=null)z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),F=Ln[m]._config;else if(T.parentLocale!=null)if(Ln[T.parentLocale]!=null)F=Ln[T.parentLocale]._config;else{if((M=Ki(T.parentLocale))==null)return ur[T.parentLocale]||(ur[T.parentLocale]=[]),ur[T.parentLocale].push({name:m,config:T}),null;F=M._config}return Ln[m]=new j(N(F,T)),ur[m]&&ur[m].forEach(function(Z){tn(Z.name,Z.config)}),$e(m),Ln[m]}function un(m){var T;if(!(m=m&&m._locale&&m._locale._abbr?m._locale._abbr:m))return Qn;if(!s(m)){if(T=Ki(m))return T;m=[m]}return Ho(m)}function xe(m){var T=m._a;return T&&O(m).overflow===-2&&(T=T[Ee]<0||11<T[Ee]?Ee:T[Wt]<1||T[Wt]>Rt(T[Le],T[Ee])?Wt:T[Bt]<0||24<T[Bt]||T[Bt]===24&&(T[oe]!==0||T[zt]!==0||T[Oe]!==0)?Bt:T[oe]<0||59<T[oe]?oe:T[zt]<0||59<T[zt]?zt:T[Oe]<0||999<T[Oe]?Oe:-1,O(m)._overflowDayOfYear&&(T<Le||Wt<T)&&(T=Wt),O(m)._overflowWeeks&&T===-1&&(T=Et),O(m)._overflowWeekday&&T===-1&&(T=on),O(m).overflow=T),m}var _r=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ct=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ul=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ci=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],R0=/^\/?Date\((-?\d+)/i,xy=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,B0={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function F0(m){var T,M,F,Z,kt,Ut,Ce=m._i,ne=_r.exec(Ce)||ct.exec(Ce),Ce=_t.length,me=Ci.length;if(ne){for(O(m).iso=!0,T=0,M=Ce;T<M;T++)if(_t[T][1].exec(ne[1])){Z=_t[T][0],F=_t[T][2]!==!1;break}if(Z==null)m._isValid=!1;else{if(ne[3]){for(T=0,M=me;T<M;T++)if(Ci[T][1].exec(ne[3])){kt=(ne[2]||" ")+Ci[T][0];break}if(kt==null)return void(m._isValid=!1)}if(F||kt==null){if(ne[4]){if(!Ul.exec(ne[4]))return void(m._isValid=!1);Ut="Z"}m._f=Z+(kt||"")+(Ut||""),pd(m)}else m._isValid=!1}}else m._isValid=!1}function Gr(m,T,M,F,Z,kt){return m=[function(Ut){Ut=parseInt(Ut,10);{if(Ut<=49)return 2e3+Ut;if(Ut<=999)return 1900+Ut}return Ut}(m),vn.indexOf(T),parseInt(M,10),parseInt(F,10),parseInt(Z,10)],kt&&m.push(parseInt(kt,10)),m}function Ca(m){var T,M,F,Z,kt=xy.exec(m._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));kt?(T=Gr(kt[4],kt[3],kt[2],kt[5],kt[6],kt[7]),M=kt[1],F=T,Z=m,M&&dr.indexOf(M)!==new Date(F[0],F[1],F[2]).getDay()?(O(Z).weekdayMismatch=!0,Z._isValid=!1):(m._a=T,m._tzm=(M=kt[8],F=kt[9],Z=kt[10],M?B0[M]:F?0:60*(((M=parseInt(Z,10))-(F=M%100))/100)+F),m._d=is.apply(null,m._a),m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),O(m).rfc2822=!0)):m._isValid=!1}function Sa(m,T,M){return m!=null?m:T!=null?T:M}function zl(m){var T,M,F,Z,kt,Ut,ne,Ce,me,pn,rn,Ar=[];if(!m._d){for(F=m,Z=new Date(i.now()),M=F._useUTC?[Z.getUTCFullYear(),Z.getUTCMonth(),Z.getUTCDate()]:[Z.getFullYear(),Z.getMonth(),Z.getDate()],m._w&&m._a[Wt]==null&&m._a[Ee]==null&&((Z=(F=m)._w).GG!=null||Z.W!=null||Z.E!=null?(Ce=1,me=4,kt=Sa(Z.GG,F._a[Le],hr(qn(),1,4).year),Ut=Sa(Z.W,1),((ne=Sa(Z.E,1))<1||7<ne)&&(pn=!0)):(Ce=F._locale._week.dow,me=F._locale._week.doy,rn=hr(qn(),Ce,me),kt=Sa(Z.gg,F._a[Le],rn.year),Ut=Sa(Z.w,rn.week),Z.d!=null?((ne=Z.d)<0||6<ne)&&(pn=!0):Z.e!=null?(ne=Z.e+Ce,(Z.e<0||6<Z.e)&&(pn=!0)):ne=Ce),Ut<1||Ut>pr(kt,Ce,me)?O(F)._overflowWeeks=!0:pn!=null?O(F)._overflowWeekday=!0:(rn=cn(kt,Ut,ne,Ce,me),F._a[Le]=rn.year,F._dayOfYear=rn.dayOfYear)),m._dayOfYear!=null&&(Z=Sa(m._a[Le],M[Le]),(m._dayOfYear>Ze(Z)||m._dayOfYear===0)&&(O(m)._overflowDayOfYear=!0),pn=is(Z,0,m._dayOfYear),m._a[Ee]=pn.getUTCMonth(),m._a[Wt]=pn.getUTCDate()),T=0;T<3&&m._a[T]==null;++T)m._a[T]=Ar[T]=M[T];for(;T<7;T++)m._a[T]=Ar[T]=m._a[T]==null?T===2?1:0:m._a[T];m._a[Bt]===24&&m._a[oe]===0&&m._a[zt]===0&&m._a[Oe]===0&&(m._nextDay=!0,m._a[Bt]=0),m._d=(m._useUTC?is:Xs).apply(null,Ar),kt=m._useUTC?m._d.getUTCDay():m._d.getDay(),m._tzm!=null&&m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),m._nextDay&&(m._a[Bt]=24),m._w&&m._w.d!==void 0&&m._w.d!==kt&&(O(m).weekdayMismatch=!0)}}function pd(m){if(m._f===i.ISO_8601)F0(m);else if(m._f===i.RFC_2822)Ca(m);else{m._a=[],O(m).empty=!0;for(var T,M,F,Z,kt,Ut=""+m._i,ne=Ut.length,Ce=0,me=vt(m._f,m._locale).match(L)||[],pn=me.length,rn=0;rn<pn;rn++)M=me[rn],(T=(Ut.match(dn(M,m))||[])[0])&&(0<(F=Ut.substr(0,Ut.indexOf(T))).length&&O(m).unusedInput.push(F),Ut=Ut.slice(Ut.indexOf(T)+T.length),Ce+=T.length),qt[M]?(T?O(m).empty=!1:O(m).unusedTokens.push(M),F=M,kt=m,(Z=T)!=null&&l(je,F)&&je[F](Z,kt._a,kt,F)):m._strict&&!T&&O(m).unusedTokens.push(M);O(m).charsLeftOver=ne-Ce,0<Ut.length&&O(m).unusedInput.push(Ut),m._a[Bt]<=12&&O(m).bigHour===!0&&0<m._a[Bt]&&(O(m).bigHour=void 0),O(m).parsedDateParts=m._a.slice(0),O(m).meridiem=m._meridiem,m._a[Bt]=function(Ar,Xr,Qs){return Qs==null?Xr:Ar.meridiemHour!=null?Ar.meridiemHour(Xr,Qs):Ar.isPM!=null?((Ar=Ar.isPM(Qs))&&Xr<12&&(Xr+=12),Xr=Ar||Xr!==12?Xr:0):Xr}(m._locale,m._a[Bt],m._meridiem),(ne=O(m).era)!==null&&(m._a[Le]=m._locale.erasConvertYear(ne,m._a[Le])),zl(m),xe(m)}}function P0(m){var T,M,F,Z=m._i,kt=m._f;return m._locale=m._locale||un(m._l),Z===null||kt===void 0&&Z===""?R({nullInput:!0}):(typeof Z=="string"&&(m._i=Z=m._locale.preparse(Z)),lt(Z)?new st(xe(Z)):(y(Z)?m._d=Z:s(kt)?function(Ut){var ne,Ce,me,pn,rn,Ar,Xr=!1,Qs=Ut._f.length;if(Qs===0)return O(Ut).invalidFormat=!0,Ut._d=new Date(NaN);for(pn=0;pn<Qs;pn++)rn=0,Ar=!1,ne=J({},Ut),Ut._useUTC!=null&&(ne._useUTC=Ut._useUTC),ne._f=Ut._f[pn],pd(ne),I(ne)&&(Ar=!0),rn=(rn+=O(ne).charsLeftOver)+10*O(ne).unusedTokens.length,O(ne).score=rn,Xr?rn<me&&(me=rn,Ce=ne):(me==null||rn<me||Ar)&&(me=rn,Ce=ne,Ar&&(Xr=!0));x(Ut,Ce||ne)}(m):kt?pd(m):f(kt=(Z=m)._i)?Z._d=new Date(i.now()):y(kt)?Z._d=new Date(kt.valueOf()):typeof kt=="string"?(M=Z,(T=R0.exec(M._i))!==null?M._d=new Date(+T[1]):(F0(M),M._isValid===!1&&(delete M._isValid,Ca(M),M._isValid===!1&&(delete M._isValid,M._strict?M._isValid=!1:i.createFromInputFallback(M))))):s(kt)?(Z._a=b(kt.slice(0),function(Ut){return parseInt(Ut,10)}),zl(Z)):o(kt)?(T=Z)._d||(F=(M=ft(T._i)).day===void 0?M.date:M.day,T._a=b([M.year,M.month,F,M.hour,M.minute,M.second,M.millisecond],function(Ut){return Ut&&parseInt(Ut,10)}),zl(T)):g(kt)?Z._d=new Date(kt):i.createFromInputFallback(Z),I(m)||(m._d=null),m))}function gi(m,T,M,F,Z){var kt={};return T!==!0&&T!==!1||(F=T,T=void 0),M!==!0&&M!==!1||(F=M,M=void 0),(o(m)&&h(m)||s(m)&&m.length===0)&&(m=void 0),kt._isAMomentObject=!0,kt._useUTC=kt._isUTC=Z,kt._l=M,kt._i=m,kt._f=T,kt._strict=F,(Z=new st(xe(P0(Z=kt))))._nextDay&&(Z.add(1,"d"),Z._nextDay=void 0),Z}function qn(m,T,M,F){return gi(m,T,M,F,!1)}i.createFromInputFallback=at("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(m){m._d=new Date(m._i+(m._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){},Ae=at("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=qn.apply(null,arguments);return this.isValid()&&m.isValid()?m<this?this:m:R()}),bt=at("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=qn.apply(null,arguments);return this.isValid()&&m.isValid()?this<m?this:m:R()});function Pi(m,T){var M,F;if(!(T=T.length===1&&s(T[0])?T[0]:T).length)return qn();for(M=T[0],F=1;F<T.length;++F)T[F].isValid()&&!T[F][m](M)||(M=T[F]);return M}var ho=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ks(T){var T=ft(T),M=T.year||0,F=T.quarter||0,Z=T.month||0,kt=T.week||T.isoWeek||0,Ut=T.day||0,ne=T.hour||0,Ce=T.minute||0,me=T.second||0,pn=T.millisecond||0;this._isValid=function(rn){var Ar,Xr,Qs=!1,Ay=ho.length;for(Ar in rn)if(l(rn,Ar)&&(Fe.call(ho,Ar)===-1||rn[Ar]!=null&&isNaN(rn[Ar])))return!1;for(Xr=0;Xr<Ay;++Xr)if(rn[ho[Xr]]){if(Qs)return!1;parseFloat(rn[ho[Xr]])!==Q(rn[ho[Xr]])&&(Qs=!0)}return!0}(T),this._milliseconds=+pn+1e3*me+6e4*Ce+1e3*ne*60*60,this._days=+Ut+7*kt,this._months=+Z+3*F+12*M,this._data={},this._locale=un(),this._bubble()}function fo(m){return m instanceof Ks}function ss(m){return m<0?-1*Math.round(-1*m):Math.round(m)}function gd(m,T){ut(m,0,0,function(){var M=this.utcOffset(),F="+";return M<0&&(M=-M,F="-"),F+gt(~~(M/60),2)+T+gt(~~M%60,2)})}gd("Z",":"),gd("ZZ",""),wt("Z",Xt),wt("ZZ",Xt),Ve(["Z","ZZ"],function(m,T,M){M._useUTC=!0,M._tzm=Hl(Xt,m)});var _u=/([\+\-]|\d\d)/gi;function Hl(m,M){var M=(M||"").match(m);return M===null?null:(M=60*(m=((M[M.length-1]||[])+"").match(_u)||["-",0,0])[1]+Q(m[2]))===0?0:m[0]==="+"?M:-M}function as(m,T){var M;return T._isUTC?(T=T.clone(),M=(lt(m)||y(m)?m:qn(m)).valueOf()-T.valueOf(),T._d.setTime(T._d.valueOf()+M),i.updateOffset(T,!1),T):qn(m).local()}function ky(m){return-Math.round(m._d.getTimezoneOffset())}function H6(){return!!this.isValid()&&this._isUTC&&this._offset===0}i.updateOffset=function(){};var UZ=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zZ=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zs(m,T){var M,F=m,Z=null;return fo(m)?F={ms:m._milliseconds,d:m._days,M:m._months}:g(m)||!isNaN(+m)?(F={},T?F[T]=+m:F.milliseconds=+m):(Z=UZ.exec(m))?(M=Z[1]==="-"?-1:1,F={y:0,d:Q(Z[Wt])*M,h:Q(Z[Bt])*M,m:Q(Z[oe])*M,s:Q(Z[zt])*M,ms:Q(ss(1e3*Z[Oe]))*M}):(Z=zZ.exec(m))?(M=Z[1]==="-"?-1:1,F={y:Wl(Z[2],M),M:Wl(Z[3],M),w:Wl(Z[4],M),d:Wl(Z[5],M),h:Wl(Z[6],M),m:Wl(Z[7],M),s:Wl(Z[8],M)}):F==null?F={}:typeof F=="object"&&("from"in F||"to"in F)&&(T=function(kt,Ut){var ne;return!kt.isValid()||!Ut.isValid()?{milliseconds:0,months:0}:(Ut=as(Ut,kt),kt.isBefore(Ut)?ne=W6(kt,Ut):((ne=W6(Ut,kt)).milliseconds=-ne.milliseconds,ne.months=-ne.months),ne)}(qn(F.from),qn(F.to)),(F={}).ms=T.milliseconds,F.M=T.months),Z=new Ks(F),fo(m)&&l(m,"_locale")&&(Z._locale=m._locale),fo(m)&&l(m,"_isValid")&&(Z._isValid=m._isValid),Z}function Wl(m,T){return m=m&&parseFloat(m.replace(",",".")),(isNaN(m)?0:m)*T}function W6(m,T){var M={};return M.months=T.month()-m.month()+12*(T.year()-m.year()),m.clone().add(M.months,"M").isAfter(T)&&--M.months,M.milliseconds=+T-+m.clone().add(M.months,"M"),M}function j6(m,T){return function(M,F){var Z;return F===null||isNaN(+F)||(z(T,"moment()."+T+"(period, number) is deprecated. Please use moment()."+T+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Z=M,M=F,F=Z),q6(this,Zs(M,F),m),this}}function q6(m,Ut,M,F){var Z=Ut._milliseconds,kt=ss(Ut._days),Ut=ss(Ut._months);m.isValid()&&(F=F==null||F,Ut&&ze(m,U(m,"Month")+Ut*M),kt&&yt(m,"Date",U(m,"Date")+kt*M),Z&&m._d.setTime(m._d.valueOf()+Z*M),F&&i.updateOffset(m,kt||Ut))}Zs.fn=Ks.prototype,Zs.invalid=function(){return Zs(NaN)},nn=j6(1,"add"),yr=j6(-1,"subtract");function G6(m){return typeof m=="string"||m instanceof String}function HZ(m){return lt(m)||y(m)||G6(m)||g(m)||function(T){var M=s(T),F=!1;return M&&(F=T.filter(function(Z){return!g(Z)&&G6(T)}).length===0),M&&F}(m)||function(T){var M,F,Z=o(T)&&!h(T),kt=!1,Ut=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],ne=Ut.length;for(M=0;M<ne;M+=1)F=Ut[M],kt=kt||l(T,F);return Z&&kt}(m)||m==null}function V0(m,Z){if(m.date()<Z.date())return-V0(Z,m);var M=12*(Z.year()-m.year())+(Z.month()-m.month()),F=m.clone().add(M,"months"),Z=Z-F<0?(Z-F)/(F-m.clone().add(M-1,"months")):(Z-F)/(m.clone().add(1+M,"months")-F);return-(M+Z)||0}function X6(m){return m===void 0?this._locale._abbr:((m=un(m))!=null&&(this._locale=m),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Nr=at("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(m){return m===void 0?this.localeData():this.locale(m)});function K6(){return this._locale}var Z6=126227808e5;function bu(m,T){return(m%T+T)%T}function Q6(m,T,M){return m<100&&0<=m?new Date(m+400,T,M)-Z6:new Date(m,T,M).valueOf()}function J6(m,T,M){return m<100&&0<=m?Date.UTC(m+400,T,M)-Z6:Date.UTC(m,T,M)}function wy(m,T){return T.erasAbbrRegex(m)}function Ty(){for(var m=[],T=[],M=[],F=[],Z=this.eras(),kt=0,Ut=Z.length;kt<Ut;++kt)T.push(We(Z[kt].name)),m.push(We(Z[kt].abbr)),M.push(We(Z[kt].narrow)),F.push(We(Z[kt].name)),F.push(We(Z[kt].abbr)),F.push(We(Z[kt].narrow));this._erasRegex=new RegExp("^("+F.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+T.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+M.join("|")+")","i")}function $0(m,T){ut(0,[m,m.length],0,T)}function t8(m,T,M,F,Z){var kt;return m==null?hr(this,F,Z).year:(kt=pr(m,F,Z),function(Ut,ne,Ce,me,pn){return Ut=cn(Ut,ne,Ce,me,pn),ne=is(Ut.year,0,Ut.dayOfYear),this.year(ne.getUTCFullYear()),this.month(ne.getUTCMonth()),this.date(ne.getUTCDate()),this}.call(this,m,T=kt<T?kt:T,M,F,Z))}ut("N",0,0,"eraAbbr"),ut("NN",0,0,"eraAbbr"),ut("NNN",0,0,"eraAbbr"),ut("NNNN",0,0,"eraName"),ut("NNNNN",0,0,"eraNarrow"),ut("y",["y",1],"yo","eraYear"),ut("y",["yy",2],0,"eraYear"),ut("y",["yyy",3],0,"eraYear"),ut("y",["yyyy",4],0,"eraYear"),wt("N",wy),wt("NN",wy),wt("NNN",wy),wt("NNNN",function(m,T){return T.erasNameRegex(m)}),wt("NNNNN",function(m,T){return T.erasNarrowRegex(m)}),Ve(["N","NN","NNN","NNNN","NNNNN"],function(m,T,M,F){F=M._locale.erasParse(m,F,M._strict),F?O(M).era=F:O(M).invalidEra=m}),wt("y",Jt),wt("yy",Jt),wt("yyy",Jt),wt("yyyy",Jt),wt("yo",function(m,T){return T._eraYearOrdinalRegex||Jt}),Ve(["y","yy","yyy","yyyy"],Le),Ve(["yo"],function(m,T,M,F){var Z;M._locale._eraYearOrdinalRegex&&(Z=m.match(M._locale._eraYearOrdinalRegex)),M._locale.eraYearOrdinalParse?T[Le]=M._locale.eraYearOrdinalParse(m,Z):T[Le]=parseInt(m,10)}),ut(0,["gg",2],0,function(){return this.weekYear()%100}),ut(0,["GG",2],0,function(){return this.isoWeekYear()%100}),$0("gggg","weekYear"),$0("ggggg","weekYear"),$0("GGGG","isoWeekYear"),$0("GGGGG","isoWeekYear"),Ot("weekYear","gg"),Ot("isoWeekYear","GG"),et("weekYear",1),et("isoWeekYear",1),wt("G",$t),wt("g",$t),wt("GG",rt,fn),wt("gg",rt,fn),wt("GGGG",Go,jl),wt("gggg",Go,jl),wt("GGGGG",jo,qo),wt("ggggg",jo,qo),Un(["gggg","ggggg","GGGG","GGGGG"],function(m,T,M,F){T[F.substr(0,2)]=Q(m)}),Un(["gg","GG"],function(m,T,M,F){T[F]=i.parseTwoDigitYear(m)}),ut("Q",0,"Qo","quarter"),Ot("quarter","Q"),et("quarter",7),wt("Q",B),Ve("Q",function(m,T){T[Ee]=3*(Q(m)-1)}),ut("D",["DD",2],"Do","date"),Ot("date","D"),et("date",9),wt("D",rt),wt("DD",rt,fn),wt("Do",function(m,T){return m?T._dayOfMonthOrdinalParse||T._ordinalParse:T._dayOfMonthOrdinalParseLenient}),Ve(["D","DD"],Wt),Ve("Do",function(m,T){T[Wt]=Q(m.match(rt)[0])}),Go=G("Date",!0),ut("DDD",["DDDD",3],"DDDo","dayOfYear"),Ot("dayOfYear","DDD"),et("dayOfYear",4),wt("DDD",de),wt("DDDD",It),Ve(["DDD","DDDD"],function(m,T,M){M._dayOfYear=Q(m)}),ut("m",["mm",2],0,"minute"),Ot("minute","m"),et("minute",14),wt("m",rt),wt("mm",rt,fn),Ve(["m","mm"],oe);var Wo,jl=G("Minutes",!1),jo=(ut("s",["ss",2],0,"second"),Ot("second","s"),et("second",15),wt("s",rt),wt("ss",rt,fn),Ve(["s","ss"],zt),G("Seconds",!1));for(ut("S",0,0,function(){return~~(this.millisecond()/100)}),ut(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ut(0,["SSS",3],0,"millisecond"),ut(0,["SSSS",4],0,function(){return 10*this.millisecond()}),ut(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),ut(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),ut(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),ut(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),ut(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Ot("millisecond","ms"),et("millisecond",16),wt("S",de,B),wt("SS",de,fn),wt("SSS",de,It),Wo="SSSS";Wo.length<=9;Wo+="S")wt(Wo,Jt);function WZ(m,T){T[Oe]=Q(1e3*("0."+m))}for(Wo="S";Wo.length<=9;Wo+="S")Ve(Wo,WZ);qo=G("Milliseconds",!1),ut("z",0,0,"zoneAbbr"),ut("zz",0,0,"zoneName"),B=st.prototype;function e8(m){return m}B.add=nn,B.calendar=function(M,Z){arguments.length===1&&(arguments[0]?HZ(arguments[0])?(M=arguments[0],Z=void 0):function(kt){for(var Ut=o(kt)&&!h(kt),ne=!1,Ce=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],me=0;me<Ce.length;me+=1)ne=ne||l(kt,Ce[me]);return Ut&&ne}(arguments[0])&&(Z=arguments[0],M=void 0):Z=M=void 0);var M=M||qn(),F=as(M,this).startOf("day"),F=i.calendarFormat(this,F)||"sameElse",Z=Z&&($(Z[F])?Z[F].call(this,M):Z[F]);return this.format(Z||this.localeData().calendar(F,this,qn(M)))},B.clone=function(){return new st(this)},B.diff=function(m,T,M){var F,Z,kt;if(!this.isValid())return NaN;if(!(F=as(m,this)).isValid())return NaN;switch(Z=6e4*(F.utcOffset()-this.utcOffset()),T=Ht(T)){case"year":kt=V0(this,F)/12;break;case"month":kt=V0(this,F);break;case"quarter":kt=V0(this,F)/3;break;case"second":kt=(this-F)/1e3;break;case"minute":kt=(this-F)/6e4;break;case"hour":kt=(this-F)/36e5;break;case"day":kt=(this-F-Z)/864e5;break;case"week":kt=(this-F-Z)/6048e5;break;default:kt=this-F}return M?kt:dt(kt)},B.endOf=function(m){var T,M;if((m=Ht(m))===void 0||m==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?J6:Q6,m){case"year":T=M(this.year()+1,0,1)-1;break;case"quarter":T=M(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":T=M(this.year(),this.month()+1,1)-1;break;case"week":T=M(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":T=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":T=M(this.year(),this.month(),this.date()+1)-1;break;case"hour":T=this._d.valueOf(),T+=36e5-bu(T+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":T=this._d.valueOf(),T+=6e4-bu(T,6e4)-1;break;case"second":T=this._d.valueOf(),T+=1e3-bu(T,1e3)-1;break}return this._d.setTime(T),i.updateOffset(this,!0),this},B.format=function(m){return m=m||(this.isUtc()?i.defaultFormatUtc:i.defaultFormat),m=Ct(this,m),this.localeData().postformat(m)},B.from=function(m,T){return this.isValid()&&(lt(m)&&m.isValid()||qn(m).isValid())?Zs({to:this,from:m}).locale(this.locale()).humanize(!T):this.localeData().invalidDate()},B.fromNow=function(m){return this.from(qn(),m)},B.to=function(m,T){return this.isValid()&&(lt(m)&&m.isValid()||qn(m).isValid())?Zs({from:this,to:m}).locale(this.locale()).humanize(!T):this.localeData().invalidDate()},B.toNow=function(m){return this.to(qn(),m)},B.get=function(m){return $(this[m=Ht(m)])?this[m]():this},B.invalidAt=function(){return O(this).overflow},B.isAfter=function(m,T){return m=lt(m)?m:qn(m),!(!this.isValid()||!m.isValid())&&((T=Ht(T)||"millisecond")==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(T).valueOf())},B.isBefore=function(m,T){return m=lt(m)?m:qn(m),!(!this.isValid()||!m.isValid())&&((T=Ht(T)||"millisecond")==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(T).valueOf()<m.valueOf())},B.isBetween=function(m,T,M,F){return m=lt(m)?m:qn(m),T=lt(T)?T:qn(T),!!(this.isValid()&&m.isValid()&&T.isValid())&&((F=F||"()")[0]==="("?this.isAfter(m,M):!this.isBefore(m,M))&&(F[1]===")"?this.isBefore(T,M):!this.isAfter(T,M))},B.isSame=function(M,T){var M=lt(M)?M:qn(M);return!(!this.isValid()||!M.isValid())&&((T=Ht(T)||"millisecond")==="millisecond"?this.valueOf()===M.valueOf():(M=M.valueOf(),this.clone().startOf(T).valueOf()<=M&&M<=this.clone().endOf(T).valueOf()))},B.isSameOrAfter=function(m,T){return this.isSame(m,T)||this.isAfter(m,T)},B.isSameOrBefore=function(m,T){return this.isSame(m,T)||this.isBefore(m,T)},B.isValid=function(){return I(this)},B.lang=Nr,B.locale=X6,B.localeData=K6,B.max=bt,B.min=Ae,B.parsingFlags=function(){return x({},O(this))},B.set=function(m,T){if(typeof m=="object")for(var M=function(kt){var Ut,ne=[];for(Ut in kt)l(kt,Ut)&&ne.push({unit:Ut,priority:_e[Ut]});return ne.sort(function(Ce,me){return Ce.priority-me.priority}),ne}(m=ft(m)),F=M.length,Z=0;Z<F;Z++)this[M[Z].unit](m[M[Z].unit]);else if($(this[m=Ht(m)]))return this[m](T);return this},B.startOf=function(m){var T,M;if((m=Ht(m))===void 0||m==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?J6:Q6,m){case"year":T=M(this.year(),0,1);break;case"quarter":T=M(this.year(),this.month()-this.month()%3,1);break;case"month":T=M(this.year(),this.month(),1);break;case"week":T=M(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":T=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":T=M(this.year(),this.month(),this.date());break;case"hour":T=this._d.valueOf(),T-=bu(T+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":T=this._d.valueOf(),T-=bu(T,6e4);break;case"second":T=this._d.valueOf(),T-=bu(T,1e3);break}return this._d.setTime(T),i.updateOffset(this,!0),this},B.subtract=yr,B.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},B.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},B.toDate=function(){return new Date(this.valueOf())},B.toISOString=function(m){if(!this.isValid())return null;var T=(m=m!==!0)?this.clone().utc():this;return T.year()<0||9999<T.year()?Ct(T,m?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$(Date.prototype.toISOString)?m?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Ct(T,"Z")):Ct(T,m?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},B.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var m,T="moment",M="";return this.isLocal()||(T=this.utcOffset()===0?"moment.utc":"moment.parseZone",M="Z"),T="["+T+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(T+m+"-MM-DD[T]HH:mm:ss.SSS"+(M+'[")]'))},typeof Symbol!="undefined"&&Symbol.for!=null&&(B[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},B.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},B.eraName=function(){for(var m,T=this.localeData().eras(),M=0,F=T.length;M<F;++M)if(m=this.clone().startOf("day").valueOf(),T[M].since<=m&&m<=T[M].until||T[M].until<=m&&m<=T[M].since)return T[M].name;return""},B.eraNarrow=function(){for(var m,T=this.localeData().eras(),M=0,F=T.length;M<F;++M)if(m=this.clone().startOf("day").valueOf(),T[M].since<=m&&m<=T[M].until||T[M].until<=m&&m<=T[M].since)return T[M].narrow;return""},B.eraAbbr=function(){for(var m,T=this.localeData().eras(),M=0,F=T.length;M<F;++M)if(m=this.clone().startOf("day").valueOf(),T[M].since<=m&&m<=T[M].until||T[M].until<=m&&m<=T[M].since)return T[M].abbr;return""},B.eraYear=function(){for(var m,T,M=this.localeData().eras(),F=0,Z=M.length;F<Z;++F)if(m=M[F].since<=M[F].until?1:-1,T=this.clone().startOf("day").valueOf(),M[F].since<=T&&T<=M[F].until||M[F].until<=T&&T<=M[F].since)return(this.year()-i(M[F].since).year())*m+M[F].offset;return this.year()},B.year=U0,B.isLeapYear=function(){return it(this.year())},B.weekYear=function(m){return t8.call(this,m,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},B.isoWeekYear=function(m){return t8.call(this,m,this.isoWeek(),this.isoWeekday(),1,4)},B.quarter=B.quarters=function(m){return m==null?Math.ceil((this.month()+1)/3):this.month(3*(m-1)+this.month()%3)},B.month=ln,B.daysInMonth=function(){return Rt(this.year(),this.month())},B.week=B.weeks=function(m){var T=this.localeData().week(this);return m==null?T:this.add(7*(m-T),"d")},B.isoWeek=B.isoWeeks=function(m){var T=hr(this,1,4).week;return m==null?T:this.add(7*(m-T),"d")},B.weeksInYear=function(){var m=this.localeData()._week;return pr(this.year(),m.dow,m.doy)},B.weeksInWeekYear=function(){var m=this.localeData()._week;return pr(this.weekYear(),m.dow,m.doy)},B.isoWeeksInYear=function(){return pr(this.year(),1,4)},B.isoWeeksInISOWeekYear=function(){return pr(this.isoWeekYear(),1,4)},B.date=Go,B.day=B.days=function(m){if(!this.isValid())return m!=null?this:NaN;var T,M,F=this._isUTC?this._d.getUTCDay():this._d.getDay();return m!=null?(T=m,M=this.localeData(),m=typeof T!="string"?T:isNaN(T)?typeof(T=M.weekdaysParse(T))=="number"?T:null:parseInt(T,10),this.add(m-F,"d")):F},B.weekday=function(m){if(!this.isValid())return m!=null?this:NaN;var T=(this.day()+7-this.localeData()._week.dow)%7;return m==null?T:this.add(m-T,"d")},B.isoWeekday=function(m){return this.isValid()?m!=null?(T=m,M=this.localeData(),M=typeof T=="string"?M.weekdaysParse(T)%7||7:isNaN(T)?null:T,this.day(this.day()%7?M:M-7)):this.day()||7:m!=null?this:NaN;var T,M},B.dayOfYear=function(m){var T=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return m==null?T:this.add(m-T,"d")},B.hour=B.hours=Ft,B.minute=B.minutes=jl,B.second=B.seconds=jo,B.millisecond=B.milliseconds=qo,B.utcOffset=function(m,T,M){var F,Z=this._offset||0;if(!this.isValid())return m!=null?this:NaN;if(m==null)return this._isUTC?Z:ky(this);if(typeof m=="string"){if((m=Hl(Xt,m))===null)return this}else Math.abs(m)<16&&!M&&(m*=60);return!this._isUTC&&T&&(F=ky(this)),this._offset=m,this._isUTC=!0,F!=null&&this.add(F,"m"),Z!==m&&(!T||this._changeInProgress?q6(this,Zs(m-Z,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this},B.utc=function(m){return this.utcOffset(0,m)},B.local=function(m){return this._isUTC&&(this.utcOffset(0,m),this._isUTC=!1,m&&this.subtract(ky(this),"m")),this},B.parseZone=function(){var m;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&((m=Hl(te,this._i))!=null?this.utcOffset(m):this.utcOffset(0,!0)),this},B.hasAlignedHourOffset=function(m){return!!this.isValid()&&(m=m?qn(m).utcOffset():0,(this.utcOffset()-m)%60==0)},B.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},B.isLocal=function(){return!!this.isValid()&&!this._isUTC},B.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},B.isUtc=H6,B.isUTC=H6,B.zoneAbbr=function(){return this._isUTC?"UTC":""},B.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},B.dates=at("dates accessor is deprecated. Use date instead.",Go),B.months=at("months accessor is deprecated. Use month instead",ln),B.years=at("years accessor is deprecated. Use year instead",U0),B.zone=at("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(m,T){return m!=null?(this.utcOffset(m=typeof m!="string"?-m:m,T),this):-this.utcOffset()}),B.isDSTShifted=at("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!f(this._isDSTShifted))return this._isDSTShifted;var m,T={};return J(T,this),(T=P0(T))._a?(m=(T._isUTC?k:qn)(T._a),this._isDSTShifted=this.isValid()&&0<function(M,F,Z){for(var kt=Math.min(M.length,F.length),Ut=Math.abs(M.length-F.length),ne=0,Ce=0;Ce<kt;Ce++)(Z&&M[Ce]!==F[Ce]||!Z&&Q(M[Ce])!==Q(F[Ce]))&&ne++;return ne+Ut}(T._a,m.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),fn=j.prototype;function Y0(m,T,M,kt){var Z=un(),kt=k().set(kt,T);return Z[M](kt,m)}function n8(m,T,M){if(g(m)&&(T=m,m=void 0),m=m||"",T!=null)return Y0(m,T,M,"month");for(var F=[],Z=0;Z<12;Z++)F[Z]=Y0(m,Z,M,"month");return F}function Ey(m,T,M,F){T=(typeof m=="boolean"?g(T)&&(M=T,T=void 0):(T=m,m=!1,g(M=T)&&(M=T,T=void 0)),T||"");var Z,kt=un(),Ut=m?kt._week.dow:0,ne=[];if(M!=null)return Y0(T,(M+Ut)%7,F,"day");for(Z=0;Z<7;Z++)ne[Z]=Y0(T,(Z+Ut)%7,F,"day");return ne}fn.calendar=function(m,T,M){return $(m=this._calendar[m]||this._calendar.sameElse)?m.call(T,M):m},fn.longDateFormat=function(m){var T=this._longDateFormat[m],M=this._longDateFormat[m.toUpperCase()];return T||!M?T:(this._longDateFormat[m]=M.match(L).map(function(F){return F==="MMMM"||F==="MM"||F==="DD"||F==="dddd"?F.slice(1):F}).join(""),this._longDateFormat[m])},fn.invalidDate=function(){return this._invalidDate},fn.ordinal=function(m){return this._ordinal.replace("%d",m)},fn.preparse=e8,fn.postformat=e8,fn.relativeTime=function(m,T,M,F){var Z=this._relativeTime[M];return $(Z)?Z(m,T,M,F):Z.replace(/%d/i,m)},fn.pastFuture=function(m,T){return $(m=this._relativeTime[0<m?"future":"past"])?m(T):m.replace(/%s/i,T)},fn.set=function(m){var T,M;for(M in m)l(m,M)&&($(T=m[M])?this[M]=T:this["_"+M]=T);this._config=m,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fn.eras=function(m,T){for(var M,F=this._eras||un("en")._eras,Z=0,kt=F.length;Z<kt;++Z){switch(typeof F[Z].since){case"string":M=i(F[Z].since).startOf("day"),F[Z].since=M.valueOf();break}switch(typeof F[Z].until){case"undefined":F[Z].until=1/0;break;case"string":M=i(F[Z].until).startOf("day").valueOf(),F[Z].until=M.valueOf();break}}return F},fn.erasParse=function(m,T,M){var F,Z,kt,Ut,ne,Ce=this.eras();for(m=m.toUpperCase(),F=0,Z=Ce.length;F<Z;++F)if(kt=Ce[F].name.toUpperCase(),Ut=Ce[F].abbr.toUpperCase(),ne=Ce[F].narrow.toUpperCase(),M)switch(T){case"N":case"NN":case"NNN":if(Ut===m)return Ce[F];break;case"NNNN":if(kt===m)return Ce[F];break;case"NNNNN":if(ne===m)return Ce[F];break}else if(0<=[kt,Ut,ne].indexOf(m))return Ce[F]},fn.erasConvertYear=function(m,T){var M=m.since<=m.until?1:-1;return T===void 0?i(m.since).year():i(m.since).year()+(T-m.offset)*M},fn.erasAbbrRegex=function(m){return l(this,"_erasAbbrRegex")||Ty.call(this),m?this._erasAbbrRegex:this._erasRegex},fn.erasNameRegex=function(m){return l(this,"_erasNameRegex")||Ty.call(this),m?this._erasNameRegex:this._erasRegex},fn.erasNarrowRegex=function(m){return l(this,"_erasNarrowRegex")||Ty.call(this),m?this._erasNarrowRegex:this._erasRegex},fn.months=function(m,T){return m?(s(this._months)?this._months:this._months[(this._months.isFormat||Cn).test(T)?"format":"standalone"])[m.month()]:s(this._months)?this._months:this._months.standalone},fn.monthsShort=function(m,T){return m?(s(this._monthsShort)?this._monthsShort:this._monthsShort[Cn.test(T)?"format":"standalone"])[m.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fn.monthsParse=function(m,T,M){var F,Z;if(this._monthsParseExact)return function(rn,Ut,ne){var Ce,me,pn,rn=rn.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Ce=0;Ce<12;++Ce)pn=k([2e3,Ce]),this._shortMonthsParse[Ce]=this.monthsShort(pn,"").toLocaleLowerCase(),this._longMonthsParse[Ce]=this.months(pn,"").toLocaleLowerCase();return ne?Ut==="MMM"?(me=Fe.call(this._shortMonthsParse,rn))!==-1?me:null:(me=Fe.call(this._longMonthsParse,rn))!==-1?me:null:Ut==="MMM"?(me=Fe.call(this._shortMonthsParse,rn))!==-1||(me=Fe.call(this._longMonthsParse,rn))!==-1?me:null:(me=Fe.call(this._longMonthsParse,rn))!==-1||(me=Fe.call(this._shortMonthsParse,rn))!==-1?me:null}.call(this,m,T,M);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),F=0;F<12;F++)if(Z=k([2e3,F]),M&&!this._longMonthsParse[F]&&(this._longMonthsParse[F]=new RegExp("^"+this.months(Z,"").replace(".","")+"$","i"),this._shortMonthsParse[F]=new RegExp("^"+this.monthsShort(Z,"").replace(".","")+"$","i")),M||this._monthsParse[F]||(Z="^"+this.months(Z,"")+"|^"+this.monthsShort(Z,""),this._monthsParse[F]=new RegExp(Z.replace(".",""),"i")),M&&T==="MMMM"&&this._longMonthsParse[F].test(m)||M&&T==="MMM"&&this._shortMonthsParse[F].test(m)||!M&&this._monthsParse[F].test(m))return F},fn.monthsRegex=function(m){return this._monthsParseExact?(l(this,"_monthsRegex")||wn.call(this),m?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=On),this._monthsStrictRegex&&m?this._monthsStrictRegex:this._monthsRegex)},fn.monthsShortRegex=function(m){return this._monthsParseExact?(l(this,"_monthsRegex")||wn.call(this),m?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Sn),this._monthsShortStrictRegex&&m?this._monthsShortStrictRegex:this._monthsShortRegex)},fn.week=function(m){return hr(m,this._week.dow,this._week.doy).week},fn.firstDayOfYear=function(){return this._week.doy},fn.firstDayOfWeek=function(){return this._week.dow},fn.weekdays=function(m,T){return T=s(this._weekdays)?this._weekdays:this._weekdays[m&&m!==!0&&this._weekdays.isFormat.test(T)?"format":"standalone"],m===!0?mr(T,this._week.dow):m?T[m.day()]:T},fn.weekdaysMin=function(m){return m===!0?mr(this._weekdaysMin,this._week.dow):m?this._weekdaysMin[m.day()]:this._weekdaysMin},fn.weekdaysShort=function(m){return m===!0?mr(this._weekdaysShort,this._week.dow):m?this._weekdaysShort[m.day()]:this._weekdaysShort},fn.weekdaysParse=function(m,T,M){var F,Z;if(this._weekdaysParseExact)return function(rn,Ut,ne){var Ce,me,pn,rn=rn.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Ce=0;Ce<7;++Ce)pn=k([2e3,1]).day(Ce),this._minWeekdaysParse[Ce]=this.weekdaysMin(pn,"").toLocaleLowerCase(),this._shortWeekdaysParse[Ce]=this.weekdaysShort(pn,"").toLocaleLowerCase(),this._weekdaysParse[Ce]=this.weekdays(pn,"").toLocaleLowerCase();return ne?Ut==="dddd"?(me=Fe.call(this._weekdaysParse,rn))!==-1?me:null:Ut==="ddd"?(me=Fe.call(this._shortWeekdaysParse,rn))!==-1?me:null:(me=Fe.call(this._minWeekdaysParse,rn))!==-1?me:null:Ut==="dddd"?(me=Fe.call(this._weekdaysParse,rn))!==-1||(me=Fe.call(this._shortWeekdaysParse,rn))!==-1||(me=Fe.call(this._minWeekdaysParse,rn))!==-1?me:null:Ut==="ddd"?(me=Fe.call(this._shortWeekdaysParse,rn))!==-1||(me=Fe.call(this._weekdaysParse,rn))!==-1||(me=Fe.call(this._minWeekdaysParse,rn))!==-1?me:null:(me=Fe.call(this._minWeekdaysParse,rn))!==-1||(me=Fe.call(this._weekdaysParse,rn))!==-1||(me=Fe.call(this._shortWeekdaysParse,rn))!==-1?me:null}.call(this,m,T,M);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),F=0;F<7;F++)if(Z=k([2e3,1]).day(F),M&&!this._fullWeekdaysParse[F]&&(this._fullWeekdaysParse[F]=new RegExp("^"+this.weekdays(Z,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[F]=new RegExp("^"+this.weekdaysShort(Z,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[F]=new RegExp("^"+this.weekdaysMin(Z,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[F]||(Z="^"+this.weekdays(Z,"")+"|^"+this.weekdaysShort(Z,"")+"|^"+this.weekdaysMin(Z,""),this._weekdaysParse[F]=new RegExp(Z.replace(".",""),"i")),M&&T==="dddd"&&this._fullWeekdaysParse[F].test(m)||M&&T==="ddd"&&this._shortWeekdaysParse[F].test(m)||M&&T==="dd"&&this._minWeekdaysParse[F].test(m)||!M&&this._weekdaysParse[F].test(m))return F},fn.weekdaysRegex=function(m){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ie.call(this),m?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=qr),this._weekdaysStrictRegex&&m?this._weekdaysStrictRegex:this._weekdaysRegex)},fn.weekdaysShortRegex=function(m){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ie.call(this),m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Me),this._weekdaysShortStrictRegex&&m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fn.weekdaysMinRegex=function(m){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ie.call(this),m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=pt),this._weekdaysMinStrictRegex&&m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fn.isPM=function(m){return(m+"").toLowerCase().charAt(0)==="p"},fn.meridiem=function(m,T,M){return 11<m?M?"pm":"PM":M?"am":"AM"},$e("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(m){var T=m%10;return m+(Q(m%100/10)===1?"th":T==1?"st":T==2?"nd":T==3?"rd":"th")}}),i.lang=at("moment.lang is deprecated. Use moment.locale instead.",$e),i.langData=at("moment.langData is deprecated. Use moment.localeData instead.",un);var po=Math.abs;function r8(m,T,M,F){return T=Zs(T,M),m._milliseconds+=F*T._milliseconds,m._days+=F*T._days,m._months+=F*T._months,m._bubble()}function i8(m){return m<0?Math.floor(m):Math.ceil(m)}function s8(m){return 4800*m/146097}function Cy(m){return 146097*m/4800}function go(m){return function(){return this.as(m)}}de=go("ms"),It=go("s"),nn=go("m"),bt=go("h"),Ae=go("d"),yr=go("w"),Ft=go("M"),jl=go("Q"),jo=go("y");function ql(m){return function(){return this.isValid()?this._data[m]:NaN}}var qo=ql("milliseconds"),Go=ql("seconds"),U0=ql("minutes"),fn=ql("hours"),jZ=ql("days"),qZ=ql("months"),GZ=ql("years"),mo=Math.round,vu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function XZ(m,T,M,F){var me=Zs(m).abs(),pn=mo(me.as("s")),Z=mo(me.as("m")),kt=mo(me.as("h")),Ut=mo(me.as("d")),ne=mo(me.as("M")),Ce=mo(me.as("w")),me=mo(me.as("y")),pn=(pn<=M.ss?["s",pn]:pn<M.s&&["ss",pn])||Z<=1&&["m"]||Z<M.m&&["mm",Z]||kt<=1&&["h"]||kt<M.h&&["hh",kt]||Ut<=1&&["d"]||Ut<M.d&&["dd",Ut];return(pn=(pn=M.w!=null?pn||Ce<=1&&["w"]||Ce<M.w&&["ww",Ce]:pn)||ne<=1&&["M"]||ne<M.M&&["MM",ne]||me<=1&&["y"]||["yy",me])[2]=T,pn[3]=0<+m,pn[4]=F,function(rn,Ar,Xr,Qs,Ay){return Ay.relativeTime(Ar||1,!!Xr,rn,Qs)}.apply(null,pn)}var Sy=Math.abs;function xu(m){return(0<m)-(m<0)||+m}function z0(){if(!this.isValid())return this.localeData().invalidDate();var m,T,M,F,Z,kt,Ut,ne=Sy(this._milliseconds)/1e3,Ce=Sy(this._days),me=Sy(this._months),pn=this.asSeconds();return pn?(m=dt(ne/60),T=dt(m/60),ne%=60,m%=60,M=dt(me/12),me%=12,F=ne?ne.toFixed(3).replace(/\.?0+$/,""):"",Z=xu(this._months)!==xu(pn)?"-":"",kt=xu(this._days)!==xu(pn)?"-":"",Ut=xu(this._milliseconds)!==xu(pn)?"-":"",(pn<0?"-":"")+"P"+(M?Z+M+"Y":"")+(me?Z+me+"M":"")+(Ce?kt+Ce+"D":"")+(T||m||ne?"T":"")+(T?Ut+T+"H":"")+(m?Ut+m+"M":"")+(ne?Ut+F+"S":"")):"P0D"}var Wn=Ks.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var m=this._data;return this._milliseconds=po(this._milliseconds),this._days=po(this._days),this._months=po(this._months),m.milliseconds=po(m.milliseconds),m.seconds=po(m.seconds),m.minutes=po(m.minutes),m.hours=po(m.hours),m.months=po(m.months),m.years=po(m.years),this},Wn.add=function(m,T){return r8(this,m,T,1)},Wn.subtract=function(m,T){return r8(this,m,T,-1)},Wn.as=function(m){if(!this.isValid())return NaN;var T,M,F=this._milliseconds;if((m=Ht(m))==="month"||m==="quarter"||m==="year")switch(T=this._days+F/864e5,M=this._months+s8(T),m){case"month":return M;case"quarter":return M/3;case"year":return M/12}else switch(T=this._days+Math.round(Cy(this._months)),m){case"week":return T/7+F/6048e5;case"day":return T+F/864e5;case"hour":return 24*T+F/36e5;case"minute":return 1440*T+F/6e4;case"second":return 86400*T+F/1e3;case"millisecond":return Math.floor(864e5*T)+F;default:throw new Error("Unknown unit "+m)}},Wn.asMilliseconds=de,Wn.asSeconds=It,Wn.asMinutes=nn,Wn.asHours=bt,Wn.asDays=Ae,Wn.asWeeks=yr,Wn.asMonths=Ft,Wn.asQuarters=jl,Wn.asYears=jo,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Q(this._months/12):NaN},Wn._bubble=function(){var m=this._milliseconds,T=this._days,M=this._months,F=this._data;return 0<=m&&0<=T&&0<=M||m<=0&&T<=0&&M<=0||(m+=864e5*i8(Cy(M)+T),M=T=0),F.milliseconds=m%1e3,m=dt(m/1e3),F.seconds=m%60,m=dt(m/60),F.minutes=m%60,m=dt(m/60),F.hours=m%24,T+=dt(m/24),M+=m=dt(s8(T)),T-=i8(Cy(m)),m=dt(M/12),M%=12,F.days=T,F.months=M,F.years=m,this},Wn.clone=function(){return Zs(this)},Wn.get=function(m){return m=Ht(m),this.isValid()?this[m+"s"]():NaN},Wn.milliseconds=qo,Wn.seconds=Go,Wn.minutes=U0,Wn.hours=fn,Wn.days=jZ,Wn.weeks=function(){return dt(this.days()/7)},Wn.months=qZ,Wn.years=GZ,Wn.humanize=function(m,T){if(!this.isValid())return this.localeData().invalidDate();var M=!1,F=vu;return typeof m=="object"&&(T=m,m=!1),typeof m=="boolean"&&(M=m),typeof T=="object"&&(F=Object.assign({},vu,T),T.s!=null&&T.ss==null&&(F.ss=T.s-1)),m=this.localeData(),T=XZ(this,!M,F,m),M&&(T=m.pastFuture(+this,T)),m.postformat(T)},Wn.toISOString=z0,Wn.toString=z0,Wn.toJSON=z0,Wn.locale=X6,Wn.localeData=K6,Wn.toIsoString=at("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",z0),Wn.lang=Nr,ut("X",0,0,"unix"),ut("x",0,0,"valueOf"),wt("x",$t),wt("X",/[+-]?\d+(\.\d{1,3})?/),Ve("X",function(m,T,M){M._d=new Date(1e3*parseFloat(m))}),Ve("x",function(m,T,M){M._d=new Date(Q(m))}),i.version="2.29.4",n=qn,i.fn=B,i.min=function(){return Pi("isBefore",[].slice.call(arguments,0))},i.max=function(){return Pi("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=k,i.unix=function(m){return qn(1e3*m)},i.months=function(m,T){return n8(m,T,"months")},i.isDate=y,i.locale=$e,i.invalid=R,i.duration=Zs,i.isMoment=lt,i.weekdays=function(m,T,M){return Ey(m,T,M,"weekdays")},i.parseZone=function(){return qn.apply(null,arguments).parseZone()},i.localeData=un,i.isDuration=fo,i.monthsShort=function(m,T){return n8(m,T,"monthsShort")},i.weekdaysMin=function(m,T,M){return Ey(m,T,M,"weekdaysMin")},i.defineLocale=tn,i.updateLocale=function(m,T){var M,F;return T!=null?(F=Sr,Ln[m]!=null&&Ln[m].parentLocale!=null?Ln[m].set(N(Ln[m]._config,T)):(T=N(F=(M=Ki(m))!=null?M._config:F,T),M==null&&(T.abbr=m),(F=new j(T)).parentLocale=Ln[m],Ln[m]=F),$e(m)):Ln[m]!=null&&(Ln[m].parentLocale!=null?(Ln[m]=Ln[m].parentLocale,m===$e()&&$e(m)):Ln[m]!=null&&delete Ln[m]),Ln[m]},i.locales=function(){return A(Ln)},i.weekdaysShort=function(m,T,M){return Ey(m,T,M,"weekdaysShort")},i.normalizeUnits=Ht,i.relativeTimeRounding=function(m){return m===void 0?mo:typeof m=="function"&&(mo=m,!0)},i.relativeTimeThreshold=function(m,T){return vu[m]!==void 0&&(T===void 0?vu[m]:(vu[m]=T,m==="s"&&(vu.ss=T-1),!0))},i.calendarFormat=function(m,T){return(m=m.diff(T,"days",!0))<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"},i.prototype=B,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})})(C);const S=C.exports,D={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},E={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},H=function(t="fatal"){let e=D.fatal;typeof t=="string"?(t=t.toLowerCase(),t in D&&(e=D[t])):typeof t=="number"&&(e=t),E.trace=()=>{},E.debug=()=>{},E.info=()=>{},E.warn=()=>{},E.error=()=>{},E.fatal=()=>{},e<=D.fatal&&(E.fatal=console.error?console.error.bind(console,W("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",W("FATAL"))),e<=D.error&&(E.error=console.error?console.error.bind(console,W("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",W("ERROR"))),e<=D.warn&&(E.warn=console.warn?console.warn.bind(console,W("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",W("WARN"))),e<=D.info&&(E.info=console.info?console.info.bind(console,W("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",W("INFO"))),e<=D.debug&&(E.debug=console.debug?console.debug.bind(console,W("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",W("DEBUG"))),e<=D.trace&&(E.trace=console.debug?console.debug.bind(console,W("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",W("TRACE")))},W=t=>`%c${S().format("ss.SSS")} : ${t} : `;var K={};Object.defineProperty(K,"__esModule",{value:!0});var ot=K.sanitizeUrl=void 0,Tt=/^([^\w]*)(javascript|data|vbscript)/im,Lt=/&#(\w+)(^\w|;)?/g,Kt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Pt=/^([^:]+):/gm,Nt=[".","/"];function Gt(t){return Nt.indexOf(t[0])>-1}function he(t){return t.replace(Lt,function(e,n){return String.fromCharCode(n)})}function ae(t){var e=he(t||"").replace(Kt,"").trim();if(!e)return"about:blank";if(Gt(e))return e;var n=e.match(Pt);if(!n)return e;var i=n[0];return Tt.test(i)?"about:blank":e}ot=K.sanitizeUrl=ae;function Be(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mn(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rn(t){let e,n,i;t.length!==2?(e=Be,n=(h,f)=>Be(t(h),f),i=(h,f)=>t(h)-f):(e=t===Be||t===mn?t:Bn,n=t,i=t);function s(h,f,g=0,y=h.length){if(g<y){if(e(f,f)!==0)return y;do{const b=g+y>>>1;n(h[b],f)<0?g=b+1:y=b}while(g<y)}return g}function o(h,f,g=0,y=h.length){if(g<y){if(e(f,f)!==0)return y;do{const b=g+y>>>1;n(h[b],f)<=0?g=b+1:y=b}while(g<y)}return g}function l(h,f,g=0,y=h.length){const b=s(h,f,g,y-1);return b>g&&i(h[b-1],f)>-i(h[b],f)?b-1:b}return{left:s,center:l,right:o}}function Bn(){return 0}function Hn(t){return t===null?NaN:+t}const Rr=Rn(Be).right;Rn(Hn).center;const xr=Rr;class lr extends Map{constructor(e,n=Fn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,s]of e)this.set(i,s)}get(e){return super.get(cr(this,e))}has(e){return super.has(cr(this,e))}set(e,n){return super.set(He(this,e),n)}delete(e){return super.delete(hn(this,e))}}function cr({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function He({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function hn({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function Fn(t){return t!==null&&typeof t=="object"?t.valueOf():t}var jn=Math.sqrt(50),Zr=Math.sqrt(10),kr=Math.sqrt(2);function ua(t,e,n){var i,s=-1,o,l,h;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((i=e<t)&&(o=t,t=e,e=o),(h=Fa(t,e,n))===0||!isFinite(h))return[];if(h>0){let f=Math.round(t/h),g=Math.round(e/h);for(f*h<t&&++f,g*h>e&&--g,l=new Array(o=g-f+1);++s<o;)l[s]=(f+s)*h}else{h=-h;let f=Math.round(t*h),g=Math.round(e*h);for(f/h<t&&++f,g/h>e&&--g,l=new Array(o=g-f+1);++s<o;)l[s]=(f+s)/h}return i&&l.reverse(),l}function Fa(t,e,n){var i=(e-t)/Math.max(0,n),s=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,s);return s>=0?(o>=jn?10:o>=Zr?5:o>=kr?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(o>=jn?10:o>=Zr?5:o>=kr?2:1)}function ee(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/s;return o>=jn?s*=10:o>=Zr?s*=5:o>=kr&&(s*=2),e<t?-s:s}function De(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function Te(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function Ge(t){return t}var Mn=1,Yn=2,yn=3,nt=4,mt=1e-6;function Vt(t){return"translate("+t+",0)"}function Zt(t){return"translate(0,"+t+")"}function se(t){return e=>+t(e)}function ye(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Re(){return!this.__axis}function pe(t,e){var n=[],i=null,s=null,o=6,l=6,h=3,f=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,g=t===Mn||t===nt?-1:1,y=t===nt||t===Yn?"x":"y",b=t===Mn||t===yn?Vt:Zt;function x(k){var O=i==null?e.ticks?e.ticks.apply(e,n):e.domain():i,I=s==null?e.tickFormat?e.tickFormat.apply(e,n):Ge:s,R=Math.max(o,0)+h,Y=e.range(),V=+Y[0]+f,X=+Y[Y.length-1]+f,J=(e.bandwidth?ye:se)(e.copy(),f),st=k.selection?k.selection():k,lt=st.selectAll(".domain").data([null]),tt=st.selectAll(".tick").data(O,e).order(),at=tt.exit(),q=tt.enter().append("g").attr("class","tick"),z=tt.select("line"),$=tt.select("text");lt=lt.merge(lt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),tt=tt.merge(q),z=z.merge(q.append("line").attr("stroke","currentColor").attr(y+"2",g*o)),$=$.merge(q.append("text").attr("fill","currentColor").attr(y,g*R).attr("dy",t===Mn?"0em":t===yn?"0.71em":"0.32em")),k!==st&&(lt=lt.transition(k),tt=tt.transition(k),z=z.transition(k),$=$.transition(k),at=at.transition(k).attr("opacity",mt).attr("transform",function(N){return isFinite(N=J(N))?b(N+f):this.getAttribute("transform")}),q.attr("opacity",mt).attr("transform",function(N){var j=this.parentNode.__axis;return b((j&&isFinite(j=j(N))?j:J(N))+f)})),at.remove(),lt.attr("d",t===nt||t===Yn?l?"M"+g*l+","+V+"H"+f+"V"+X+"H"+g*l:"M"+f+","+V+"V"+X:l?"M"+V+","+g*l+"V"+f+"H"+X+"V"+g*l:"M"+V+","+f+"H"+X),tt.attr("opacity",1).attr("transform",function(N){return b(J(N)+f)}),z.attr(y+"2",g*o),$.attr(y,g*R).text(I),st.filter(Re).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Yn?"start":t===nt?"end":"middle"),st.each(function(){this.__axis=J})}return x.scale=function(k){return arguments.length?(e=k,x):e},x.ticks=function(){return n=Array.from(arguments),x},x.tickArguments=function(k){return arguments.length?(n=k==null?[]:Array.from(k),x):n.slice()},x.tickValues=function(k){return arguments.length?(i=k==null?null:Array.from(k),x):i&&i.slice()},x.tickFormat=function(k){return arguments.length?(s=k,x):s},x.tickSize=function(k){return arguments.length?(o=l=+k,x):o},x.tickSizeInner=function(k){return arguments.length?(o=+k,x):o},x.tickSizeOuter=function(k){return arguments.length?(l=+k,x):l},x.tickPadding=function(k){return arguments.length?(h=+k,x):h},x.offset=function(k){return arguments.length?(f=+k,x):f},x}function we(t){return pe(Mn,t)}function ce(t){return pe(yn,t)}var Qe={value:()=>{}};function Ye(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Xe(n)}function Xe(t){this._=t}function _n(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Xe.prototype=Ye.prototype={constructor:Xe,on:function(t,e){var n=this._,i=_n(t+"",n),s,o=-1,l=i.length;if(arguments.length<2){for(;++o<l;)if((s=(t=i[o]).type)&&(s=Pn(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<l;)if(s=(t=i[o]).type)n[s]=er(n[s],t.name,e);else if(e==null)for(s in n)n[s]=er(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Xe(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,o;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,s=o.length;i<s;++i)o[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,o=i.length;s<o;++s)i[s].value.apply(e,n)}};function Pn(t,e){for(var n=0,i=t.length,s;n<i;++n)if((s=t[n]).name===e)return s.value}function er(t,e,n){for(var i=0,s=t.length;i<s;++i)if(t[i].name===e){t[i]=Qe,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Kn="http://www.w3.org/1999/xhtml";const Cr={svg:"http://www.w3.org/2000/svg",xhtml:Kn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Cr.hasOwnProperty(e)?{space:Cr[e],local:t}:t}function Co(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Kn&&e.documentElement.namespaceURI===Kn?e.createElement(t):e.createElementNS(n,t)}}function sf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function So(t){var e=bi(t);return(e.local?sf:Co)(e)}function af(){}function di(t){return t==null?af:function(){return this.querySelector(t)}}function gs(t){typeof t!="function"&&(t=di(t));for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var o=e[s],l=o.length,h=i[s]=new Array(l),f,g,y=0;y<l;++y)(f=o[y])&&(g=t.call(f,f.__data__,y,o))&&("__data__"in f&&(g.__data__=f.__data__),h[y]=g);return new Mi(i,this._parents)}function Gu(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function lS(){return[]}function $b(t){return t==null?lS:function(){return this.querySelectorAll(t)}}function cS(t){return function(){return Gu(t.apply(this,arguments))}}function uS(t){typeof t=="function"?t=cS(t):t=$b(t);for(var e=this._groups,n=e.length,i=[],s=[],o=0;o<n;++o)for(var l=e[o],h=l.length,f,g=0;g<h;++g)(f=l[g])&&(i.push(t.call(f,f.__data__,g,l)),s.push(f));return new Mi(i,s)}function Yb(t){return function(){return this.matches(t)}}function Ub(t){return function(e){return e.matches(t)}}var hS=Array.prototype.find;function dS(t){return function(){return hS.call(this.children,t)}}function fS(){return this.firstElementChild}function pS(t){return this.select(t==null?fS:dS(typeof t=="function"?t:Ub(t)))}var gS=Array.prototype.filter;function mS(){return Array.from(this.children)}function yS(t){return function(){return gS.call(this.children,t)}}function _S(t){return this.selectAll(t==null?mS:yS(typeof t=="function"?t:Ub(t)))}function bS(t){typeof t!="function"&&(t=Yb(t));for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var o=e[s],l=o.length,h=i[s]=[],f,g=0;g<l;++g)(f=o[g])&&t.call(f,f.__data__,g,o)&&h.push(f);return new Mi(i,this._parents)}function zb(t){return new Array(t.length)}function vS(){return new Mi(this._enter||this._groups.map(zb),this._parents)}function of(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}of.prototype={constructor:of,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function xS(t){return function(){return t}}function kS(t,e,n,i,s,o){for(var l=0,h,f=e.length,g=o.length;l<g;++l)(h=e[l])?(h.__data__=o[l],i[l]=h):n[l]=new of(t,o[l]);for(;l<f;++l)(h=e[l])&&(s[l]=h)}function wS(t,e,n,i,s,o,l){var h,f,g=new Map,y=e.length,b=o.length,x=new Array(y),k;for(h=0;h<y;++h)(f=e[h])&&(x[h]=k=l.call(f,f.__data__,h,e)+"",g.has(k)?s[h]=f:g.set(k,f));for(h=0;h<b;++h)k=l.call(t,o[h],h,o)+"",(f=g.get(k))?(i[h]=f,f.__data__=o[h],g.delete(k)):n[h]=new of(t,o[h]);for(h=0;h<y;++h)(f=e[h])&&g.get(x[h])===f&&(s[h]=f)}function TS(t){return t.__data__}function ES(t,e){if(!arguments.length)return Array.from(this,TS);var n=e?wS:kS,i=this._parents,s=this._groups;typeof t!="function"&&(t=xS(t));for(var o=s.length,l=new Array(o),h=new Array(o),f=new Array(o),g=0;g<o;++g){var y=i[g],b=s[g],x=b.length,k=CS(t.call(y,y&&y.__data__,g,i)),O=k.length,I=h[g]=new Array(O),R=l[g]=new Array(O),Y=f[g]=new Array(x);n(y,b,I,R,Y,k,e);for(var V=0,X=0,J,st;V<O;++V)if(J=I[V]){for(V>=X&&(X=V+1);!(st=R[X])&&++X<O;);J._next=st||null}}return l=new Mi(l,i),l._enter=h,l._exit=f,l}function CS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SS(){return new Mi(this._exit||this._groups.map(zb),this._parents)}function AS(t,e,n){var i=this.enter(),s=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?o.remove():n(o),i&&s?i.merge(s).order():s}function LS(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,s=n.length,o=i.length,l=Math.min(s,o),h=new Array(s),f=0;f<l;++f)for(var g=n[f],y=i[f],b=g.length,x=h[f]=new Array(b),k,O=0;O<b;++O)(k=g[O]||y[O])&&(x[O]=k);for(;f<s;++f)h[f]=n[f];return new Mi(h,this._parents)}function OS(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],s=i.length-1,o=i[s],l;--s>=0;)(l=i[s])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function MS(t){t||(t=NS);function e(b,x){return b&&x?t(b.__data__,x.__data__):!b-!x}for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o){for(var l=n[o],h=l.length,f=s[o]=new Array(h),g,y=0;y<h;++y)(g=l[y])&&(f[y]=g);f.sort(e)}return new Mi(s,this._parents).order()}function NS(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function DS(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function IS(){return Array.from(this)}function RS(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],s=0,o=i.length;s<o;++s){var l=i[s];if(l)return l}return null}function BS(){let t=0;for(const e of this)++t;return t}function FS(){return!this.node()}function PS(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var s=e[n],o=0,l=s.length,h;o<l;++o)(h=s[o])&&t.call(h,h.__data__,o,s);return this}function VS(t){return function(){this.removeAttribute(t)}}function $S(t){return function(){this.removeAttributeNS(t.space,t.local)}}function YS(t,e){return function(){this.setAttribute(t,e)}}function US(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function zS(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function HS(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function WS(t,e){var n=bi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?$S:VS:typeof e=="function"?n.local?HS:zS:n.local?US:YS)(n,e))}function Hb(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function jS(t){return function(){this.style.removeProperty(t)}}function qS(t,e,n){return function(){this.style.setProperty(t,e,n)}}function GS(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function XS(t,e,n){return arguments.length>1?this.each((e==null?jS:typeof e=="function"?GS:qS)(t,e,n==null?"":n)):xc(this.node(),t)}function xc(t,e){return t.style.getPropertyValue(e)||Hb(t).getComputedStyle(t,null).getPropertyValue(e)}function KS(t){return function(){delete this[t]}}function ZS(t,e){return function(){this[t]=e}}function QS(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function JS(t,e){return arguments.length>1?this.each((e==null?KS:typeof e=="function"?QS:ZS)(t,e)):this.node()[t]}function Wb(t){return t.trim().split(/^|\s+/)}function Zp(t){return t.classList||new jb(t)}function jb(t){this._node=t,this._names=Wb(t.getAttribute("class")||"")}jb.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qb(t,e){for(var n=Zp(t),i=-1,s=e.length;++i<s;)n.add(e[i])}function Gb(t,e){for(var n=Zp(t),i=-1,s=e.length;++i<s;)n.remove(e[i])}function t9(t){return function(){qb(this,t)}}function e9(t){return function(){Gb(this,t)}}function n9(t,e){return function(){(e.apply(this,arguments)?qb:Gb)(this,t)}}function r9(t,e){var n=Wb(t+"");if(arguments.length<2){for(var i=Zp(this.node()),s=-1,o=n.length;++s<o;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?n9:e?t9:e9)(n,e))}function i9(){this.textContent=""}function s9(t){return function(){this.textContent=t}}function a9(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function o9(t){return arguments.length?this.each(t==null?i9:(typeof t=="function"?a9:s9)(t)):this.node().textContent}function l9(){this.innerHTML=""}function c9(t){return function(){this.innerHTML=t}}function u9(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function h9(t){return arguments.length?this.each(t==null?l9:(typeof t=="function"?u9:c9)(t)):this.node().innerHTML}function d9(){this.nextSibling&&this.parentNode.appendChild(this)}function f9(){return this.each(d9)}function p9(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function g9(){return this.each(p9)}function m9(t){var e=typeof t=="function"?t:So(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function y9(){return null}function _9(t,e){var n=typeof t=="function"?t:So(t),i=e==null?y9:typeof e=="function"?e:di(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function b9(){var t=this.parentNode;t&&t.removeChild(this)}function v9(){return this.each(b9)}function x9(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function k9(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function w9(t){return this.select(t?k9:x9)}function T9(t){return arguments.length?this.property("__data__",t):this.node().__data__}function E9(t){return function(e){t.call(this,e,this.__data__)}}function C9(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function S9(t){return function(){var e=this.__on;if(!!e){for(var n=0,i=-1,s=e.length,o;n<s;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function A9(t,e,n){return function(){var i=this.__on,s,o=E9(e);if(i){for(var l=0,h=i.length;l<h;++l)if((s=i[l]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=e;return}}this.addEventListener(t.type,o,n),s={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(s):this.__on=[s]}}function L9(t,e,n){var i=C9(t+""),s,o=i.length,l;if(arguments.length<2){var h=this.node().__on;if(h){for(var f=0,g=h.length,y;f<g;++f)for(s=0,y=h[f];s<o;++s)if((l=i[s]).type===y.type&&l.name===y.name)return y.value}return}for(h=e?A9:S9,s=0;s<o;++s)this.each(h(i[s],e,n));return this}function Xb(t,e,n){var i=Hb(t),s=i.CustomEvent;typeof s=="function"?s=new s(e,n):(s=i.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function O9(t,e){return function(){return Xb(this,t,e)}}function M9(t,e){return function(){return Xb(this,t,e.apply(this,arguments))}}function N9(t,e){return this.each((typeof e=="function"?M9:O9)(t,e))}function*D9(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],s=0,o=i.length,l;s<o;++s)(l=i[s])&&(yield l)}var Qp=[null];function Mi(t,e){this._groups=t,this._parents=e}function Xu(){return new Mi([[document.documentElement]],Qp)}function I9(){return this}Mi.prototype=Xu.prototype={constructor:Mi,select:gs,selectAll:uS,selectChild:pS,selectChildren:_S,filter:bS,data:ES,enter:vS,exit:SS,join:AS,merge:LS,selection:I9,order:OS,sort:MS,call:DS,nodes:IS,node:RS,size:BS,empty:FS,each:PS,attr:WS,style:XS,property:JS,classed:r9,text:o9,html:h9,raise:f9,lower:g9,append:m9,insert:_9,remove:v9,clone:w9,datum:T9,on:L9,dispatch:N9,[Symbol.iterator]:D9};function re(t){return typeof t=="string"?new Mi([[document.querySelector(t)]],[document.documentElement]):new Mi([[t]],Qp)}function Jp(t){return typeof t=="string"?new Mi([document.querySelectorAll(t)],[document.documentElement]):new Mi([Gu(t)],Qp)}function Ku(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lf(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function cl(){}var Zu=.7,cf=1/Zu,kc="\\s*([+-]?\\d+)\\s*",Qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R9=/^#([0-9a-f]{3,8})$/,B9=new RegExp(`^rgb\\(${kc},${kc},${kc}\\)$`),F9=new RegExp(`^rgb\\(${ha},${ha},${ha}\\)$`),P9=new RegExp(`^rgba\\(${kc},${kc},${kc},${Qu}\\)$`),V9=new RegExp(`^rgba\\(${ha},${ha},${ha},${Qu}\\)$`),$9=new RegExp(`^hsl\\(${Qu},${ha},${ha}\\)$`),Y9=new RegExp(`^hsla\\(${Qu},${ha},${ha},${Qu}\\)$`),Kb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ku(cl,ul,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Zb,formatHex:Zb,formatHex8:U9,formatHsl:z9,formatRgb:Qb,toString:Qb});function Zb(){return this.rgb().formatHex()}function U9(){return this.rgb().formatHex8()}function z9(){return iv(this).formatHsl()}function Qb(){return this.rgb().formatRgb()}function ul(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=R9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Jb(e):n===3?new vi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?uf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?uf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=B9.exec(t))?new vi(e[1],e[2],e[3],1):(e=F9.exec(t))?new vi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=P9.exec(t))?uf(e[1],e[2],e[3],e[4]):(e=V9.exec(t))?uf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$9.exec(t))?rv(e[1],e[2]/100,e[3]/100,1):(e=Y9.exec(t))?rv(e[1],e[2]/100,e[3]/100,e[4]):Kb.hasOwnProperty(t)?Jb(Kb[t]):t==="transparent"?new vi(NaN,NaN,NaN,0):null}function Jb(t){return new vi(t>>16&255,t>>8&255,t&255,1)}function uf(t,e,n,i){return i<=0&&(t=e=n=NaN),new vi(t,e,n,i)}function tv(t){return t instanceof cl||(t=ul(t)),t?(t=t.rgb(),new vi(t.r,t.g,t.b,t.opacity)):new vi}function tg(t,e,n,i){return arguments.length===1?tv(t):new vi(t,e,n,i==null?1:i)}function vi(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Ku(vi,tg,lf(cl,{brighter(t){return t=t==null?cf:Math.pow(cf,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zu:Math.pow(Zu,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vi(hl(this.r),hl(this.g),hl(this.b),hf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ev,formatHex:ev,formatHex8:H9,formatRgb:nv,toString:nv}));function ev(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}`}function H9(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}${dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function nv(){const t=hf(this.opacity);return`${t===1?"rgb(":"rgba("}${hl(this.r)}, ${hl(this.g)}, ${hl(this.b)}${t===1?")":`, ${t})`}`}function hf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dl(t){return t=hl(t),(t<16?"0":"")+t.toString(16)}function rv(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ss(t,e,n,i)}function iv(t){if(t instanceof Ss)return new Ss(t.h,t.s,t.l,t.opacity);if(t instanceof cl||(t=ul(t)),!t)return new Ss;if(t instanceof Ss)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,s=Math.min(e,n,i),o=Math.max(e,n,i),l=NaN,h=o-s,f=(o+s)/2;return h?(e===o?l=(n-i)/h+(n<i)*6:n===o?l=(i-e)/h+2:l=(e-n)/h+4,h/=f<.5?o+s:2-o-s,l*=60):h=f>0&&f<1?0:l,new Ss(l,h,f,t.opacity)}function W9(t,e,n,i){return arguments.length===1?iv(t):new Ss(t,e,n,i==null?1:i)}function Ss(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Ku(Ss,W9,lf(cl,{brighter(t){return t=t==null?cf:Math.pow(cf,t),new Ss(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zu:Math.pow(Zu,t),new Ss(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,s=2*n-i;return new vi(eg(t>=240?t-240:t+120,s,i),eg(t,s,i),eg(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new Ss(sv(this.h),df(this.s),df(this.l),hf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hf(this.opacity);return`${t===1?"hsl(":"hsla("}${sv(this.h)}, ${df(this.s)*100}%, ${df(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sv(t){return t=(t||0)%360,t<0?t+360:t}function df(t){return Math.max(0,Math.min(1,t||0))}function eg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const j9=Math.PI/180,q9=180/Math.PI,ff=18,av=.96422,ov=1,lv=.82521,cv=4/29,wc=6/29,uv=3*wc*wc,G9=wc*wc*wc;function hv(t){if(t instanceof da)return new da(t.l,t.a,t.b,t.opacity);if(t instanceof Pa)return dv(t);t instanceof vi||(t=tv(t));var e=sg(t.r),n=sg(t.g),i=sg(t.b),s=ng((.2225045*e+.7168786*n+.0606169*i)/ov),o,l;return e===n&&n===i?o=l=s:(o=ng((.4360747*e+.3850649*n+.1430804*i)/av),l=ng((.0139322*e+.0971045*n+.7141733*i)/lv)),new da(116*s-16,500*(o-s),200*(s-l),t.opacity)}function X9(t,e,n,i){return arguments.length===1?hv(t):new da(t,e,n,i==null?1:i)}function da(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}Ku(da,X9,lf(cl,{brighter(t){return new da(this.l+ff*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new da(this.l-ff*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=av*rg(e),t=ov*rg(t),n=lv*rg(n),new vi(ig(3.1338561*e-1.6168667*t-.4906146*n),ig(-.9787684*e+1.9161415*t+.033454*n),ig(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function ng(t){return t>G9?Math.pow(t,1/3):t/uv+cv}function rg(t){return t>wc?t*t*t:uv*(t-cv)}function ig(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function sg(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function K9(t){if(t instanceof Pa)return new Pa(t.h,t.c,t.l,t.opacity);if(t instanceof da||(t=hv(t)),t.a===0&&t.b===0)return new Pa(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*q9;return new Pa(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ag(t,e,n,i){return arguments.length===1?K9(t):new Pa(t,e,n,i==null?1:i)}function Pa(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function dv(t){if(isNaN(t.h))return new da(t.l,0,0,t.opacity);var e=t.h*j9;return new da(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ku(Pa,ag,lf(cl,{brighter(t){return new Pa(this.h,this.c,this.l+ff*(t==null?1:t),this.opacity)},darker(t){return new Pa(this.h,this.c,this.l-ff*(t==null?1:t),this.opacity)},rgb(){return dv(this).rgb()}}));const pf=t=>()=>t;function fv(t,e){return function(n){return t+n*e}}function Z9(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Q9(t,e){var n=e-t;return n?fv(t,n>180||n<-180?n-360*Math.round(n/360):n):pf(isNaN(t)?e:t)}function J9(t){return(t=+t)==1?Ju:function(e,n){return n-e?Z9(e,n,t):pf(isNaN(e)?n:e)}}function Ju(t,e){var n=e-t;return n?fv(t,n):pf(isNaN(t)?e:t)}const gf=function t(e){var n=J9(e);function i(s,o){var l=n((s=tg(s)).r,(o=tg(o)).r),h=n(s.g,o.g),f=n(s.b,o.b),g=Ju(s.opacity,o.opacity);return function(y){return s.r=l(y),s.g=h(y),s.b=f(y),s.opacity=g(y),s+""}}return i.gamma=t,i}(1);function tA(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),s;return function(o){for(s=0;s<n;++s)i[s]=t[s]*(1-o)+e[s]*o;return i}}function eA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nA(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,s=new Array(i),o=new Array(n),l;for(l=0;l<i;++l)s[l]=cg(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(h){for(l=0;l<i;++l)o[l]=s[l](h);return o}}function rA(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function As(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iA(t,e){var n={},i={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=cg(t[s],e[s]):i[s]=e[s];return function(o){for(s in n)i[s]=n[s](o);return i}}var og=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lg=new RegExp(og.source,"g");function sA(t){return function(){return t}}function aA(t){return function(e){return t(e)+""}}function pv(t,e){var n=og.lastIndex=lg.lastIndex=0,i,s,o,l=-1,h=[],f=[];for(t=t+"",e=e+"";(i=og.exec(t))&&(s=lg.exec(e));)(o=s.index)>n&&(o=e.slice(n,o),h[l]?h[l]+=o:h[++l]=o),(i=i[0])===(s=s[0])?h[l]?h[l]+=s:h[++l]=s:(h[++l]=null,f.push({i:l,x:As(i,s)})),n=lg.lastIndex;return n<e.length&&(o=e.slice(n),h[l]?h[l]+=o:h[++l]=o),h.length<2?f[0]?aA(f[0].x):sA(e):(e=f.length,function(g){for(var y=0,b;y<e;++y)h[(b=f[y]).i]=b.x(g);return h.join("")})}function cg(t,e){var n=typeof e,i;return e==null||n==="boolean"?pf(e):(n==="number"?As:n==="string"?(i=ul(e))?(e=i,gf):pv:e instanceof ul?gf:e instanceof Date?rA:eA(e)?tA:Array.isArray(e)?nA:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iA:As)(t,e)}function oA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var gv=180/Math.PI,ug={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mv(t,e,n,i,s,o){var l,h,f;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(h=Math.sqrt(n*n+i*i))&&(n/=h,i/=h,f/=h),t*i<e*n&&(t=-t,e=-e,f=-f,l=-l),{translateX:s,translateY:o,rotate:Math.atan2(e,t)*gv,skewX:Math.atan(f)*gv,scaleX:l,scaleY:h}}var mf;function lA(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ug:mv(e.a,e.b,e.c,e.d,e.e,e.f)}function cA(t){return t==null||(mf||(mf=document.createElementNS("http://www.w3.org/2000/svg","g")),mf.setAttribute("transform",t),!(t=mf.transform.baseVal.consolidate()))?ug:(t=t.matrix,mv(t.a,t.b,t.c,t.d,t.e,t.f))}function yv(t,e,n,i){function s(g){return g.length?g.pop()+" ":""}function o(g,y,b,x,k,O){if(g!==b||y!==x){var I=k.push("translate(",null,e,null,n);O.push({i:I-4,x:As(g,b)},{i:I-2,x:As(y,x)})}else(b||x)&&k.push("translate("+b+e+x+n)}function l(g,y,b,x){g!==y?(g-y>180?y+=360:y-g>180&&(g+=360),x.push({i:b.push(s(b)+"rotate(",null,i)-2,x:As(g,y)})):y&&b.push(s(b)+"rotate("+y+i)}function h(g,y,b,x){g!==y?x.push({i:b.push(s(b)+"skewX(",null,i)-2,x:As(g,y)}):y&&b.push(s(b)+"skewX("+y+i)}function f(g,y,b,x,k,O){if(g!==b||y!==x){var I=k.push(s(k)+"scale(",null,",",null,")");O.push({i:I-4,x:As(g,b)},{i:I-2,x:As(y,x)})}else(b!==1||x!==1)&&k.push(s(k)+"scale("+b+","+x+")")}return function(g,y){var b=[],x=[];return g=t(g),y=t(y),o(g.translateX,g.translateY,y.translateX,y.translateY,b,x),l(g.rotate,y.rotate,b,x),h(g.skewX,y.skewX,b,x),f(g.scaleX,g.scaleY,y.scaleX,y.scaleY,b,x),g=y=null,function(k){for(var O=-1,I=x.length,R;++O<I;)b[(R=x[O]).i]=R.x(k);return b.join("")}}}var uA=yv(lA,"px, ","px)","deg)"),hA=yv(cA,", ",")",")");function dA(t){return function(e,n){var i=t((e=ag(e)).h,(n=ag(n)).h),s=Ju(e.c,n.c),o=Ju(e.l,n.l),l=Ju(e.opacity,n.opacity);return function(h){return e.h=i(h),e.c=s(h),e.l=o(h),e.opacity=l(h),e+""}}}const fA=dA(Q9);var Tc=0,th=0,eh=0,_v=1e3,yf,nh,_f=0,fl=0,bf=0,rh=typeof performance=="object"&&performance.now?performance:Date,bv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hg(){return fl||(bv(pA),fl=rh.now()+bf)}function pA(){fl=0}function vf(){this._call=this._time=this._next=null}vf.prototype=vv.prototype={constructor:vf,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?hg():+n)+(e==null?0:+e),!this._next&&nh!==this&&(nh?nh._next=this:yf=this,nh=this),this._call=t,this._time=n,dg()},stop:function(){this._call&&(this._call=null,this._time=1/0,dg())}};function vv(t,e,n){var i=new vf;return i.restart(t,e,n),i}function gA(){hg(),++Tc;for(var t=yf,e;t;)(e=fl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Tc}function xv(){fl=(_f=rh.now())+bf,Tc=th=0;try{gA()}finally{Tc=0,yA(),fl=0}}function mA(){var t=rh.now(),e=t-_f;e>_v&&(bf-=e,_f=t)}function yA(){for(var t,e=yf,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:yf=n);nh=t,dg(i)}function dg(t){if(!Tc){th&&(th=clearTimeout(th));var e=t-fl;e>24?(t<1/0&&(th=setTimeout(xv,t-rh.now()-bf)),eh&&(eh=clearInterval(eh))):(eh||(_f=rh.now(),eh=setInterval(mA,_v)),Tc=1,bv(xv))}}function kv(t,e,n){var i=new vf;return e=e==null?0:+e,i.restart(s=>{i.stop(),t(s+e)},e,n),i}var _A=Ye("start","end","cancel","interrupt"),bA=[],wv=0,Tv=1,fg=2,xf=3,Ev=4,pg=5,kf=6;function wf(t,e,n,i,s,o){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;vA(t,n,{name:e,index:i,group:s,on:_A,tween:bA,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wv})}function gg(t,e){var n=Ls(t,e);if(n.state>wv)throw new Error("too late; already scheduled");return n}function fa(t,e){var n=Ls(t,e);if(n.state>xf)throw new Error("too late; already running");return n}function Ls(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vA(t,e,n){var i=t.__transition,s;i[e]=n,n.timer=vv(o,0,n.time);function o(g){n.state=Tv,n.timer.restart(l,n.delay,n.time),n.delay<=g&&l(g-n.delay)}function l(g){var y,b,x,k;if(n.state!==Tv)return f();for(y in i)if(k=i[y],k.name===n.name){if(k.state===xf)return kv(l);k.state===Ev?(k.state=kf,k.timer.stop(),k.on.call("interrupt",t,t.__data__,k.index,k.group),delete i[y]):+y<e&&(k.state=kf,k.timer.stop(),k.on.call("cancel",t,t.__data__,k.index,k.group),delete i[y])}if(kv(function(){n.state===xf&&(n.state=Ev,n.timer.restart(h,n.delay,n.time),h(g))}),n.state=fg,n.on.call("start",t,t.__data__,n.index,n.group),n.state===fg){for(n.state=xf,s=new Array(x=n.tween.length),y=0,b=-1;y<x;++y)(k=n.tween[y].value.call(t,t.__data__,n.index,n.group))&&(s[++b]=k);s.length=b+1}}function h(g){for(var y=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(f),n.state=pg,1),b=-1,x=s.length;++b<x;)s[b].call(t,y);n.state===pg&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=kf,n.timer.stop(),delete i[e];for(var g in i)return;delete t.__transition}}function xA(t,e){var n=t.__transition,i,s,o=!0,l;if(!!n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){o=!1;continue}s=i.state>fg&&i.state<pg,i.state=kf,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}o&&delete t.__transition}}function kA(t){return this.each(function(){xA(this,t)})}function wA(t,e){var n,i;return function(){var s=fa(this,t),o=s.tween;if(o!==n){i=n=o;for(var l=0,h=i.length;l<h;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}s.tween=i}}function TA(t,e,n){var i,s;if(typeof n!="function")throw new Error;return function(){var o=fa(this,t),l=o.tween;if(l!==i){s=(i=l).slice();for(var h={name:e,value:n},f=0,g=s.length;f<g;++f)if(s[f].name===e){s[f]=h;break}f===g&&s.push(h)}o.tween=s}}function EA(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ls(this.node(),n).tween,s=0,o=i.length,l;s<o;++s)if((l=i[s]).name===t)return l.value;return null}return this.each((e==null?wA:TA)(n,t,e))}function mg(t,e,n){var i=t._id;return t.each(function(){var s=fa(this,i);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Ls(s,i).value[e]}}function Cv(t,e){var n;return(typeof e=="number"?As:e instanceof ul?gf:(n=ul(e))?(e=n,gf):pv)(t,e)}function CA(t){return function(){this.removeAttribute(t)}}function SA(t){return function(){this.removeAttributeNS(t.space,t.local)}}function AA(t,e,n){var i,s=n+"",o;return function(){var l=this.getAttribute(t);return l===s?null:l===i?o:o=e(i=l,n)}}function LA(t,e,n){var i,s=n+"",o;return function(){var l=this.getAttributeNS(t.space,t.local);return l===s?null:l===i?o:o=e(i=l,n)}}function OA(t,e,n){var i,s,o;return function(){var l,h=n(this),f;return h==null?void this.removeAttribute(t):(l=this.getAttribute(t),f=h+"",l===f?null:l===i&&f===s?o:(s=f,o=e(i=l,h)))}}function MA(t,e,n){var i,s,o;return function(){var l,h=n(this),f;return h==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),f=h+"",l===f?null:l===i&&f===s?o:(s=f,o=e(i=l,h)))}}function NA(t,e){var n=bi(t),i=n==="transform"?hA:Cv;return this.attrTween(t,typeof e=="function"?(n.local?MA:OA)(n,i,mg(this,"attr."+t,e)):e==null?(n.local?SA:CA)(n):(n.local?LA:AA)(n,i,e))}function DA(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function IA(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function RA(t,e){var n,i;function s(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&IA(t,o)),n}return s._value=e,s}function BA(t,e){var n,i;function s(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&DA(t,o)),n}return s._value=e,s}function FA(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=bi(t);return this.tween(n,(i.local?RA:BA)(i,e))}function PA(t,e){return function(){gg(this,t).delay=+e.apply(this,arguments)}}function VA(t,e){return e=+e,function(){gg(this,t).delay=e}}function $A(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?PA:VA)(e,t)):Ls(this.node(),e).delay}function YA(t,e){return function(){fa(this,t).duration=+e.apply(this,arguments)}}function UA(t,e){return e=+e,function(){fa(this,t).duration=e}}function zA(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?YA:UA)(e,t)):Ls(this.node(),e).duration}function HA(t,e){if(typeof e!="function")throw new Error;return function(){fa(this,t).ease=e}}function WA(t){var e=this._id;return arguments.length?this.each(HA(e,t)):Ls(this.node(),e).ease}function jA(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;fa(this,t).ease=n}}function qA(t){if(typeof t!="function")throw new Error;return this.each(jA(this._id,t))}function GA(t){typeof t!="function"&&(t=Yb(t));for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var o=e[s],l=o.length,h=i[s]=[],f,g=0;g<l;++g)(f=o[g])&&t.call(f,f.__data__,g,o)&&h.push(f);return new Va(i,this._parents,this._name,this._id)}function XA(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,s=n.length,o=Math.min(i,s),l=new Array(i),h=0;h<o;++h)for(var f=e[h],g=n[h],y=f.length,b=l[h]=new Array(y),x,k=0;k<y;++k)(x=f[k]||g[k])&&(b[k]=x);for(;h<i;++h)l[h]=e[h];return new Va(l,this._parents,this._name,this._id)}function KA(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ZA(t,e,n){var i,s,o=KA(e)?gg:fa;return function(){var l=o(this,t),h=l.on;h!==i&&(s=(i=h).copy()).on(e,n),l.on=s}}function QA(t,e){var n=this._id;return arguments.length<2?Ls(this.node(),n).on.on(t):this.each(ZA(n,t,e))}function JA(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function tL(){return this.on("end.remove",JA(this._id))}function eL(t){var e=this._name,n=this._id;typeof t!="function"&&(t=di(t));for(var i=this._groups,s=i.length,o=new Array(s),l=0;l<s;++l)for(var h=i[l],f=h.length,g=o[l]=new Array(f),y,b,x=0;x<f;++x)(y=h[x])&&(b=t.call(y,y.__data__,x,h))&&("__data__"in y&&(b.__data__=y.__data__),g[x]=b,wf(g[x],e,n,x,g,Ls(y,n)));return new Va(o,this._parents,e,n)}function nL(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$b(t));for(var i=this._groups,s=i.length,o=[],l=[],h=0;h<s;++h)for(var f=i[h],g=f.length,y,b=0;b<g;++b)if(y=f[b]){for(var x=t.call(y,y.__data__,b,f),k,O=Ls(y,n),I=0,R=x.length;I<R;++I)(k=x[I])&&wf(k,e,n,I,x,O);o.push(x),l.push(y)}return new Va(o,l,e,n)}var rL=Xu.prototype.constructor;function iL(){return new rL(this._groups,this._parents)}function sL(t,e){var n,i,s;return function(){var o=xc(this,t),l=(this.style.removeProperty(t),xc(this,t));return o===l?null:o===n&&l===i?s:s=e(n=o,i=l)}}function Sv(t){return function(){this.style.removeProperty(t)}}function aL(t,e,n){var i,s=n+"",o;return function(){var l=xc(this,t);return l===s?null:l===i?o:o=e(i=l,n)}}function oL(t,e,n){var i,s,o;return function(){var l=xc(this,t),h=n(this),f=h+"";return h==null&&(f=h=(this.style.removeProperty(t),xc(this,t))),l===f?null:l===i&&f===s?o:(s=f,o=e(i=l,h))}}function lL(t,e){var n,i,s,o="style."+e,l="end."+o,h;return function(){var f=fa(this,t),g=f.on,y=f.value[o]==null?h||(h=Sv(e)):void 0;(g!==n||s!==y)&&(i=(n=g).copy()).on(l,s=y),f.on=i}}function cL(t,e,n){var i=(t+="")=="transform"?uA:Cv;return e==null?this.styleTween(t,sL(t,i)).on("end.style."+t,Sv(t)):typeof e=="function"?this.styleTween(t,oL(t,i,mg(this,"style."+t,e))).each(lL(this._id,t)):this.styleTween(t,aL(t,i,e),n).on("end.style."+t,null)}function uL(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function hL(t,e,n){var i,s;function o(){var l=e.apply(this,arguments);return l!==s&&(i=(s=l)&&uL(t,l,n)),i}return o._value=e,o}function dL(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,hL(t,e,n==null?"":n))}function fL(t){return function(){this.textContent=t}}function pL(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function gL(t){return this.tween("text",typeof t=="function"?pL(mg(this,"text",t)):fL(t==null?"":t+""))}function mL(t){return function(e){this.textContent=t.call(this,e)}}function yL(t){var e,n;function i(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&mL(s)),e}return i._value=t,i}function _L(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,yL(t))}function bL(){for(var t=this._name,e=this._id,n=Av(),i=this._groups,s=i.length,o=0;o<s;++o)for(var l=i[o],h=l.length,f,g=0;g<h;++g)if(f=l[g]){var y=Ls(f,e);wf(f,t,n,g,l,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Va(i,this._parents,t,n)}function vL(){var t,e,n=this,i=n._id,s=n.size();return new Promise(function(o,l){var h={value:l},f={value:function(){--s===0&&o()}};n.each(function(){var g=fa(this,i),y=g.on;y!==t&&(e=(t=y).copy(),e._.cancel.push(h),e._.interrupt.push(h),e._.end.push(f)),g.on=e}),s===0&&o()})}var xL=0;function Va(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Av(){return++xL}var $a=Xu.prototype;Va.prototype={constructor:Va,select:eL,selectAll:nL,selectChild:$a.selectChild,selectChildren:$a.selectChildren,filter:GA,merge:XA,selection:iL,transition:bL,call:$a.call,nodes:$a.nodes,node:$a.node,size:$a.size,empty:$a.empty,each:$a.each,on:QA,attr:NA,attrTween:FA,style:cL,styleTween:dL,text:gL,textTween:_L,remove:tL,tween:EA,delay:$A,duration:zA,ease:WA,easeVarying:qA,end:vL,[Symbol.iterator]:$a[Symbol.iterator]};function kL(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var wL={time:null,delay:0,duration:250,ease:kL};function TL(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function EL(t){var e,n;t instanceof Va?(e=t._id,t=t._name):(e=Av(),(n=wL).time=hg(),t=t==null?null:t+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var l=i[o],h=l.length,f,g=0;g<h;++g)(f=l[g])&&wf(f,t,e,g,l,n||TL(f,e));return new Va(i,this._parents,t,e)}Xu.prototype.interrupt=kA,Xu.prototype.transition=EL;const yg=Math.PI,_g=2*yg,pl=1e-6,CL=_g-pl;function bg(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function vg(){return new bg}bg.prototype=vg.prototype={constructor:bg,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,s,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+s)+","+(this._y1=+o)},arcTo:function(t,e,n,i,s){t=+t,e=+e,n=+n,i=+i,s=+s;var o=this._x1,l=this._y1,h=n-t,f=i-e,g=o-t,y=l-e,b=g*g+y*y;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(b>pl)if(!(Math.abs(y*h-f*g)>pl)||!s)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var x=n-o,k=i-l,O=h*h+f*f,I=x*x+k*k,R=Math.sqrt(O),Y=Math.sqrt(b),V=s*Math.tan((yg-Math.acos((O+b-I)/(2*R*Y)))/2),X=V/Y,J=V/R;Math.abs(X-1)>pl&&(this._+="L"+(t+X*g)+","+(e+X*y)),this._+="A"+s+","+s+",0,0,"+ +(y*x>g*k)+","+(this._x1=t+J*h)+","+(this._y1=e+J*f)}},arc:function(t,e,n,i,s,o){t=+t,e=+e,n=+n,o=!!o;var l=n*Math.cos(i),h=n*Math.sin(i),f=t+l,g=e+h,y=1^o,b=o?i-s:s-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+f+","+g:(Math.abs(this._x1-f)>pl||Math.abs(this._y1-g)>pl)&&(this._+="L"+f+","+g),n&&(b<0&&(b=b%_g+_g),b>CL?this._+="A"+n+","+n+",0,1,"+y+","+(t-l)+","+(e-h)+"A"+n+","+n+",0,1,"+y+","+(this._x1=f)+","+(this._y1=g):b>pl&&(this._+="A"+n+","+n+",0,"+ +(b>=yg)+","+y+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function SL(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function AL(t,e){return fetch(t,e).then(SL)}function LL(t){return(e,n)=>AL(e,n).then(i=>new DOMParser().parseFromString(i,t))}var OL=LL("image/svg+xml");function ML(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Ec(t){return t=Tf(Math.abs(t)),t?t[1]:NaN}function NL(t,e){return function(n,i){for(var s=n.length,o=[],l=0,h=t[0],f=0;s>0&&h>0&&(f+h+1>i&&(h=Math.max(1,i-f)),o.push(n.substring(s-=h,s+h)),!((f+=h+1)>i));)h=t[l=(l+1)%t.length];return o.reverse().join(e)}}function DL(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var IL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ef(t){if(!(e=IL.exec(t)))throw new Error("invalid format: "+t);var e;return new xg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ef.prototype=xg.prototype;function xg(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RL(t){t:for(var e=t.length,n=1,i=-1,s;n<e;++n)switch(t[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+t[n])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(s+1):t}var Lv;function BL(t,e){var n=Tf(t,e);if(!n)return t+"";var i=n[0],s=n[1],o=s-(Lv=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Tf(t,Math.max(0,e+o-1))[0]}function Ov(t,e){var n=Tf(t,e);if(!n)return t+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const Mv={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ML,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ov(t*100,e),r:Ov,s:BL,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Nv(t){return t}var Dv=Array.prototype.map,Iv=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function FL(t){var e=t.grouping===void 0||t.thousands===void 0?Nv:NL(Dv.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Nv:DL(Dv.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"\u2212":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function g(b){b=Ef(b);var x=b.fill,k=b.align,O=b.sign,I=b.symbol,R=b.zero,Y=b.width,V=b.comma,X=b.precision,J=b.trim,st=b.type;st==="n"?(V=!0,st="g"):Mv[st]||(X===void 0&&(X=12),J=!0,st="g"),(R||x==="0"&&k==="=")&&(R=!0,x="0",k="=");var lt=I==="$"?n:I==="#"&&/[boxX]/.test(st)?"0"+st.toLowerCase():"",tt=I==="$"?i:/[%p]/.test(st)?l:"",at=Mv[st],q=/[defgprs%]/.test(st);X=X===void 0?6:/[gprs]/.test(st)?Math.max(1,Math.min(21,X)):Math.max(0,Math.min(20,X));function z($){var N=lt,j=tt,A,gt,L;if(st==="c")j=at($)+j,$="";else{$=+$;var Dt=$<0||1/$<0;if($=isNaN($)?f:at(Math.abs($),X),J&&($=RL($)),Dt&&+$==0&&O!=="+"&&(Dt=!1),N=(Dt?O==="("?O:h:O==="-"||O==="("?"":O)+N,j=(st==="s"?Iv[8+Lv/3]:"")+j+(Dt&&O==="("?")":""),q){for(A=-1,gt=$.length;++A<gt;)if(L=$.charCodeAt(A),48>L||L>57){j=(L===46?s+$.slice(A+1):$.slice(A))+j,$=$.slice(0,A);break}}}V&&!R&&($=e($,1/0));var ue=N.length+$.length+j.length,qt=ue<Y?new Array(Y-ue+1).join(x):"";switch(V&&R&&($=e(qt+$,qt.length?Y-j.length:1/0),qt=""),k){case"<":$=N+$+j+qt;break;case"=":$=N+qt+$+j;break;case"^":$=qt.slice(0,ue=qt.length>>1)+N+$+j+qt.slice(ue);break;default:$=qt+N+$+j;break}return o($)}return z.toString=function(){return b+""},z}function y(b,x){var k=g((b=Ef(b),b.type="f",b)),O=Math.max(-8,Math.min(8,Math.floor(Ec(x)/3)))*3,I=Math.pow(10,-O),R=Iv[8+O/3];return function(Y){return k(I*Y)+R}}return{format:g,formatPrefix:y}}var Cf,Rv,Bv;PL({thousands:",",grouping:[3],currency:["$",""]});function PL(t){return Cf=FL(t),Rv=Cf.format,Bv=Cf.formatPrefix,Cf}function VL(t){return Math.max(0,-Ec(Math.abs(t)))}function $L(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ec(e)/3)))*3-Ec(Math.abs(t)))}function YL(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ec(e)-Ec(t))+1}function kg(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Fv=Symbol("implicit");function Pv(){var t=new lr,e=[],n=[],i=Fv;function s(o){let l=t.get(o);if(l===void 0){if(i!==Fv)return i;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new lr;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return Pv(e,n).unknown(i)},kg.apply(s,arguments),s}function UL(t){return function(){return t}}function zL(t){return+t}var Vv=[0,1];function Cc(t){return t}function wg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:UL(isNaN(e)?NaN:.5)}function HL(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function WL(t,e,n){var i=t[0],s=t[1],o=e[0],l=e[1];return s<i?(i=wg(s,i),o=n(l,o)):(i=wg(i,s),o=n(o,l)),function(h){return o(i(h))}}function jL(t,e,n){var i=Math.min(t.length,e.length)-1,s=new Array(i),o=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)s[l]=wg(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(h){var f=xr(t,h,1,i)-1;return o[f](s[f](h))}}function $v(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qL(){var t=Vv,e=Vv,n=cg,i,s,o,l=Cc,h,f,g;function y(){var x=Math.min(t.length,e.length);return l!==Cc&&(l=HL(t[0],t[x-1])),h=x>2?jL:WL,f=g=null,b}function b(x){return x==null||isNaN(x=+x)?o:(f||(f=h(t.map(i),e,n)))(i(l(x)))}return b.invert=function(x){return l(s((g||(g=h(e,t.map(i),As)))(x)))},b.domain=function(x){return arguments.length?(t=Array.from(x,zL),y()):t.slice()},b.range=function(x){return arguments.length?(e=Array.from(x),y()):e.slice()},b.rangeRound=function(x){return e=Array.from(x),n=oA,y()},b.clamp=function(x){return arguments.length?(l=x?!0:Cc,y()):l!==Cc},b.interpolate=function(x){return arguments.length?(n=x,y()):n},b.unknown=function(x){return arguments.length?(o=x,b):o},function(x,k){return i=x,s=k,y()}}function Yv(){return qL()(Cc,Cc)}function GL(t,e,n,i){var s=ee(t,e,n),o;switch(i=Ef(i==null?",f":i),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(o=$L(s,l))&&(i.precision=o),Bv(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=YL(s,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=VL(s))&&(i.precision=o-(i.type==="%")*2);break}}return Rv(i)}function XL(t){var e=t.domain;return t.ticks=function(n){var i=e();return ua(i[0],i[i.length-1],n==null?10:n)},t.tickFormat=function(n,i){var s=e();return GL(s[0],s[s.length-1],n==null?10:n,i)},t.nice=function(n){n==null&&(n=10);var i=e(),s=0,o=i.length-1,l=i[s],h=i[o],f,g,y=10;for(h<l&&(g=l,l=h,h=g,g=s,s=o,o=g);y-- >0;){if(g=Fa(l,h,n),g===f)return i[s]=l,i[o]=h,e(i);if(g>0)l=Math.floor(l/g)*g,h=Math.ceil(h/g)*g;else if(g<0)l=Math.ceil(l*g)/g,h=Math.floor(h*g)/g;else break;f=g}return t},t}function Uv(){var t=Yv();return t.copy=function(){return $v(t,Uv())},kg.apply(t,arguments),XL(t)}function KL(t,e){t=t.slice();var n=0,i=t.length-1,s=t[n],o=t[i],l;return o<s&&(l=n,n=i,i=l,l=s,s=o,o=l),t[n]=e.floor(s),t[i]=e.ceil(o),t}var Tg=new Date,Eg=new Date;function si(t,e,n,i){function s(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=function(o){return t(o=new Date(+o)),o},s.ceil=function(o){return t(o=new Date(o-1)),e(o,1),t(o),o},s.round=function(o){var l=s(o),h=s.ceil(o);return o-l<h-o?l:h},s.offset=function(o,l){return e(o=new Date(+o),l==null?1:Math.floor(l)),o},s.range=function(o,l,h){var f=[],g;if(o=s.ceil(o),h=h==null?1:Math.floor(h),!(o<l)||!(h>0))return f;do f.push(g=new Date(+o)),e(o,h),t(o);while(g<o&&o<l);return f},s.filter=function(o){return si(function(l){if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},function(l,h){if(l>=l)if(h<0)for(;++h<=0;)for(;e(l,-1),!o(l););else for(;--h>=0;)for(;e(l,1),!o(l););})},n&&(s.count=function(o,l){return Tg.setTime(+o),Eg.setTime(+l),t(Tg),t(Eg),Math.floor(n(Tg,Eg))},s.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(i?function(l){return i(l)%o===0}:function(l){return s.count(0,l)%o===0}):s}),s}var Sf=si(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Sf.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?si(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Sf};const ZL=Sf;Sf.range;const Ya=1e3,ms=Ya*60,Ua=ms*60,gl=Ua*24,Cg=gl*7,zv=gl*30,Sg=gl*365;var Hv=si(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Ya)},function(t,e){return(e-t)/Ya},function(t){return t.getUTCSeconds()});const ih=Hv;Hv.range;var Wv=si(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ya)},function(t,e){t.setTime(+t+e*ms)},function(t,e){return(e-t)/ms},function(t){return t.getMinutes()});const Af=Wv;Wv.range;var jv=si(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ya-t.getMinutes()*ms)},function(t,e){t.setTime(+t+e*Ua)},function(t,e){return(e-t)/Ua},function(t){return t.getHours()});const Lf=jv;jv.range;var qv=si(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ms)/gl,t=>t.getDate()-1);const Sc=qv;qv.range;function ml(t){return si(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ms)/Cg})}var Ac=ml(0),Of=ml(1),QL=ml(2),JL=ml(3),Lc=ml(4),tO=ml(5),eO=ml(6);Ac.range,Of.range,QL.range,JL.range,Lc.range,tO.range,eO.range;var Gv=si(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const Mf=Gv;Gv.range;var Ag=si(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Ag.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:si(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const yl=Ag;Ag.range;var nO=si(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*ms)},function(t,e){return(e-t)/ms},function(t){return t.getUTCMinutes()});nO.range;var rO=si(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Ua)},function(t,e){return(e-t)/Ua},function(t){return t.getUTCHours()});rO.range;var Xv=si(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/gl},function(t){return t.getUTCDate()-1});const Kv=Xv;Xv.range;function _l(t){return si(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/Cg})}var Zv=_l(0),Nf=_l(1),iO=_l(2),sO=_l(3),Oc=_l(4),aO=_l(5),oO=_l(6);Zv.range,Nf.range,iO.range,sO.range,Oc.range,aO.range,oO.range;var lO=si(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});lO.range;var Lg=si(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Lg.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:si(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const sh=Lg;Lg.range;function cO(t,e,n,i,s,o){const l=[[ih,1,Ya],[ih,5,5*Ya],[ih,15,15*Ya],[ih,30,30*Ya],[o,1,ms],[o,5,5*ms],[o,15,15*ms],[o,30,30*ms],[s,1,Ua],[s,3,3*Ua],[s,6,6*Ua],[s,12,12*Ua],[i,1,gl],[i,2,2*gl],[n,1,Cg],[e,1,zv],[e,3,3*zv],[t,1,Sg]];function h(g,y,b){const x=y<g;x&&([g,y]=[y,g]);const k=b&&typeof b.range=="function"?b:f(g,y,b),O=k?k.range(g,+y+1):[];return x?O.reverse():O}function f(g,y,b){const x=Math.abs(y-g)/b,k=Rn(([,,R])=>R).right(l,x);if(k===l.length)return t.every(ee(g/Sg,y/Sg,b));if(k===0)return ZL.every(Math.max(ee(g,y,b),1));const[O,I]=l[x/l[k-1][2]<l[k][2]/x?k-1:k];return O.every(I)}return[h,f]}const[uO,hO]=cO(yl,Mf,Ac,Sc,Lf,Af);function Og(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Mg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ah(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dO(t){var e=t.dateTime,n=t.date,i=t.time,s=t.periods,o=t.days,l=t.shortDays,h=t.months,f=t.shortMonths,g=oh(s),y=lh(s),b=oh(o),x=lh(o),k=oh(l),O=lh(l),I=oh(h),R=lh(h),Y=oh(f),V=lh(f),X={a:Dt,A:ue,b:qt,B:ut,c:null,d:r4,e:r4,f:RO,g:WO,G:qO,H:NO,I:DO,j:IO,L:i4,m:BO,M:FO,p:Ct,q:vt,Q:u4,s:h4,S:PO,u:VO,U:$O,V:YO,w:UO,W:zO,x:null,X:null,y:HO,Y:jO,Z:GO,"%":c4},J={a:xt,A:Ot,b:Ht,B:ft,c:null,d:a4,e:a4,f:QO,g:lM,G:uM,H:XO,I:KO,j:ZO,L:o4,m:JO,M:tM,p:_e,q:et,Q:u4,s:h4,S:eM,u:nM,U:rM,V:iM,w:sM,W:aM,x:null,X:null,y:oM,Y:cM,Z:hM,"%":c4},st={a:z,A:$,b:N,B:j,c:A,d:e4,e:e4,f:AO,g:t4,G:Jv,H:n4,I:n4,j:TO,L:SO,m:wO,M:EO,p:q,q:kO,Q:OO,s:MO,S:CO,u:yO,U:_O,V:bO,w:mO,W:vO,x:gt,X:L,y:t4,Y:Jv,Z:xO,"%":LO};X.x=lt(n,X),X.X=lt(i,X),X.c=lt(e,X),J.x=lt(n,J),J.X=lt(i,J),J.c=lt(e,J);function lt(it,dt){return function(Q){var G=[],U=-1,yt=0,B=it.length,It,rt,Ae;for(Q instanceof Date||(Q=new Date(+Q));++U<B;)it.charCodeAt(U)===37&&(G.push(it.slice(yt,U)),(rt=Qv[It=it.charAt(++U)])!=null?It=it.charAt(++U):rt=It==="e"?" ":"0",(Ae=dt[It])&&(It=Ae(Q,rt)),G.push(It),yt=U+1);return G.push(it.slice(yt,U)),G.join("")}}function tt(it,dt){return function(Q){var G=ah(1900,void 0,1),U=at(G,it,Q+="",0),yt,B;if(U!=Q.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(dt&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(yt=Mg(ah(G.y,0,1)),B=yt.getUTCDay(),yt=B>4||B===0?Nf.ceil(yt):Nf(yt),yt=Kv.offset(yt,(G.V-1)*7),G.y=yt.getUTCFullYear(),G.m=yt.getUTCMonth(),G.d=yt.getUTCDate()+(G.w+6)%7):(yt=Og(ah(G.y,0,1)),B=yt.getDay(),yt=B>4||B===0?Of.ceil(yt):Of(yt),yt=Sc.offset(yt,(G.V-1)*7),G.y=yt.getFullYear(),G.m=yt.getMonth(),G.d=yt.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),B="Z"in G?Mg(ah(G.y,0,1)).getUTCDay():Og(ah(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(B+5)%7:G.w+G.U*7-(B+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Mg(G)):Og(G)}}function at(it,dt,Q,G){for(var U=0,yt=dt.length,B=Q.length,It,rt;U<yt;){if(G>=B)return-1;if(It=dt.charCodeAt(U++),It===37){if(It=dt.charAt(U++),rt=st[It in Qv?dt.charAt(U++):It],!rt||(G=rt(it,Q,G))<0)return-1}else if(It!=Q.charCodeAt(G++))return-1}return G}function q(it,dt,Q){var G=g.exec(dt.slice(Q));return G?(it.p=y.get(G[0].toLowerCase()),Q+G[0].length):-1}function z(it,dt,Q){var G=k.exec(dt.slice(Q));return G?(it.w=O.get(G[0].toLowerCase()),Q+G[0].length):-1}function $(it,dt,Q){var G=b.exec(dt.slice(Q));return G?(it.w=x.get(G[0].toLowerCase()),Q+G[0].length):-1}function N(it,dt,Q){var G=Y.exec(dt.slice(Q));return G?(it.m=V.get(G[0].toLowerCase()),Q+G[0].length):-1}function j(it,dt,Q){var G=I.exec(dt.slice(Q));return G?(it.m=R.get(G[0].toLowerCase()),Q+G[0].length):-1}function A(it,dt,Q){return at(it,e,dt,Q)}function gt(it,dt,Q){return at(it,n,dt,Q)}function L(it,dt,Q){return at(it,i,dt,Q)}function Dt(it){return l[it.getDay()]}function ue(it){return o[it.getDay()]}function qt(it){return f[it.getMonth()]}function ut(it){return h[it.getMonth()]}function Ct(it){return s[+(it.getHours()>=12)]}function vt(it){return 1+~~(it.getMonth()/3)}function xt(it){return l[it.getUTCDay()]}function Ot(it){return o[it.getUTCDay()]}function Ht(it){return f[it.getUTCMonth()]}function ft(it){return h[it.getUTCMonth()]}function _e(it){return s[+(it.getUTCHours()>=12)]}function et(it){return 1+~~(it.getUTCMonth()/3)}return{format:function(it){var dt=lt(it+="",X);return dt.toString=function(){return it},dt},parse:function(it){var dt=tt(it+="",!1);return dt.toString=function(){return it},dt},utcFormat:function(it){var dt=lt(it+="",J);return dt.toString=function(){return it},dt},utcParse:function(it){var dt=tt(it+="",!0);return dt.toString=function(){return it},dt}}}var Qv={"-":"",_:" ",0:"0"},ai=/^\s*\d+/,fO=/^%/,pO=/[\\^$*+?|[\]().{}]/g;function Zn(t,e,n){var i=t<0?"-":"",s=(i?-t:t)+"",o=s.length;return i+(o<n?new Array(n-o+1).join(e)+s:s)}function gO(t){return t.replace(pO,"\\$&")}function oh(t){return new RegExp("^(?:"+t.map(gO).join("|")+")","i")}function lh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function mO(t,e,n){var i=ai.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function yO(t,e,n){var i=ai.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function _O(t,e,n){var i=ai.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function bO(t,e,n){var i=ai.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function vO(t,e,n){var i=ai.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Jv(t,e,n){var i=ai.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function t4(t,e,n){var i=ai.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function xO(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function kO(t,e,n){var i=ai.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function wO(t,e,n){var i=ai.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function e4(t,e,n){var i=ai.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function TO(t,e,n){var i=ai.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function n4(t,e,n){var i=ai.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function EO(t,e,n){var i=ai.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function CO(t,e,n){var i=ai.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function SO(t,e,n){var i=ai.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function AO(t,e,n){var i=ai.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function LO(t,e,n){var i=fO.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function OO(t,e,n){var i=ai.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function MO(t,e,n){var i=ai.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function r4(t,e){return Zn(t.getDate(),e,2)}function NO(t,e){return Zn(t.getHours(),e,2)}function DO(t,e){return Zn(t.getHours()%12||12,e,2)}function IO(t,e){return Zn(1+Sc.count(yl(t),t),e,3)}function i4(t,e){return Zn(t.getMilliseconds(),e,3)}function RO(t,e){return i4(t,e)+"000"}function BO(t,e){return Zn(t.getMonth()+1,e,2)}function FO(t,e){return Zn(t.getMinutes(),e,2)}function PO(t,e){return Zn(t.getSeconds(),e,2)}function VO(t){var e=t.getDay();return e===0?7:e}function $O(t,e){return Zn(Ac.count(yl(t)-1,t),e,2)}function s4(t){var e=t.getDay();return e>=4||e===0?Lc(t):Lc.ceil(t)}function YO(t,e){return t=s4(t),Zn(Lc.count(yl(t),t)+(yl(t).getDay()===4),e,2)}function UO(t){return t.getDay()}function zO(t,e){return Zn(Of.count(yl(t)-1,t),e,2)}function HO(t,e){return Zn(t.getFullYear()%100,e,2)}function WO(t,e){return t=s4(t),Zn(t.getFullYear()%100,e,2)}function jO(t,e){return Zn(t.getFullYear()%1e4,e,4)}function qO(t,e){var n=t.getDay();return t=n>=4||n===0?Lc(t):Lc.ceil(t),Zn(t.getFullYear()%1e4,e,4)}function GO(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zn(e/60|0,"0",2)+Zn(e%60,"0",2)}function a4(t,e){return Zn(t.getUTCDate(),e,2)}function XO(t,e){return Zn(t.getUTCHours(),e,2)}function KO(t,e){return Zn(t.getUTCHours()%12||12,e,2)}function ZO(t,e){return Zn(1+Kv.count(sh(t),t),e,3)}function o4(t,e){return Zn(t.getUTCMilliseconds(),e,3)}function QO(t,e){return o4(t,e)+"000"}function JO(t,e){return Zn(t.getUTCMonth()+1,e,2)}function tM(t,e){return Zn(t.getUTCMinutes(),e,2)}function eM(t,e){return Zn(t.getUTCSeconds(),e,2)}function nM(t){var e=t.getUTCDay();return e===0?7:e}function rM(t,e){return Zn(Zv.count(sh(t)-1,t),e,2)}function l4(t){var e=t.getUTCDay();return e>=4||e===0?Oc(t):Oc.ceil(t)}function iM(t,e){return t=l4(t),Zn(Oc.count(sh(t),t)+(sh(t).getUTCDay()===4),e,2)}function sM(t){return t.getUTCDay()}function aM(t,e){return Zn(Nf.count(sh(t)-1,t),e,2)}function oM(t,e){return Zn(t.getUTCFullYear()%100,e,2)}function lM(t,e){return t=l4(t),Zn(t.getUTCFullYear()%100,e,2)}function cM(t,e){return Zn(t.getUTCFullYear()%1e4,e,4)}function uM(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Oc(t):Oc.ceil(t),Zn(t.getUTCFullYear()%1e4,e,4)}function hM(){return"+0000"}function c4(){return"%"}function u4(t){return+t}function h4(t){return Math.floor(+t/1e3)}var Mc,Df;dM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dM(t){return Mc=dO(t),Df=Mc.format,Mc.parse,Mc.utcFormat,Mc.utcParse,Mc}function fM(t){return new Date(t)}function pM(t){return t instanceof Date?+t:+new Date(+t)}function d4(t,e,n,i,s,o,l,h,f,g){var y=Yv(),b=y.invert,x=y.domain,k=g(".%L"),O=g(":%S"),I=g("%I:%M"),R=g("%I %p"),Y=g("%a %d"),V=g("%b %d"),X=g("%B"),J=g("%Y");function st(lt){return(f(lt)<lt?k:h(lt)<lt?O:l(lt)<lt?I:o(lt)<lt?R:i(lt)<lt?s(lt)<lt?Y:V:n(lt)<lt?X:J)(lt)}return y.invert=function(lt){return new Date(b(lt))},y.domain=function(lt){return arguments.length?x(Array.from(lt,pM)):x().map(fM)},y.ticks=function(lt){var tt=x();return t(tt[0],tt[tt.length-1],lt==null?10:lt)},y.tickFormat=function(lt,tt){return tt==null?st:g(tt)},y.nice=function(lt){var tt=x();return(!lt||typeof lt.range!="function")&&(lt=e(tt[0],tt[tt.length-1],lt==null?10:lt)),lt?x(KL(tt,lt)):y},y.copy=function(){return $v(y,d4(t,e,n,i,s,o,l,h,f,g))},y}function gM(){return kg.apply(d4(uO,hO,yl,Mf,Ac,Sc,Lf,Af,ih,Df).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Br(t){return function(){return t}}const f4=Math.abs,xi=Math.atan2,bl=Math.cos,mM=Math.max,Ng=Math.min,pa=Math.sin,Nc=Math.sqrt,Hi=1e-12,ch=Math.PI,If=ch/2,Rf=2*ch;function yM(t){return t>1?0:t<-1?ch:Math.acos(t)}function p4(t){return t>=1?If:t<=-1?-If:Math.asin(t)}function _M(t){return t.innerRadius}function bM(t){return t.outerRadius}function vM(t){return t.startAngle}function xM(t){return t.endAngle}function kM(t){return t&&t.padAngle}function wM(t,e,n,i,s,o,l,h){var f=n-t,g=i-e,y=l-s,b=h-o,x=b*f-y*g;if(!(x*x<Hi))return x=(y*(e-o)-b*(t-s))/x,[t+x*f,e+x*g]}function Bf(t,e,n,i,s,o,l){var h=t-n,f=e-i,g=(l?o:-o)/Nc(h*h+f*f),y=g*f,b=-g*h,x=t+y,k=e+b,O=n+y,I=i+b,R=(x+O)/2,Y=(k+I)/2,V=O-x,X=I-k,J=V*V+X*X,st=s-o,lt=x*I-O*k,tt=(X<0?-1:1)*Nc(mM(0,st*st*J-lt*lt)),at=(lt*X-V*tt)/J,q=(-lt*V-X*tt)/J,z=(lt*X+V*tt)/J,$=(-lt*V+X*tt)/J,N=at-R,j=q-Y,A=z-R,gt=$-Y;return N*N+j*j>A*A+gt*gt&&(at=z,q=$),{cx:at,cy:q,x01:-y,y01:-b,x11:at*(s/st-1),y11:q*(s/st-1)}}function Dg(){var t=_M,e=bM,n=Br(0),i=null,s=vM,o=xM,l=kM,h=null;function f(){var g,y,b=+t.apply(this,arguments),x=+e.apply(this,arguments),k=s.apply(this,arguments)-If,O=o.apply(this,arguments)-If,I=f4(O-k),R=O>k;if(h||(h=g=vg()),x<b&&(y=x,x=b,b=y),!(x>Hi))h.moveTo(0,0);else if(I>Rf-Hi)h.moveTo(x*bl(k),x*pa(k)),h.arc(0,0,x,k,O,!R),b>Hi&&(h.moveTo(b*bl(O),b*pa(O)),h.arc(0,0,b,O,k,R));else{var Y=k,V=O,X=k,J=O,st=I,lt=I,tt=l.apply(this,arguments)/2,at=tt>Hi&&(i?+i.apply(this,arguments):Nc(b*b+x*x)),q=Ng(f4(x-b)/2,+n.apply(this,arguments)),z=q,$=q,N,j;if(at>Hi){var A=p4(at/b*pa(tt)),gt=p4(at/x*pa(tt));(st-=A*2)>Hi?(A*=R?1:-1,X+=A,J-=A):(st=0,X=J=(k+O)/2),(lt-=gt*2)>Hi?(gt*=R?1:-1,Y+=gt,V-=gt):(lt=0,Y=V=(k+O)/2)}var L=x*bl(Y),Dt=x*pa(Y),ue=b*bl(J),qt=b*pa(J);if(q>Hi){var ut=x*bl(V),Ct=x*pa(V),vt=b*bl(X),xt=b*pa(X),Ot;if(I<ch&&(Ot=wM(L,Dt,vt,xt,ut,Ct,ue,qt))){var Ht=L-Ot[0],ft=Dt-Ot[1],_e=ut-Ot[0],et=Ct-Ot[1],it=1/pa(yM((Ht*_e+ft*et)/(Nc(Ht*Ht+ft*ft)*Nc(_e*_e+et*et)))/2),dt=Nc(Ot[0]*Ot[0]+Ot[1]*Ot[1]);z=Ng(q,(b-dt)/(it-1)),$=Ng(q,(x-dt)/(it+1))}}lt>Hi?$>Hi?(N=Bf(vt,xt,L,Dt,x,$,R),j=Bf(ut,Ct,ue,qt,x,$,R),h.moveTo(N.cx+N.x01,N.cy+N.y01),$<q?h.arc(N.cx,N.cy,$,xi(N.y01,N.x01),xi(j.y01,j.x01),!R):(h.arc(N.cx,N.cy,$,xi(N.y01,N.x01),xi(N.y11,N.x11),!R),h.arc(0,0,x,xi(N.cy+N.y11,N.cx+N.x11),xi(j.cy+j.y11,j.cx+j.x11),!R),h.arc(j.cx,j.cy,$,xi(j.y11,j.x11),xi(j.y01,j.x01),!R))):(h.moveTo(L,Dt),h.arc(0,0,x,Y,V,!R)):h.moveTo(L,Dt),!(b>Hi)||!(st>Hi)?h.lineTo(ue,qt):z>Hi?(N=Bf(ue,qt,ut,Ct,b,-z,R),j=Bf(L,Dt,vt,xt,b,-z,R),h.lineTo(N.cx+N.x01,N.cy+N.y01),z<q?h.arc(N.cx,N.cy,z,xi(N.y01,N.x01),xi(j.y01,j.x01),!R):(h.arc(N.cx,N.cy,z,xi(N.y01,N.x01),xi(N.y11,N.x11),!R),h.arc(0,0,b,xi(N.cy+N.y11,N.cx+N.x11),xi(j.cy+j.y11,j.cx+j.x11),R),h.arc(j.cx,j.cy,z,xi(j.y11,j.x11),xi(j.y01,j.x01),!R))):h.arc(0,0,b,J,X,R)}if(h.closePath(),g)return h=null,g+""||null}return f.centroid=function(){var g=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,y=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-ch/2;return[bl(y)*g,pa(y)*g]},f.innerRadius=function(g){return arguments.length?(t=typeof g=="function"?g:Br(+g),f):t},f.outerRadius=function(g){return arguments.length?(e=typeof g=="function"?g:Br(+g),f):e},f.cornerRadius=function(g){return arguments.length?(n=typeof g=="function"?g:Br(+g),f):n},f.padRadius=function(g){return arguments.length?(i=g==null?null:typeof g=="function"?g:Br(+g),f):i},f.startAngle=function(g){return arguments.length?(s=typeof g=="function"?g:Br(+g),f):s},f.endAngle=function(g){return arguments.length?(o=typeof g=="function"?g:Br(+g),f):o},f.padAngle=function(g){return arguments.length?(l=typeof g=="function"?g:Br(+g),f):l},f.context=function(g){return arguments.length?(h=g==null?null:g,f):h},f}function g4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function m4(t){this._context=t}m4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ji(t){return new m4(t)}function TM(t){return t[0]}function EM(t){return t[1]}function Dc(t,e){var n=Br(!0),i=null,s=Ji,o=null;t=typeof t=="function"?t:t===void 0?TM:Br(t),e=typeof e=="function"?e:e===void 0?EM:Br(e);function l(h){var f,g=(h=g4(h)).length,y,b=!1,x;for(i==null&&(o=s(x=vg())),f=0;f<=g;++f)!(f<g&&n(y=h[f],f,h))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+t(y,f,h),+e(y,f,h));if(x)return o=null,x+""||null}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:Br(+h),l):t},l.y=function(h){return arguments.length?(e=typeof h=="function"?h:Br(+h),l):e},l.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Br(!!h),l):n},l.curve=function(h){return arguments.length?(s=h,i!=null&&(o=s(i)),l):s},l.context=function(h){return arguments.length?(h==null?i=o=null:o=s(i=h),l):i},l}function CM(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function SM(t){return t}function AM(){var t=SM,e=CM,n=null,i=Br(0),s=Br(Rf),o=Br(0);function l(h){var f,g=(h=g4(h)).length,y,b,x=0,k=new Array(g),O=new Array(g),I=+i.apply(this,arguments),R=Math.min(Rf,Math.max(-Rf,s.apply(this,arguments)-I)),Y,V=Math.min(Math.abs(R)/g,o.apply(this,arguments)),X=V*(R<0?-1:1),J;for(f=0;f<g;++f)(J=O[k[f]=f]=+t(h[f],f,h))>0&&(x+=J);for(e!=null?k.sort(function(st,lt){return e(O[st],O[lt])}):n!=null&&k.sort(function(st,lt){return n(h[st],h[lt])}),f=0,b=x?(R-g*X)/x:0;f<g;++f,I=Y)y=k[f],J=O[y],Y=I+(J>0?J*b:0)+X,O[y]={data:h[y],index:f,value:J,startAngle:I,endAngle:Y,padAngle:V};return O}return l.value=function(h){return arguments.length?(t=typeof h=="function"?h:Br(+h),l):t},l.sortValues=function(h){return arguments.length?(e=h,n=null,l):e},l.sort=function(h){return arguments.length?(n=h,e=null,l):n},l.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:Br(+h),l):i},l.endAngle=function(h){return arguments.length?(s=typeof h=="function"?h:Br(+h),l):s},l.padAngle=function(h){return arguments.length?(o=typeof h=="function"?h:Br(+h),l):o},l}function Ff(){}function Pf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function y4(t){this._context=t}y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ic(t){return new y4(t)}function _4(t){this._context=t}_4.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LM(t){return new _4(t)}function b4(t){this._context=t}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Pf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OM(t){return new b4(t)}function v4(t){this._context=t}v4.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function MM(t){return new v4(t)}function x4(t){return t<0?-1:1}function k4(t,e,n){var i=t._x1-t._x0,s=e-t._x1,o=(t._y1-t._y0)/(i||s<0&&-0),l=(n-t._y1)/(s||i<0&&-0),h=(o*s+l*i)/(i+s);return(x4(o)+x4(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(h))||0}function w4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ig(t,e,n){var i=t._x0,s=t._y0,o=t._x1,l=t._y1,h=(o-i)/3;t._context.bezierCurveTo(i+h,s+h*e,o-h,l-h*n,o,l)}function Vf(t){this._context=t}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ig(this,this._t0,w4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ig(this,w4(this,n=k4(this,t,e)),n);break;default:Ig(this,this._t0,n=k4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function T4(t){this._context=new E4(t)}(T4.prototype=Object.create(Vf.prototype)).point=function(t,e){Vf.prototype.point.call(this,e,t)};function E4(t){this._context=t}E4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,s,o){this._context.bezierCurveTo(e,t,i,n,o,s)}};function NM(t){return new Vf(t)}function DM(t){return new T4(t)}function C4(t){this._context=t}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=S4(t),s=S4(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(i[0][o],s[0][o],i[1][o],s[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function S4(t){var e,n=t.length-1,i,s=new Array(n),o=new Array(n),l=new Array(n);for(s[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=s[e]/o[e-1],o[e]-=i,l[e]-=i*l[e-1];for(s[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)s[e]=(l[e]-s[e+1])/o[e];for(o[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-s[e+1];return[s,o]}function IM(t){return new C4(t)}function $f(t,e){this._context=t,this._t=e}$f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function RM(t){return new $f(t,.5)}function BM(t){return new $f(t,0)}function FM(t){return new $f(t,1)}function Rc(t,e,n){this.k=t,this.x=e,this.y=n}Rc.prototype={constructor:Rc,scale:function(t){return t===1?this:new Rc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Rc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Rc(1,0,0),Rc.prototype;/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */function Ao(t){return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function Rg(t,e){return Rg=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Rg(t,e)}function PM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yf(t,e,n){return PM()?Yf=Reflect.construct:Yf=function(s,o,l){var h=[null];h.push.apply(h,o);var f=Function.bind.apply(s,h),g=new f;return l&&Rg(g,l.prototype),g},Yf.apply(null,arguments)}function Os(t){return VM(t)||$M(t)||YM(t)||UM()}function VM(t){if(Array.isArray(t))return Bg(t)}function $M(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YM(t,e){if(!!t){if(typeof t=="string")return Bg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bg(t,e)}}function Bg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function UM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zM=Object.hasOwnProperty,A4=Object.setPrototypeOf,HM=Object.isFrozen,WM=Object.getPrototypeOf,jM=Object.getOwnPropertyDescriptor,Ni=Object.freeze,Ms=Object.seal,qM=Object.create,L4=typeof Reflect!="undefined"&&Reflect,Uf=L4.apply,Fg=L4.construct;Uf||(Uf=function(e,n,i){return e.apply(n,i)}),Ni||(Ni=function(e){return e}),Ms||(Ms=function(e){return e}),Fg||(Fg=function(e,n){return Yf(e,Os(n))});var GM=ys(Array.prototype.forEach),O4=ys(Array.prototype.pop),uh=ys(Array.prototype.push),zf=ys(String.prototype.toLowerCase),Pg=ys(String.prototype.toString),XM=ys(String.prototype.match),Ns=ys(String.prototype.replace),KM=ys(String.prototype.indexOf),ZM=ys(String.prototype.trim),Di=ys(RegExp.prototype.test),Vg=QM(TypeError);function ys(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return Uf(t,e,i)}}function QM(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Fg(t,n)}}function In(t,e,n){n=n||zf,A4&&A4(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var o=n(s);o!==s&&(HM(e)||(e[i]=o),s=o)}t[s]=!0}return t}function vl(t){var e=qM(null),n;for(n in t)Uf(zM,t,[n])&&(e[n]=t[n]);return e}function Hf(t,e){for(;t!==null;){var n=jM(t,e);if(n){if(n.get)return ys(n.get);if(typeof n.value=="function")return ys(n.value)}t=WM(t)}function i(s){return console.warn("fallback value for",s),null}return i}var M4=Ni(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$g=Ni(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yg=Ni(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),JM=Ni(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ug=Ni(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),tN=Ni(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N4=Ni(["#text"]),D4=Ni(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),zg=Ni(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I4=Ni(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Wf=Ni(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),eN=Ms(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nN=Ms(/<%[\w\W]*|[\w\W]*%>/gm),rN=Ms(/\${[\w\W]*}/gm),iN=Ms(/^data-[\-\w.\u00B7-\uFFFF]/),sN=Ms(/^aria-[\-\w]+$/),aN=Ms(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oN=Ms(/^(?:\w+script|data):/i),lN=Ms(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cN=Ms(/^html$/i),uN=function(){return typeof window=="undefined"?null:window},hN=function(e,n){if(Ao(e)!=="object"||typeof e.createPolicy!="function")return null;var i=null,s="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(s)&&(i=n.currentScript.getAttribute(s));var o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:function(h){return h},createScriptURL:function(h){return h}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function R4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uN(),e=function(pt){return R4(pt)};if(e.version="2.4.1",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,i=t.document,s=t.DocumentFragment,o=t.HTMLTemplateElement,l=t.Node,h=t.Element,f=t.NodeFilter,g=t.NamedNodeMap,y=g===void 0?t.NamedNodeMap||t.MozNamedAttrMap:g,b=t.HTMLFormElement,x=t.DOMParser,k=t.trustedTypes,O=h.prototype,I=Hf(O,"cloneNode"),R=Hf(O,"nextSibling"),Y=Hf(O,"childNodes"),V=Hf(O,"parentNode");if(typeof o=="function"){var X=i.createElement("template");X.content&&X.content.ownerDocument&&(i=X.content.ownerDocument)}var J=hN(k,n),st=J?J.createHTML(""):"",lt=i,tt=lt.implementation,at=lt.createNodeIterator,q=lt.createDocumentFragment,z=lt.getElementsByTagName,$=n.importNode,N={};try{N=vl(i).documentMode?i.documentMode:{}}catch{}var j={};e.isSupported=typeof V=="function"&&tt&&typeof tt.createHTMLDocument!="undefined"&&N!==9;var A=eN,gt=nN,L=rN,Dt=iN,ue=sN,qt=oN,ut=lN,Ct=aN,vt=null,xt=In({},[].concat(Os(M4),Os($g),Os(Yg),Os(Ug),Os(N4))),Ot=null,Ht=In({},[].concat(Os(D4),Os(zg),Os(I4),Os(Wf))),ft=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_e=null,et=null,it=!0,dt=!0,Q=!1,G=!1,U=!1,yt=!1,B=!1,It=!1,rt=!1,Ae=!1,bt=!0,de=!1,Jt="user-content-",$t=!0,te=!1,Xt={},Ft=null,wt=In({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),dn=null,We=In({},["audio","video","img","source","image","track"]),Ue=null,je=In({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ve="http://www.w3.org/1998/Math/MathML",Un="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml",Le=Fe,Ee=!1,Wt=null,Bt=In({},[Ve,Un,Fe],Pg),oe,zt=["application/xhtml+xml","text/html"],Oe="text/html",Et,on=null,Rt=i.createElement("form"),nn=function(pt){return pt instanceof RegExp||pt instanceof Function},vn=function(pt){on&&on===pt||((!pt||Ao(pt)!=="object")&&(pt={}),pt=vl(pt),oe=zt.indexOf(pt.PARSER_MEDIA_TYPE)===-1?oe=Oe:oe=pt.PARSER_MEDIA_TYPE,Et=oe==="application/xhtml+xml"?Pg:zf,vt="ALLOWED_TAGS"in pt?In({},pt.ALLOWED_TAGS,Et):xt,Ot="ALLOWED_ATTR"in pt?In({},pt.ALLOWED_ATTR,Et):Ht,Wt="ALLOWED_NAMESPACES"in pt?In({},pt.ALLOWED_NAMESPACES,Pg):Bt,Ue="ADD_URI_SAFE_ATTR"in pt?In(vl(je),pt.ADD_URI_SAFE_ATTR,Et):je,dn="ADD_DATA_URI_TAGS"in pt?In(vl(We),pt.ADD_DATA_URI_TAGS,Et):We,Ft="FORBID_CONTENTS"in pt?In({},pt.FORBID_CONTENTS,Et):wt,_e="FORBID_TAGS"in pt?In({},pt.FORBID_TAGS,Et):{},et="FORBID_ATTR"in pt?In({},pt.FORBID_ATTR,Et):{},Xt="USE_PROFILES"in pt?pt.USE_PROFILES:!1,it=pt.ALLOW_ARIA_ATTR!==!1,dt=pt.ALLOW_DATA_ATTR!==!1,Q=pt.ALLOW_UNKNOWN_PROTOCOLS||!1,G=pt.SAFE_FOR_TEMPLATES||!1,U=pt.WHOLE_DOCUMENT||!1,It=pt.RETURN_DOM||!1,rt=pt.RETURN_DOM_FRAGMENT||!1,Ae=pt.RETURN_TRUSTED_TYPE||!1,B=pt.FORCE_BODY||!1,bt=pt.SANITIZE_DOM!==!1,de=pt.SANITIZE_NAMED_PROPS||!1,$t=pt.KEEP_CONTENT!==!1,te=pt.IN_PLACE||!1,Ct=pt.ALLOWED_URI_REGEXP||Ct,Le=pt.NAMESPACE||Fe,pt.CUSTOM_ELEMENT_HANDLING&&nn(pt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ft.tagNameCheck=pt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),pt.CUSTOM_ELEMENT_HANDLING&&nn(pt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ft.attributeNameCheck=pt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),pt.CUSTOM_ELEMENT_HANDLING&&typeof pt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ft.allowCustomizedBuiltInElements=pt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),G&&(dt=!1),rt&&(It=!0),Xt&&(vt=In({},Os(N4)),Ot=[],Xt.html===!0&&(In(vt,M4),In(Ot,D4)),Xt.svg===!0&&(In(vt,$g),In(Ot,zg),In(Ot,Wf)),Xt.svgFilters===!0&&(In(vt,Yg),In(Ot,zg),In(Ot,Wf)),Xt.mathMl===!0&&(In(vt,Ug),In(Ot,I4),In(Ot,Wf))),pt.ADD_TAGS&&(vt===xt&&(vt=vl(vt)),In(vt,pt.ADD_TAGS,Et)),pt.ADD_ATTR&&(Ot===Ht&&(Ot=vl(Ot)),In(Ot,pt.ADD_ATTR,Et)),pt.ADD_URI_SAFE_ATTR&&In(Ue,pt.ADD_URI_SAFE_ATTR,Et),pt.FORBID_CONTENTS&&(Ft===wt&&(Ft=vl(Ft)),In(Ft,pt.FORBID_CONTENTS,Et)),$t&&(vt["#text"]=!0),U&&In(vt,["html","head","body"]),vt.table&&(In(vt,["tbody"]),delete _e.tbody),Ni&&Ni(pt),on=pt)},Cn=In({},["mi","mo","mn","ms","mtext"]),Sn=In({},["foreignobject","desc","title","annotation-xml"]),On=In({},["title","style","font","a","script"]),ze=In({},$g);In(ze,Yg),In(ze,JM);var ln=In({},Ug);In(ln,tN);var wn=function(pt){var ie=V(pt);(!ie||!ie.tagName)&&(ie={namespaceURI:Le,tagName:"template"});var fe=zf(pt.tagName),xn=zf(ie.tagName);return Wt[pt.namespaceURI]?pt.namespaceURI===Un?ie.namespaceURI===Fe?fe==="svg":ie.namespaceURI===Ve?fe==="svg"&&(xn==="annotation-xml"||Cn[xn]):Boolean(ze[fe]):pt.namespaceURI===Ve?ie.namespaceURI===Fe?fe==="math":ie.namespaceURI===Un?fe==="math"&&Sn[xn]:Boolean(ln[fe]):pt.namespaceURI===Fe?ie.namespaceURI===Un&&!Sn[xn]||ie.namespaceURI===Ve&&!Cn[xn]?!1:!ln[fe]&&(On[fe]||!ze[fe]):!!(oe==="application/xhtml+xml"&&Wt[pt.namespaceURI]):!1},Ze=function(pt){uh(e.removed,{element:pt});try{pt.parentNode.removeChild(pt)}catch{try{pt.outerHTML=st}catch{pt.remove()}}},Xs=function(pt,ie){try{uh(e.removed,{attribute:ie.getAttributeNode(pt),from:ie})}catch{uh(e.removed,{attribute:null,from:ie})}if(ie.removeAttribute(pt),pt==="is"&&!Ot[pt])if(It||rt)try{Ze(ie)}catch{}else try{ie.setAttribute(pt,"")}catch{}},is=function(pt){var ie,fe;if(B)pt="<remove></remove>"+pt;else{var xn=XM(pt,/^[\r\n\t ]+/);fe=xn&&xn[0]}oe==="application/xhtml+xml"&&Le===Fe&&(pt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+pt+"</body></html>");var rr=J?J.createHTML(pt):pt;if(Le===Fe)try{ie=new x().parseFromString(rr,oe)}catch{}if(!ie||!ie.documentElement){ie=tt.createDocument(Le,"template",null);try{ie.documentElement.innerHTML=Ee?"":rr}catch{}}var Qn=ie.body||ie.documentElement;return pt&&fe&&Qn.insertBefore(i.createTextNode(fe),Qn.childNodes[0]||null),Le===Fe?z.call(ie,U?"html":"body")[0]:U?ie.documentElement:Qn},nr=function(pt){return at.call(pt.ownerDocument||pt,pt,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},cn=function(pt){return pt instanceof b&&(typeof pt.nodeName!="string"||typeof pt.textContent!="string"||typeof pt.removeChild!="function"||!(pt.attributes instanceof y)||typeof pt.removeAttribute!="function"||typeof pt.setAttribute!="function"||typeof pt.namespaceURI!="string"||typeof pt.insertBefore!="function"||typeof pt.hasChildNodes!="function")},hr=function(pt){return Ao(l)==="object"?pt instanceof l:pt&&Ao(pt)==="object"&&typeof pt.nodeType=="number"&&typeof pt.nodeName=="string"},pr=function(pt,ie,fe){!j[pt]||GM(j[pt],function(xn){xn.call(e,ie,fe,on)})},mr=function(pt){var ie;if(pr("beforeSanitizeElements",pt,null),cn(pt)||Di(/[\u0080-\uFFFF]/,pt.nodeName))return Ze(pt),!0;var fe=Et(pt.nodeName);if(pr("uponSanitizeElement",pt,{tagName:fe,allowedTags:vt}),pt.hasChildNodes()&&!hr(pt.firstElementChild)&&(!hr(pt.content)||!hr(pt.content.firstElementChild))&&Di(/<[/\w]/g,pt.innerHTML)&&Di(/<[/\w]/g,pt.textContent)||fe==="select"&&Di(/<template/i,pt.innerHTML))return Ze(pt),!0;if(!vt[fe]||_e[fe]){if(!_e[fe]&&dr(fe)&&(ft.tagNameCheck instanceof RegExp&&Di(ft.tagNameCheck,fe)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(fe)))return!1;if($t&&!Ft[fe]){var xn=V(pt)||pt.parentNode,rr=Y(pt)||pt.childNodes;if(rr&&xn)for(var Qn=rr.length,Sr=Qn-1;Sr>=0;--Sr)xn.insertBefore(I(rr[Sr],!0),R(pt))}return Ze(pt),!0}return pt instanceof h&&!wn(pt)||(fe==="noscript"||fe==="noembed")&&Di(/<\/no(script|embed)/i,pt.innerHTML)?(Ze(pt),!0):(G&&pt.nodeType===3&&(ie=pt.textContent,ie=Ns(ie,A," "),ie=Ns(ie,gt," "),ie=Ns(ie,L," "),pt.textContent!==ie&&(uh(e.removed,{element:pt.cloneNode()}),pt.textContent=ie)),pr("afterSanitizeElements",pt,null),!1)},yr=function(pt,ie,fe){if(bt&&(ie==="id"||ie==="name")&&(fe in i||fe in Rt))return!1;if(!(dt&&!et[ie]&&Di(Dt,ie))){if(!(it&&Di(ue,ie))){if(!Ot[ie]||et[ie]){if(!(dr(pt)&&(ft.tagNameCheck instanceof RegExp&&Di(ft.tagNameCheck,pt)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(pt))&&(ft.attributeNameCheck instanceof RegExp&&Di(ft.attributeNameCheck,ie)||ft.attributeNameCheck instanceof Function&&ft.attributeNameCheck(ie))||ie==="is"&&ft.allowCustomizedBuiltInElements&&(ft.tagNameCheck instanceof RegExp&&Di(ft.tagNameCheck,fe)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(fe))))return!1}else if(!Ue[ie]){if(!Di(Ct,Ns(fe,ut,""))){if(!((ie==="src"||ie==="xlink:href"||ie==="href")&&pt!=="script"&&KM(fe,"data:")===0&&dn[pt])){if(!(Q&&!Di(qt,Ns(fe,ut,"")))){if(fe)return!1}}}}}}return!0},dr=function(pt){return pt.indexOf("-")>0},Nr=function(pt){var ie,fe,xn,rr;pr("beforeSanitizeAttributes",pt,null);var Qn=pt.attributes;if(!!Qn){var Sr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ot};for(rr=Qn.length;rr--;){ie=Qn[rr];var Ln=ie,ur=Ln.name,zo=Ln.namespaceURI;if(fe=ur==="value"?ie.value:ZM(ie.value),xn=Et(ur),Sr.attrName=xn,Sr.attrValue=fe,Sr.keepAttr=!0,Sr.forceKeepAttr=void 0,pr("uponSanitizeAttribute",pt,Sr),fe=Sr.attrValue,!Sr.forceKeepAttr&&(Xs(ur,pt),!!Sr.keepAttr)){if(Di(/\/>/i,fe)){Xs(ur,pt);continue}G&&(fe=Ns(fe,A," "),fe=Ns(fe,gt," "),fe=Ns(fe,L," "));var Ho=Et(pt.nodeName);if(!!yr(Ho,xn,fe)){if(de&&(xn==="id"||xn==="name")&&(Xs(ur,pt),fe=Jt+fe),J&&Ao(k)==="object"&&typeof k.getAttributeType=="function"&&!zo)switch(k.getAttributeType(Ho,xn)){case"TrustedHTML":fe=J.createHTML(fe);break;case"TrustedScriptURL":fe=J.createScriptURL(fe);break}try{zo?pt.setAttributeNS(zo,ur,fe):pt.setAttribute(ur,fe),O4(e.removed)}catch{}}}}pr("afterSanitizeAttributes",pt,null)}},qr=function Me(pt){var ie,fe=nr(pt);for(pr("beforeSanitizeShadowDOM",pt,null);ie=fe.nextNode();)pr("uponSanitizeShadowNode",ie,null),!mr(ie)&&(ie.content instanceof s&&Me(ie.content),Nr(ie));pr("afterSanitizeShadowDOM",pt,null)};return e.sanitize=function(Me){var pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie,fe,xn,rr,Qn;if(Ee=!Me,Ee&&(Me="<!-->"),typeof Me!="string"&&!hr(Me)){if(typeof Me.toString!="function")throw Vg("toString is not a function");if(Me=Me.toString(),typeof Me!="string")throw Vg("dirty is not a string, aborting")}if(!e.isSupported){if(Ao(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Me=="string")return t.toStaticHTML(Me);if(hr(Me))return t.toStaticHTML(Me.outerHTML)}return Me}if(yt||vn(pt),e.removed=[],typeof Me=="string"&&(te=!1),te){if(Me.nodeName){var Sr=Et(Me.nodeName);if(!vt[Sr]||_e[Sr])throw Vg("root node is forbidden and cannot be sanitized in-place")}}else if(Me instanceof l)ie=is("<!---->"),fe=ie.ownerDocument.importNode(Me,!0),fe.nodeType===1&&fe.nodeName==="BODY"||fe.nodeName==="HTML"?ie=fe:ie.appendChild(fe);else{if(!It&&!G&&!U&&Me.indexOf("<")===-1)return J&&Ae?J.createHTML(Me):Me;if(ie=is(Me),!ie)return It?null:Ae?st:""}ie&&B&&Ze(ie.firstChild);for(var Ln=nr(te?Me:ie);xn=Ln.nextNode();)xn.nodeType===3&&xn===rr||mr(xn)||(xn.content instanceof s&&qr(xn.content),Nr(xn),rr=xn);if(rr=null,te)return Me;if(It){if(rt)for(Qn=q.call(ie.ownerDocument);ie.firstChild;)Qn.appendChild(ie.firstChild);else Qn=ie;return Ot.shadowroot&&(Qn=$.call(n,Qn,!0)),Qn}var ur=U?ie.outerHTML:ie.innerHTML;return U&&vt["!doctype"]&&ie.ownerDocument&&ie.ownerDocument.doctype&&ie.ownerDocument.doctype.name&&Di(cN,ie.ownerDocument.doctype.name)&&(ur="<!DOCTYPE "+ie.ownerDocument.doctype.name+`>
`+ur),G&&(ur=Ns(ur,A," "),ur=Ns(ur,gt," "),ur=Ns(ur,L," ")),J&&Ae?J.createHTML(ur):ur},e.setConfig=function(Me){vn(Me),yt=!0},e.clearConfig=function(){on=null,yt=!1},e.isValidAttribute=function(Me,pt,ie){on||vn({});var fe=Et(Me),xn=Et(pt);return yr(fe,xn,ie)},e.addHook=function(Me,pt){typeof pt=="function"&&(j[Me]=j[Me]||[],uh(j[Me],pt))},e.removeHook=function(Me){if(j[Me])return O4(j[Me])},e.removeHooks=function(Me){j[Me]&&(j[Me]=[])},e.removeAllHooks=function(){j={}},e}var hh=R4();const dN=t=>t?P4(t).replace(/\\n/g,"#br#").split("#br#"):[""],B4=t=>hh.sanitize(t),F4=(t,e)=>{var n;if(((n=e.flowchart)==null?void 0:n.htmlLabels)!==!1){const i=e.securityLevel;i==="antiscript"||i==="strict"?t=B4(t):i!=="loose"&&(t=P4(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=mN(t))}return t},Ds=(t,e)=>t&&(e.dompurifyConfig?t=hh.sanitize(F4(t,e),e.dompurifyConfig).toString():t=hh.sanitize(F4(t,e),{FORBID_TAGS:["style"]}).toString(),t),fN=(t,e)=>typeof t=="string"?Ds(t,e):t.flat().map(n=>Ds(n,e)),jf=/<br\s*\/?>/gi,pN=t=>jf.test(t),gN=t=>t.split(jf),mN=t=>t.replace(/#br#/g,"<br/>"),P4=t=>t.replace(jf,"#br#"),yN=t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},oi=t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),Lo=function(t){let e=t;return t.includes("~")?(e=e.replace(/~([^~].*)/,"<$1"),e=e.replace(/~([^~]*)$/,">$1"),Lo(e)):e},gn={getRows:dN,sanitizeText:Ds,sanitizeTextOrArray:fN,hasBreaks:pN,splitBreaks:gN,lineBreakRegex:jf,removeScript:B4,getUrl:yN,evaluate:oi},qf={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},i)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const s=n<.5?n*(1+e):n+e-n*e,o=2*n-s;switch(i){case"r":return qf.hue2rgb(o,s,t+1/3)*255;case"g":return qf.hue2rgb(o,s,t)*255;case"b":return qf.hue2rgb(o,s,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},i)=>{t/=255,e/=255,n/=255;const s=Math.max(t,e,n),o=Math.min(t,e,n),l=(s+o)/2;if(i==="l")return l*100;if(s===o)return 0;const h=s-o,f=l>.5?h/(2-s-o):h/(s+o);if(i==="s")return f*100;switch(s){case t:return((e-n)/h+(e<n?6:0))*60;case e:return((n-t)/h+2)*60;case n:return((t-e)/h+4)*60;default:return-1}}},An={channel:qf,lang:{clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},unit:{dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}}},Oo={};for(let t=0;t<=255;t++)Oo[t]=An.unit.dec2hex(t);const ki={ALL:0,RGB:1,HSL:2};class _N{constructor(){this.type=ki.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=ki.ALL}is(e){return this.type===e}}const bN=_N;class vN{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new bN}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=ki.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:i,l:s}=e;n===void 0&&(e.h=An.channel.rgb2hsl(e,"h")),i===void 0&&(e.s=An.channel.rgb2hsl(e,"s")),s===void 0&&(e.l=An.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:i,b:s}=e;n===void 0&&(e.r=An.channel.hsl2rgb(e,"r")),i===void 0&&(e.g=An.channel.hsl2rgb(e,"g")),s===void 0&&(e.b=An.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(ki.HSL)&&n!==void 0?n:(this._ensureHSL(),An.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(ki.HSL)&&n!==void 0?n:(this._ensureHSL(),An.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(ki.HSL)&&n!==void 0?n:(this._ensureHSL(),An.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(ki.RGB)&&n!==void 0?n:(this._ensureRGB(),An.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(ki.RGB)&&n!==void 0?n:(this._ensureRGB(),An.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(ki.RGB)&&n!==void 0?n:(this._ensureRGB(),An.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(ki.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(ki.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(ki.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(ki.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(ki.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(ki.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const xN=vN,Gf=new xN({r:0,g:0,b:0,a:0},"transparent"),V4={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(V4.re);if(!e)return;const n=e[1],i=parseInt(n,16),s=n.length,o=s%4===0,l=s>4,h=l?1:17,f=l?8:4,g=o?0:-1,y=l?255:15;return Gf.set({r:(i>>f*(g+3)&y)*h,g:(i>>f*(g+2)&y)*h,b:(i>>f*(g+1)&y)*h,a:o?(i&y)*h/255:1},t)},stringify:t=>{const{r:e,g:n,b:i,a:s}=t;return s<1?`#${Oo[Math.round(e)]}${Oo[Math.round(n)]}${Oo[Math.round(i)]}${Oo[Math.round(s*255)]}`:`#${Oo[Math.round(e)]}${Oo[Math.round(n)]}${Oo[Math.round(i)]}`}},dh=V4,Xf={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Xf.hueRe);if(e){const[,n,i]=e;switch(i){case"grad":return An.channel.clamp.h(parseFloat(n)*.9);case"rad":return An.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return An.channel.clamp.h(parseFloat(n)*360)}}return An.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(Xf.re);if(!n)return;const[,i,s,o,l,h]=n;return Gf.set({h:Xf._hue2deg(i),s:An.channel.clamp.s(parseFloat(s)),l:An.channel.clamp.l(parseFloat(o)),a:l?An.channel.clamp.a(h?parseFloat(l)/100:parseFloat(l)):1},t)},stringify:t=>{const{h:e,s:n,l:i,a:s}=t;return s<1?`hsla(${An.lang.round(e)}, ${An.lang.round(n)}%, ${An.lang.round(i)}%, ${s})`:`hsl(${An.lang.round(e)}, ${An.lang.round(n)}%, ${An.lang.round(i)}%)`}},Kf=Xf,Zf={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Zf.colors[t];if(!!e)return dh.parse(e)},stringify:t=>{const e=dh.stringify(t);for(const n in Zf.colors)if(Zf.colors[n]===e)return n}},$4=Zf,Y4={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(Y4.re);if(!n)return;const[,i,s,o,l,h,f,g,y]=n;return Gf.set({r:An.channel.clamp.r(s?parseFloat(i)*2.55:parseFloat(i)),g:An.channel.clamp.g(l?parseFloat(o)*2.55:parseFloat(o)),b:An.channel.clamp.b(f?parseFloat(h)*2.55:parseFloat(h)),a:g?An.channel.clamp.a(y?parseFloat(g)/100:parseFloat(g)):1},t)},stringify:t=>{const{r:e,g:n,b:i,a:s}=t;return s<1?`rgba(${An.lang.round(e)}, ${An.lang.round(n)}, ${An.lang.round(i)}, ${An.lang.round(s)})`:`rgb(${An.lang.round(e)}, ${An.lang.round(n)}, ${An.lang.round(i)})`}},Qf=Y4,za={format:{keyword:$4,hex:dh,rgb:Qf,rgba:Qf,hsl:Kf,hsla:Kf},parse:t=>{if(typeof t!="string")return t;const e=dh.parse(t)||Qf.parse(t)||Kf.parse(t)||$4.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(ki.HSL)||t.data.r===void 0?Kf.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?Qf.stringify(t):dh.stringify(t)},U4=(t,e)=>{const n=za.parse(t);for(const i in e)n[i]=An.channel.clamp[i](e[i]);return za.stringify(n)},fh=(t,e,n=0,i=1)=>{if(typeof t!="number")return U4(t,{a:e});const s=Gf.set({r:An.channel.clamp.r(t),g:An.channel.clamp.g(e),b:An.channel.clamp.b(n),a:An.channel.clamp.a(i)});return za.stringify(s)},z4=(t,e,n)=>{const i=za.parse(t),s=i[e],o=An.channel.clamp[e](s+n);return s!==o&&(i[e]=o),za.stringify(i)},an=(t,e)=>z4(t,"l",e),bn=(t,e)=>z4(t,"l",-e),Yt=(t,e)=>{const n=za.parse(t),i={};for(const s in e)!e[s]||(i[s]=n[s]+e[s]);return U4(t,i)},kN=(t,e,n=50)=>{const{r:i,g:s,b:o,a:l}=za.parse(t),{r:h,g:f,b:g,a:y}=za.parse(e),b=n/100,x=b*2-1,k=l-y,I=((x*k===-1?x:(x+k)/(1+x*k))+1)/2,R=1-I,Y=i*I+h*R,V=s*I+f*R,X=o*I+g*R,J=l*b+y*(1-b);return fh(Y,V,X,J)},Ie=(t,e=100)=>{const n=za.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,kN(n,t,e)},Ii=(t,e)=>e?Yt(t,{s:-40,l:10}):Yt(t,{s:-40,l:-10}),Jf="#ffffff",t1="#f2f2f2";class wN{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Yt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Yt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ii(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ii(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ii(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ie(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ie(this.tertiaryColor),this.lineColor=this.lineColor||Ie(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?bn(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||bn(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ie(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||an(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Yt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Yt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Yt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Yt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Yt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Yt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Yt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Yt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Yt(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bn(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ie(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||an(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||bn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Yt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Yt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Yt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Yt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Yt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Yt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Yt(this.primaryColor,{l:-10}),this.pie5=this.pie5||Yt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Yt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Yt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Yt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Yt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Yt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Yt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Yt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?bn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Yt(this.primaryColor,{h:-30}),this.git4=this.git4||Yt(this.primaryColor,{h:-60}),this.git5=this.git5||Yt(this.primaryColor,{h:-90}),this.git6=this.git6||Yt(this.primaryColor,{h:60}),this.git7=this.git7||Yt(this.primaryColor,{h:120}),this.darkMode?(this.git0=an(this.git0,25),this.git1=an(this.git1,25),this.git2=an(this.git2,25),this.git3=an(this.git3,25),this.git4=an(this.git4,25),this.git5=an(this.git5,25),this.git6=an(this.git6,25),this.git7=an(this.git7,25)):(this.git0=bn(this.git0,25),this.git1=bn(this.git1,25),this.git2=bn(this.git2,25),this.git3=bn(this.git3,25),this.git4=bn(this.git4,25),this.git5=bn(this.git5,25),this.git6=bn(this.git6,25),this.git7=bn(this.git7,25)),this.gitInv0=this.gitInv0||Ie(this.git0),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||t1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const TN=t=>{const e=new wN;return e.calculate(t),e};class EN{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=an(this.primaryColor,16),this.tertiaryColor=Yt(this.primaryColor,{h:-160}),this.primaryBorderColor=Ie(this.background),this.secondaryBorderColor=Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ii(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ie(this.primaryColor),this.secondaryTextColor=Ie(this.secondaryColor),this.tertiaryTextColor=Ie(this.tertiaryColor),this.lineColor=Ie(this.background),this.textColor=Ie(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=an(Ie("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=fh(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=bn("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=fh(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=fh(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=an(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=an(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=an(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Yt(this.primaryColor,{h:64}),this.fillType3=Yt(this.secondaryColor,{h:64}),this.fillType4=Yt(this.primaryColor,{h:-64}),this.fillType5=Yt(this.secondaryColor,{h:-64}),this.fillType6=Yt(this.primaryColor,{h:128}),this.fillType7=Yt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Yt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Yt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Yt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Yt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Yt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Yt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Yt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Yt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Yt(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ie(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||an(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?bn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=an(this.secondaryColor,20),this.git1=an(this.pie2||this.secondaryColor,20),this.git2=an(this.pie3||this.tertiaryColor,20),this.git3=an(this.pie4||Yt(this.primaryColor,{h:-30}),20),this.git4=an(this.pie5||Yt(this.primaryColor,{h:-60}),20),this.git5=an(this.pie6||Yt(this.primaryColor,{h:-90}),10),this.git6=an(this.pie7||Yt(this.primaryColor,{h:60}),10),this.git7=an(this.pie8||Yt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ie(this.git0),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||an(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||an(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const CN=t=>{const e=new EN;return e.calculate(t),e};class SN{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Yt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Yt(this.primaryColor,{h:-160}),this.primaryBorderColor=Ii(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ii(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ie(this.primaryColor),this.secondaryTextColor=Ie(this.secondaryColor),this.tertiaryTextColor=Ie(this.tertiaryColor),this.lineColor=Ie(this.background),this.textColor=Ie(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=fh(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Yt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Yt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Yt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Yt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Yt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Yt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Yt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Yt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Yt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||bn(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||bn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||bn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Yt(this["cScale"+e],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Ie(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ie(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=an(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Yt(this.primaryColor,{h:64}),this.fillType3=Yt(this.secondaryColor,{h:64}),this.fillType4=Yt(this.primaryColor,{h:-64}),this.fillType5=Yt(this.secondaryColor,{h:-64}),this.fillType6=Yt(this.primaryColor,{h:128}),this.fillType7=Yt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Yt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Yt(this.primaryColor,{l:-10}),this.pie5=this.pie5||Yt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Yt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Yt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Yt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Yt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Yt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Yt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Yt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Yt(this.primaryColor,{h:-30}),this.git4=this.git4||Yt(this.primaryColor,{h:-60}),this.git5=this.git5||Yt(this.primaryColor,{h:-90}),this.git6=this.git6||Yt(this.primaryColor,{h:60}),this.git7=this.git7||Yt(this.primaryColor,{h:120}),this.darkMode?(this.git0=an(this.git0,25),this.git1=an(this.git1,25),this.git2=an(this.git2,25),this.git3=an(this.git3,25),this.git4=an(this.git4,25),this.git5=an(this.git5,25),this.git6=an(this.git6,25),this.git7=an(this.git7,25)):(this.git0=bn(this.git0,25),this.git1=bn(this.git1,25),this.git2=bn(this.git2,25),this.git3=bn(this.git3,25),this.git4=bn(this.git4,25),this.git5=bn(this.git5,25),this.git6=bn(this.git6,25),this.git7=bn(this.git7,25)),this.gitInv0=this.gitInv0||bn(Ie(this.git0),25),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ie(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ie(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||t1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const AN=t=>{const e=new SN;return e.calculate(t),e};class LN{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=an("#cde498",10),this.primaryBorderColor=Ii(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ii(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ie(this.primaryColor),this.secondaryTextColor=Ie(this.secondaryColor),this.tertiaryTextColor=Ie(this.primaryColor),this.lineColor=Ie(this.background),this.textColor=Ie(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Yt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Yt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Yt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Yt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Yt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Yt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Yt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Yt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Yt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||bn(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||bn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||bn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Yt(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=bn(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Yt(this.primaryColor,{h:64}),this.fillType3=Yt(this.secondaryColor,{h:64}),this.fillType4=Yt(this.primaryColor,{h:-64}),this.fillType5=Yt(this.secondaryColor,{h:-64}),this.fillType6=Yt(this.primaryColor,{h:128}),this.fillType7=Yt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Yt(this.primaryColor,{l:-30}),this.pie5=this.pie5||Yt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Yt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Yt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Yt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Yt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Yt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Yt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Yt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Yt(this.primaryColor,{h:-30}),this.git4=this.git4||Yt(this.primaryColor,{h:-60}),this.git5=this.git5||Yt(this.primaryColor,{h:-90}),this.git6=this.git6||Yt(this.primaryColor,{h:60}),this.git7=this.git7||Yt(this.primaryColor,{h:120}),this.darkMode?(this.git0=an(this.git0,25),this.git1=an(this.git1,25),this.git2=an(this.git2,25),this.git3=an(this.git3,25),this.git4=an(this.git4,25),this.git5=an(this.git5,25),this.git6=an(this.git6,25),this.git7=an(this.git7,25)):(this.git0=bn(this.git0,25),this.git1=bn(this.git1,25),this.git2=bn(this.git2,25),this.git3=bn(this.git3,25),this.git4=bn(this.git4,25),this.git5=bn(this.git5,25),this.git6=bn(this.git6,25),this.git7=bn(this.git7,25)),this.gitInv0=this.gitInv0||Ie(this.git0),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||t1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const ON=t=>{const e=new LN;return e.calculate(t),e};class MN{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=an(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Yt(this.primaryColor,{h:-160}),this.primaryBorderColor=Ii(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ii(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ie(this.primaryColor),this.secondaryTextColor=Ie(this.secondaryColor),this.tertiaryTextColor=Ie(this.tertiaryColor),this.lineColor=Ie(this.background),this.textColor=Ie(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=an(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ie(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||an(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||bn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=an(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=an(this.contrast,30),this.sectionBkgColor2=an(this.contrast,30),this.taskBorderColor=bn(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=an(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=bn(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Yt(this.primaryColor,{h:64}),this.fillType3=Yt(this.secondaryColor,{h:64}),this.fillType4=Yt(this.primaryColor,{h:-64}),this.fillType5=Yt(this.secondaryColor,{h:-64}),this.fillType6=Yt(this.primaryColor,{h:128}),this.fillType7=Yt(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=bn(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Yt(this.primaryColor,{h:-30}),this.git4=this.pie5||Yt(this.primaryColor,{h:-60}),this.git5=this.pie6||Yt(this.primaryColor,{h:-90}),this.git6=this.pie7||Yt(this.primaryColor,{h:60}),this.git7=this.pie8||Yt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ie(this.git0),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||t1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const Ha={base:{getThemeVariables:TN},dark:{getThemeVariables:CN},default:{getThemeVariables:AN},forest:{getThemeVariables:ON},neutral:{getThemeVariables:t=>{const e=new MN;return e.calculate(t),e}}},Mo={theme:"default",themeVariables:Ha.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};Mo.class&&(Mo.class.arrowMarkerAbsolute=Mo.arrowMarkerAbsolute),Mo.gitGraph&&(Mo.gitGraph.arrowMarkerAbsolute=Mo.arrowMarkerAbsolute);const H4=(t,e="")=>Object.keys(t).reduce((n,i)=>Array.isArray(t[i])?n:typeof t[i]=="object"&&t[i]!==null?[...n,e+i,...H4(t[i],"")]:[...n,e+i],[]),NN=H4(Mo,""),DN=Mo;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function W4(t){return typeof t=="undefined"||t===null}function IN(t){return typeof t=="object"&&t!==null}function RN(t){return Array.isArray(t)?t:W4(t)?[]:[t]}function BN(t,e){var n,i,s,o;if(e)for(o=Object.keys(e),n=0,i=o.length;n<i;n+=1)s=o[n],t[s]=e[s];return t}function FN(t,e){var n="",i;for(i=0;i<e;i+=1)n+=t;return n}function PN(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var VN=W4,$N=IN,YN=RN,UN=FN,zN=PN,HN=BN,Ri={isNothing:VN,isObject:$N,toArray:YN,repeat:UN,isNegativeZero:zN,extend:HN};function j4(t,e){var n="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),i+" "+n):i}function ph(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=j4(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ph.prototype=Object.create(Error.prototype),ph.prototype.constructor=ph,ph.prototype.toString=function(e){return this.name+": "+j4(this,e)};var Wa=ph;function Hg(t,e,n,i,s){var o="",l="",h=Math.floor(s/2)-1;return i-e>h&&(o=" ... ",e=i-h+o.length),n-i>h&&(l=" ...",n=i+h-l.length),{str:o+t.slice(e,n).replace(/\t/g,"\u2192")+l,pos:i-e+o.length}}function Wg(t,e){return Ri.repeat(" ",e-t.length)+t}function WN(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],s=[],o,l=-1;o=n.exec(t.buffer);)s.push(o.index),i.push(o.index+o[0].length),t.position<=o.index&&l<0&&(l=i.length-2);l<0&&(l=i.length-1);var h="",f,g,y=Math.min(t.line+e.linesAfter,s.length).toString().length,b=e.maxLength-(e.indent+y+3);for(f=1;f<=e.linesBefore&&!(l-f<0);f++)g=Hg(t.buffer,i[l-f],s[l-f],t.position-(i[l]-i[l-f]),b),h=Ri.repeat(" ",e.indent)+Wg((t.line-f+1).toString(),y)+" | "+g.str+`
`+h;for(g=Hg(t.buffer,i[l],s[l],t.position,b),h+=Ri.repeat(" ",e.indent)+Wg((t.line+1).toString(),y)+" | "+g.str+`
`,h+=Ri.repeat("-",e.indent+y+3+g.pos)+`^
`,f=1;f<=e.linesAfter&&!(l+f>=s.length);f++)g=Hg(t.buffer,i[l+f],s[l+f],t.position-(i[l]-i[l+f]),b),h+=Ri.repeat(" ",e.indent)+Wg((t.line+f+1).toString(),y)+" | "+g.str+`
`;return h.replace(/\n$/,"")}var jN=WN,qN=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],GN=["scalar","sequence","mapping"];function XN(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(i){e[String(i)]=n})}),e}function KN(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(qN.indexOf(n)===-1)throw new Wa('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=XN(e.styleAliases||null),GN.indexOf(this.kind)===-1)throw new Wa('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var wi=KN;function q4(t,e){var n=[];return t[e].forEach(function(i){var s=n.length;n.forEach(function(o,l){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(s=l)}),n[s]=i}),n}function ZN(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function i(s){s.multi?(t.multi[s.kind].push(s),t.multi.fallback.push(s)):t[s.kind][s.tag]=t.fallback[s.tag]=s}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(i);return t}function jg(t){return this.extend(t)}jg.prototype.extend=function(e){var n=[],i=[];if(e instanceof wi)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new Wa("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof wi))throw new Wa("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Wa("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Wa("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof wi))throw new Wa("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(jg.prototype);return s.implicit=(this.implicit||[]).concat(n),s.explicit=(this.explicit||[]).concat(i),s.compiledImplicit=q4(s,"implicit"),s.compiledExplicit=q4(s,"explicit"),s.compiledTypeMap=ZN(s.compiledImplicit,s.compiledExplicit),s};var QN=jg,JN=new wi("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),tD=new wi("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),eD=new wi("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),G4=new QN({explicit:[JN,tD,eD]});function nD(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function rD(){return null}function iD(t){return t===null}var sD=new wi("tag:yaml.org,2002:null",{kind:"scalar",resolve:nD,construct:rD,predicate:iD,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function aD(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function oD(t){return t==="true"||t==="True"||t==="TRUE"}function lD(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var cD=new wi("tag:yaml.org,2002:bool",{kind:"scalar",resolve:aD,construct:oD,predicate:lD,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function uD(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function hD(t){return 48<=t&&t<=55}function dD(t){return 48<=t&&t<=57}function fD(t){if(t===null)return!1;var e=t.length,n=0,i=!1,s;if(!e)return!1;if(s=t[n],(s==="-"||s==="+")&&(s=t[++n]),s==="0"){if(n+1===e)return!0;if(s=t[++n],s==="b"){for(n++;n<e;n++)if(s=t[n],s!=="_"){if(s!=="0"&&s!=="1")return!1;i=!0}return i&&s!=="_"}if(s==="x"){for(n++;n<e;n++)if(s=t[n],s!=="_"){if(!uD(t.charCodeAt(n)))return!1;i=!0}return i&&s!=="_"}if(s==="o"){for(n++;n<e;n++)if(s=t[n],s!=="_"){if(!hD(t.charCodeAt(n)))return!1;i=!0}return i&&s!=="_"}}if(s==="_")return!1;for(;n<e;n++)if(s=t[n],s!=="_"){if(!dD(t.charCodeAt(n)))return!1;i=!0}return!(!i||s==="_")}function pD(t){var e=t,n=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function gD(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Ri.isNegativeZero(t)}var mD=new wi("tag:yaml.org,2002:int",{kind:"scalar",resolve:fD,construct:pD,predicate:gD,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),yD=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function _D(t){return!(t===null||!yD.test(t)||t[t.length-1]==="_")}function bD(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var vD=/^[-+]?[0-9]+e/;function xD(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ri.isNegativeZero(t))return"-0.0";return n=t.toString(10),vD.test(n)?n.replace("e",".e"):n}function kD(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Ri.isNegativeZero(t))}var wD=new wi("tag:yaml.org,2002:float",{kind:"scalar",resolve:_D,construct:bD,predicate:kD,represent:xD,defaultStyle:"lowercase"}),TD=G4.extend({implicit:[sD,cD,mD,wD]}),ED=TD,X4=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),K4=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function CD(t){return t===null?!1:X4.exec(t)!==null||K4.exec(t)!==null}function SD(t){var e,n,i,s,o,l,h,f=0,g=null,y,b,x;if(e=X4.exec(t),e===null&&(e=K4.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(n,i,s));if(o=+e[4],l=+e[5],h=+e[6],e[7]){for(f=e[7].slice(0,3);f.length<3;)f+="0";f=+f}return e[9]&&(y=+e[10],b=+(e[11]||0),g=(y*60+b)*6e4,e[9]==="-"&&(g=-g)),x=new Date(Date.UTC(n,i,s,o,l,h,f)),g&&x.setTime(x.getTime()-g),x}function AD(t){return t.toISOString()}var LD=new wi("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:CD,construct:SD,instanceOf:Date,represent:AD});function OD(t){return t==="<<"||t===null}var MD=new wi("tag:yaml.org,2002:merge",{kind:"scalar",resolve:OD}),qg=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ND(t){if(t===null)return!1;var e,n,i=0,s=t.length,o=qg;for(n=0;n<s;n++)if(e=o.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function DD(t){var e,n,i=t.replace(/[\r\n=]/g,""),s=i.length,o=qg,l=0,h=[];for(e=0;e<s;e++)e%4===0&&e&&(h.push(l>>16&255),h.push(l>>8&255),h.push(l&255)),l=l<<6|o.indexOf(i.charAt(e));return n=s%4*6,n===0?(h.push(l>>16&255),h.push(l>>8&255),h.push(l&255)):n===18?(h.push(l>>10&255),h.push(l>>2&255)):n===12&&h.push(l>>4&255),new Uint8Array(h)}function ID(t){var e="",n=0,i,s,o=t.length,l=qg;for(i=0;i<o;i++)i%3===0&&i&&(e+=l[n>>18&63],e+=l[n>>12&63],e+=l[n>>6&63],e+=l[n&63]),n=(n<<8)+t[i];return s=o%3,s===0?(e+=l[n>>18&63],e+=l[n>>12&63],e+=l[n>>6&63],e+=l[n&63]):s===2?(e+=l[n>>10&63],e+=l[n>>4&63],e+=l[n<<2&63],e+=l[64]):s===1&&(e+=l[n>>2&63],e+=l[n<<4&63],e+=l[64],e+=l[64]),e}function RD(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var BD=new wi("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ND,construct:DD,predicate:RD,represent:ID}),FD=Object.prototype.hasOwnProperty,PD=Object.prototype.toString;function VD(t){if(t===null)return!0;var e=[],n,i,s,o,l,h=t;for(n=0,i=h.length;n<i;n+=1){if(s=h[n],l=!1,PD.call(s)!=="[object Object]")return!1;for(o in s)if(FD.call(s,o))if(!l)l=!0;else return!1;if(!l)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function $D(t){return t!==null?t:[]}var YD=new wi("tag:yaml.org,2002:omap",{kind:"sequence",resolve:VD,construct:$D}),UD=Object.prototype.toString;function zD(t){if(t===null)return!0;var e,n,i,s,o,l=t;for(o=new Array(l.length),e=0,n=l.length;e<n;e+=1){if(i=l[e],UD.call(i)!=="[object Object]"||(s=Object.keys(i),s.length!==1))return!1;o[e]=[s[0],i[s[0]]]}return!0}function HD(t){if(t===null)return[];var e,n,i,s,o,l=t;for(o=new Array(l.length),e=0,n=l.length;e<n;e+=1)i=l[e],s=Object.keys(i),o[e]=[s[0],i[s[0]]];return o}var WD=new wi("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:zD,construct:HD}),jD=Object.prototype.hasOwnProperty;function qD(t){if(t===null)return!0;var e,n=t;for(e in n)if(jD.call(n,e)&&n[e]!==null)return!1;return!0}function GD(t){return t!==null?t:{}}var XD=new wi("tag:yaml.org,2002:set",{kind:"mapping",resolve:qD,construct:GD}),KD=ED.extend({implicit:[LD,MD],explicit:[BD,YD,WD,XD]}),No=Object.prototype.hasOwnProperty,e1=1,Z4=2,Q4=3,n1=4,Gg=1,ZD=2,J4=3,QD=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,JD=/[\x85\u2028\u2029]/,tI=/[,\[\]\{\}]/,t3=/^(?:!|!!|![a-z\-]+!)$/i,e3=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function n3(t){return Object.prototype.toString.call(t)}function ga(t){return t===10||t===13}function xl(t){return t===9||t===32}function Wi(t){return t===9||t===32||t===10||t===13}function Bc(t){return t===44||t===91||t===93||t===123||t===125}function eI(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function nI(t){return t===120?2:t===117?4:t===85?8:0}function rI(t){return 48<=t&&t<=57?t-48:-1}function r3(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function iI(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}for(var i3=new Array(256),s3=new Array(256),Fc=0;Fc<256;Fc++)i3[Fc]=r3(Fc)?1:0,s3[Fc]=r3(Fc);function sI(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||KD,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function a3(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=jN(n),new Wa(e,n)}function Ke(t,e){throw a3(t,e)}function r1(t,e){t.onWarning&&t.onWarning.call(null,a3(t,e))}var o3={YAML:function(e,n,i){var s,o,l;e.version!==null&&Ke(e,"duplication of %YAML directive"),i.length!==1&&Ke(e,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),s===null&&Ke(e,"ill-formed argument of the YAML directive"),o=parseInt(s[1],10),l=parseInt(s[2],10),o!==1&&Ke(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=l<2,l!==1&&l!==2&&r1(e,"unsupported YAML version of the document")},TAG:function(e,n,i){var s,o;i.length!==2&&Ke(e,"TAG directive accepts exactly two arguments"),s=i[0],o=i[1],t3.test(s)||Ke(e,"ill-formed tag handle (first argument) of the TAG directive"),No.call(e.tagMap,s)&&Ke(e,'there is a previously declared suffix for "'+s+'" tag handle'),e3.test(o)||Ke(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Ke(e,"tag prefix is malformed: "+o)}e.tagMap[s]=o}};function Do(t,e,n,i){var s,o,l,h;if(e<n){if(h=t.input.slice(e,n),i)for(s=0,o=h.length;s<o;s+=1)l=h.charCodeAt(s),l===9||32<=l&&l<=1114111||Ke(t,"expected valid JSON character");else QD.test(h)&&Ke(t,"the stream contains non-printable characters");t.result+=h}}function l3(t,e,n,i){var s,o,l,h;for(Ri.isObject(n)||Ke(t,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(n),l=0,h=s.length;l<h;l+=1)o=s[l],No.call(e,o)||(e[o]=n[o],i[o]=!0)}function Pc(t,e,n,i,s,o,l,h,f){var g,y;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),g=0,y=s.length;g<y;g+=1)Array.isArray(s[g])&&Ke(t,"nested arrays are not supported inside keys"),typeof s=="object"&&n3(s[g])==="[object Object]"&&(s[g]="[object Object]");if(typeof s=="object"&&n3(s)==="[object Object]"&&(s="[object Object]"),s=String(s),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(g=0,y=o.length;g<y;g+=1)l3(t,e,o[g],n);else l3(t,e,o,n);else!t.json&&!No.call(n,s)&&No.call(e,s)&&(t.line=l||t.line,t.lineStart=h||t.lineStart,t.position=f||t.position,Ke(t,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(e,s,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[s]=o,delete n[s];return e}function Xg(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Ke(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Yr(t,e,n){for(var i=0,s=t.input.charCodeAt(t.position);s!==0;){for(;xl(s);)s===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),s=t.input.charCodeAt(++t.position);if(e&&s===35)do s=t.input.charCodeAt(++t.position);while(s!==10&&s!==13&&s!==0);if(ga(s))for(Xg(t),s=t.input.charCodeAt(t.position),i++,t.lineIndent=0;s===32;)t.lineIndent++,s=t.input.charCodeAt(++t.position);else break}return n!==-1&&i!==0&&t.lineIndent<n&&r1(t,"deficient indentation"),i}function i1(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Wi(n)))}function Kg(t,e){e===1?t.result+=" ":e>1&&(t.result+=Ri.repeat(`
`,e-1))}function aI(t,e,n){var i,s,o,l,h,f,g,y,b=t.kind,x=t.result,k;if(k=t.input.charCodeAt(t.position),Wi(k)||Bc(k)||k===35||k===38||k===42||k===33||k===124||k===62||k===39||k===34||k===37||k===64||k===96||(k===63||k===45)&&(s=t.input.charCodeAt(t.position+1),Wi(s)||n&&Bc(s)))return!1;for(t.kind="scalar",t.result="",o=l=t.position,h=!1;k!==0;){if(k===58){if(s=t.input.charCodeAt(t.position+1),Wi(s)||n&&Bc(s))break}else if(k===35){if(i=t.input.charCodeAt(t.position-1),Wi(i))break}else{if(t.position===t.lineStart&&i1(t)||n&&Bc(k))break;if(ga(k))if(f=t.line,g=t.lineStart,y=t.lineIndent,Yr(t,!1,-1),t.lineIndent>=e){h=!0,k=t.input.charCodeAt(t.position);continue}else{t.position=l,t.line=f,t.lineStart=g,t.lineIndent=y;break}}h&&(Do(t,o,l,!1),Kg(t,t.line-f),o=l=t.position,h=!1),xl(k)||(l=t.position+1),k=t.input.charCodeAt(++t.position)}return Do(t,o,l,!1),t.result?!0:(t.kind=b,t.result=x,!1)}function oI(t,e){var n,i,s;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=s=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Do(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)i=t.position,t.position++,s=t.position;else return!0;else ga(n)?(Do(t,i,s,!0),Kg(t,Yr(t,!1,e)),i=s=t.position):t.position===t.lineStart&&i1(t)?Ke(t,"unexpected end of the document within a single quoted scalar"):(t.position++,s=t.position);Ke(t,"unexpected end of the stream within a single quoted scalar")}function lI(t,e){var n,i,s,o,l,h;if(h=t.input.charCodeAt(t.position),h!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(h=t.input.charCodeAt(t.position))!==0;){if(h===34)return Do(t,n,t.position,!0),t.position++,!0;if(h===92){if(Do(t,n,t.position,!0),h=t.input.charCodeAt(++t.position),ga(h))Yr(t,!1,e);else if(h<256&&i3[h])t.result+=s3[h],t.position++;else if((l=nI(h))>0){for(s=l,o=0;s>0;s--)h=t.input.charCodeAt(++t.position),(l=eI(h))>=0?o=(o<<4)+l:Ke(t,"expected hexadecimal character");t.result+=iI(o),t.position++}else Ke(t,"unknown escape sequence");n=i=t.position}else ga(h)?(Do(t,n,i,!0),Kg(t,Yr(t,!1,e)),n=i=t.position):t.position===t.lineStart&&i1(t)?Ke(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}Ke(t,"unexpected end of the stream within a double quoted scalar")}function cI(t,e){var n=!0,i,s,o,l=t.tag,h,f=t.anchor,g,y,b,x,k,O=Object.create(null),I,R,Y,V;if(V=t.input.charCodeAt(t.position),V===91)y=93,k=!1,h=[];else if(V===123)y=125,k=!0,h={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=h),V=t.input.charCodeAt(++t.position);V!==0;){if(Yr(t,!0,e),V=t.input.charCodeAt(t.position),V===y)return t.position++,t.tag=l,t.anchor=f,t.kind=k?"mapping":"sequence",t.result=h,!0;n?V===44&&Ke(t,"expected the node content, but found ','"):Ke(t,"missed comma between flow collection entries"),R=I=Y=null,b=x=!1,V===63&&(g=t.input.charCodeAt(t.position+1),Wi(g)&&(b=x=!0,t.position++,Yr(t,!0,e))),i=t.line,s=t.lineStart,o=t.position,Vc(t,e,e1,!1,!0),R=t.tag,I=t.result,Yr(t,!0,e),V=t.input.charCodeAt(t.position),(x||t.line===i)&&V===58&&(b=!0,V=t.input.charCodeAt(++t.position),Yr(t,!0,e),Vc(t,e,e1,!1,!0),Y=t.result),k?Pc(t,h,O,R,I,Y,i,s,o):b?h.push(Pc(t,null,O,R,I,Y,i,s,o)):h.push(I),Yr(t,!0,e),V=t.input.charCodeAt(t.position),V===44?(n=!0,V=t.input.charCodeAt(++t.position)):n=!1}Ke(t,"unexpected end of the stream within a flow collection")}function uI(t,e){var n,i,s=Gg,o=!1,l=!1,h=e,f=0,g=!1,y,b;if(b=t.input.charCodeAt(t.position),b===124)i=!1;else if(b===62)i=!0;else return!1;for(t.kind="scalar",t.result="";b!==0;)if(b=t.input.charCodeAt(++t.position),b===43||b===45)Gg===s?s=b===43?J4:ZD:Ke(t,"repeat of a chomping mode identifier");else if((y=rI(b))>=0)y===0?Ke(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Ke(t,"repeat of an indentation width identifier"):(h=e+y-1,l=!0);else break;if(xl(b)){do b=t.input.charCodeAt(++t.position);while(xl(b));if(b===35)do b=t.input.charCodeAt(++t.position);while(!ga(b)&&b!==0)}for(;b!==0;){for(Xg(t),t.lineIndent=0,b=t.input.charCodeAt(t.position);(!l||t.lineIndent<h)&&b===32;)t.lineIndent++,b=t.input.charCodeAt(++t.position);if(!l&&t.lineIndent>h&&(h=t.lineIndent),ga(b)){f++;continue}if(t.lineIndent<h){s===J4?t.result+=Ri.repeat(`
`,o?1+f:f):s===Gg&&o&&(t.result+=`
`);break}for(i?xl(b)?(g=!0,t.result+=Ri.repeat(`
`,o?1+f:f)):g?(g=!1,t.result+=Ri.repeat(`
`,f+1)):f===0?o&&(t.result+=" "):t.result+=Ri.repeat(`
`,f):t.result+=Ri.repeat(`
`,o?1+f:f),o=!0,l=!0,f=0,n=t.position;!ga(b)&&b!==0;)b=t.input.charCodeAt(++t.position);Do(t,n,t.position,!1)}return!0}function c3(t,e){var n,i=t.tag,s=t.anchor,o=[],l,h=!1,f;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),f=t.input.charCodeAt(t.position);f!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ke(t,"tab characters must not be used in indentation")),!(f!==45||(l=t.input.charCodeAt(t.position+1),!Wi(l))));){if(h=!0,t.position++,Yr(t,!0,-1)&&t.lineIndent<=e){o.push(null),f=t.input.charCodeAt(t.position);continue}if(n=t.line,Vc(t,e,Q4,!1,!0),o.push(t.result),Yr(t,!0,-1),f=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&f!==0)Ke(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return h?(t.tag=i,t.anchor=s,t.kind="sequence",t.result=o,!0):!1}function hI(t,e,n){var i,s,o,l,h,f,g=t.tag,y=t.anchor,b={},x=Object.create(null),k=null,O=null,I=null,R=!1,Y=!1,V;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=b),V=t.input.charCodeAt(t.position);V!==0;){if(!R&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ke(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),o=t.line,(V===63||V===58)&&Wi(i))V===63?(R&&(Pc(t,b,x,k,O,null,l,h,f),k=O=I=null),Y=!0,R=!0,s=!0):R?(R=!1,s=!0):Ke(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,V=i;else{if(l=t.line,h=t.lineStart,f=t.position,!Vc(t,n,Z4,!1,!0))break;if(t.line===o){for(V=t.input.charCodeAt(t.position);xl(V);)V=t.input.charCodeAt(++t.position);if(V===58)V=t.input.charCodeAt(++t.position),Wi(V)||Ke(t,"a whitespace character is expected after the key-value separator within a block mapping"),R&&(Pc(t,b,x,k,O,null,l,h,f),k=O=I=null),Y=!0,R=!1,s=!1,k=t.tag,O=t.result;else if(Y)Ke(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=g,t.anchor=y,!0}else if(Y)Ke(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=g,t.anchor=y,!0}if((t.line===o||t.lineIndent>e)&&(R&&(l=t.line,h=t.lineStart,f=t.position),Vc(t,e,n1,!0,s)&&(R?O=t.result:I=t.result),R||(Pc(t,b,x,k,O,I,l,h,f),k=O=I=null),Yr(t,!0,-1),V=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&V!==0)Ke(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return R&&Pc(t,b,x,k,O,null,l,h,f),Y&&(t.tag=g,t.anchor=y,t.kind="mapping",t.result=b),Y}function dI(t){var e,n=!1,i=!1,s,o,l;if(l=t.input.charCodeAt(t.position),l!==33)return!1;if(t.tag!==null&&Ke(t,"duplication of a tag property"),l=t.input.charCodeAt(++t.position),l===60?(n=!0,l=t.input.charCodeAt(++t.position)):l===33?(i=!0,s="!!",l=t.input.charCodeAt(++t.position)):s="!",e=t.position,n){do l=t.input.charCodeAt(++t.position);while(l!==0&&l!==62);t.position<t.length?(o=t.input.slice(e,t.position),l=t.input.charCodeAt(++t.position)):Ke(t,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!Wi(l);)l===33&&(i?Ke(t,"tag suffix cannot contain exclamation marks"):(s=t.input.slice(e-1,t.position+1),t3.test(s)||Ke(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),l=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),tI.test(o)&&Ke(t,"tag suffix cannot contain flow indicator characters")}o&&!e3.test(o)&&Ke(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Ke(t,"tag name is malformed: "+o)}return n?t.tag=o:No.call(t.tagMap,s)?t.tag=t.tagMap[s]+o:s==="!"?t.tag="!"+o:s==="!!"?t.tag="tag:yaml.org,2002:"+o:Ke(t,'undeclared tag handle "'+s+'"'),!0}function fI(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Ke(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Wi(n)&&!Bc(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Ke(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function pI(t){var e,n,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!Wi(i)&&!Bc(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&Ke(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),No.call(t.anchorMap,n)||Ke(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Yr(t,!0,-1),!0}function Vc(t,e,n,i,s){var o,l,h,f=1,g=!1,y=!1,b,x,k,O,I,R;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=l=h=n1===n||Q4===n,i&&Yr(t,!0,-1)&&(g=!0,t.lineIndent>e?f=1:t.lineIndent===e?f=0:t.lineIndent<e&&(f=-1)),f===1)for(;dI(t)||fI(t);)Yr(t,!0,-1)?(g=!0,h=o,t.lineIndent>e?f=1:t.lineIndent===e?f=0:t.lineIndent<e&&(f=-1)):h=!1;if(h&&(h=g||s),(f===1||n1===n)&&(e1===n||Z4===n?I=e:I=e+1,R=t.position-t.lineStart,f===1?h&&(c3(t,R)||hI(t,R,I))||cI(t,I)?y=!0:(l&&uI(t,I)||oI(t,I)||lI(t,I)?y=!0:pI(t)?(y=!0,(t.tag!==null||t.anchor!==null)&&Ke(t,"alias node should not have any properties")):aI(t,I,e1===n)&&(y=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):f===0&&(y=h&&c3(t,R))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Ke(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),b=0,x=t.implicitTypes.length;b<x;b+=1)if(O=t.implicitTypes[b],O.resolve(t.result)){t.result=O.construct(t.result),t.tag=O.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(No.call(t.typeMap[t.kind||"fallback"],t.tag))O=t.typeMap[t.kind||"fallback"][t.tag];else for(O=null,k=t.typeMap.multi[t.kind||"fallback"],b=0,x=k.length;b<x;b+=1)if(t.tag.slice(0,k[b].tag.length)===k[b].tag){O=k[b];break}O||Ke(t,"unknown tag !<"+t.tag+">"),t.result!==null&&O.kind!==t.kind&&Ke(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+O.kind+'", not "'+t.kind+'"'),O.resolve(t.result,t.tag)?(t.result=O.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Ke(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||y}function gI(t){var e=t.position,n,i,s,o=!1,l;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(l=t.input.charCodeAt(t.position))!==0&&(Yr(t,!0,-1),l=t.input.charCodeAt(t.position),!(t.lineIndent>0||l!==37));){for(o=!0,l=t.input.charCodeAt(++t.position),n=t.position;l!==0&&!Wi(l);)l=t.input.charCodeAt(++t.position);for(i=t.input.slice(n,t.position),s=[],i.length<1&&Ke(t,"directive name must not be less than one character in length");l!==0;){for(;xl(l);)l=t.input.charCodeAt(++t.position);if(l===35){do l=t.input.charCodeAt(++t.position);while(l!==0&&!ga(l));break}if(ga(l))break;for(n=t.position;l!==0&&!Wi(l);)l=t.input.charCodeAt(++t.position);s.push(t.input.slice(n,t.position))}l!==0&&Xg(t),No.call(o3,i)?o3[i](t,i,s):r1(t,'unknown document directive "'+i+'"')}if(Yr(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Yr(t,!0,-1)):o&&Ke(t,"directives end mark is expected"),Vc(t,t.lineIndent-1,n1,!1,!0),Yr(t,!0,-1),t.checkLineBreaks&&JD.test(t.input.slice(e,t.position))&&r1(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&i1(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Yr(t,!0,-1));return}if(t.position<t.length-1)Ke(t,"end of the stream or a document separator is expected");else return}function u3(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new sI(t,e),i=t.indexOf("\0");for(i!==-1&&(n.position=i,Ke(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)gI(n);return n.documents}function mI(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var i=u3(t,n);if(typeof e!="function")return i;for(var s=0,o=i.length;s<o;s+=1)e(i[s])}function yI(t,e){var n=u3(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Wa("expected a single document in the stream, but found more")}}var _I=mI,bI=yI,vI={loadAll:_I,load:bI},xI=G4,kI=vI.load;const h3=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function wI(t,e){var n;const i=t.match(h3);if(i){const s=kI(i[1],{schema:xI});return s!=null&&s.title&&((n=e.setDiagramTitle)==null||n.call(e,s.title)),t.slice(i[0].length)}else return t}const TI=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,EI=/\s*%%.*\n/gm,s1={},Zg=function(t,e){t=t.replace(h3,"").replace(TI,"").replace(EI,`
`);for(const[n,{detector:i}]of Object.entries(s1))if(i(t,e))return n;throw new Error(`No diagram type detected for text: ${t}`)},d3=(t,e,n)=>{if(s1[t])throw new Error(`Detector with key ${t} already exists`);s1[t]={detector:e,loader:n},E.debug(`Detector with key ${t} added${n?" with loader":""}`)},CI=t=>s1[t].loader,Qg=function(t,e,n){const{depth:i,clobber:s}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(o=>Qg(t,o,n)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(o=>{t.includes(o)||t.push(o)}),t):t===void 0||i<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(o=>{typeof e[o]=="object"&&(t[o]===void 0||typeof t[o]=="object")?(t[o]===void 0&&(t[o]=Array.isArray(e[o])?[]:{}),t[o]=Qg(t[o],e[o],{depth:i-1,clobber:s})):(s||typeof t[o]!="object"&&typeof e[o]!="object")&&(t[o]=e[o])}),t)},li=Qg;var SI=typeof Kl=="object"&&Kl&&Kl.Object===Object&&Kl;const f3=SI;var AI=typeof self=="object"&&self&&self.Object===Object&&self,LI=f3||AI||Function("return this")();const Is=LI;var OI=Is.Symbol;const _s=OI;var p3=Object.prototype,MI=p3.hasOwnProperty,NI=p3.toString,gh=_s?_s.toStringTag:void 0;function DI(t){var e=MI.call(t,gh),n=t[gh];try{t[gh]=void 0;var i=!0}catch{}var s=NI.call(t);return i&&(e?t[gh]=n:delete t[gh]),s}var II=Object.prototype,RI=II.toString;function BI(t){return RI.call(t)}var FI="[object Null]",PI="[object Undefined]",g3=_s?_s.toStringTag:void 0;function kl(t){return t==null?t===void 0?PI:FI:g3&&g3 in Object(t)?DI(t):BI(t)}function ts(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var VI="[object AsyncFunction]",$I="[object Function]",YI="[object GeneratorFunction]",UI="[object Proxy]";function $c(t){if(!ts(t))return!1;var e=kl(t);return e==$I||e==YI||e==VI||e==UI}var zI=Is["__core-js_shared__"];const Jg=zI;var m3=function(){var t=/[^.]+$/.exec(Jg&&Jg.keys&&Jg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function HI(t){return!!m3&&m3 in t}var WI=Function.prototype,jI=WI.toString;function wl(t){if(t!=null){try{return jI.call(t)}catch{}try{return t+""}catch{}}return""}var qI=/[\\^$.*+?()[\]{}|]/g,GI=/^\[object .+?Constructor\]$/,XI=Function.prototype,KI=Object.prototype,ZI=XI.toString,QI=KI.hasOwnProperty,JI=RegExp("^"+ZI.call(QI).replace(qI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tR(t){if(!ts(t)||HI(t))return!1;var e=$c(t)?JI:GI;return e.test(wl(t))}function eR(t,e){return t==null?void 0:t[e]}function Tl(t,e){var n=eR(t,e);return tR(n)?n:void 0}var nR=Tl(Object,"create");const mh=nR;function rR(){this.__data__=mh?mh(null):{},this.size=0}function iR(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sR="__lodash_hash_undefined__",aR=Object.prototype,oR=aR.hasOwnProperty;function lR(t){var e=this.__data__;if(mh){var n=e[t];return n===sR?void 0:n}return oR.call(e,t)?e[t]:void 0}var cR=Object.prototype,uR=cR.hasOwnProperty;function hR(t){var e=this.__data__;return mh?e[t]!==void 0:uR.call(e,t)}var dR="__lodash_hash_undefined__";function fR(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mh&&e===void 0?dR:e,this}function El(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}El.prototype.clear=rR,El.prototype.delete=iR,El.prototype.get=lR,El.prototype.has=hR,El.prototype.set=fR;function pR(){this.__data__=[],this.size=0}function Yc(t,e){return t===e||t!==t&&e!==e}function a1(t,e){for(var n=t.length;n--;)if(Yc(t[n][0],e))return n;return-1}var gR=Array.prototype,mR=gR.splice;function yR(t){var e=this.__data__,n=a1(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():mR.call(e,n,1),--this.size,!0}function _R(t){var e=this.__data__,n=a1(e,t);return n<0?void 0:e[n][1]}function bR(t){return a1(this.__data__,t)>-1}function vR(t,e){var n=this.__data__,i=a1(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function ja(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ja.prototype.clear=pR,ja.prototype.delete=yR,ja.prototype.get=_R,ja.prototype.has=bR,ja.prototype.set=vR;var xR=Tl(Is,"Map");const yh=xR;function kR(){this.size=0,this.__data__={hash:new El,map:new(yh||ja),string:new El}}function wR(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function o1(t,e){var n=t.__data__;return wR(e)?n[typeof e=="string"?"string":"hash"]:n.map}function TR(t){var e=o1(this,t).delete(t);return this.size-=e?1:0,e}function ER(t){return o1(this,t).get(t)}function CR(t){return o1(this,t).has(t)}function SR(t,e){var n=o1(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function qa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}qa.prototype.clear=kR,qa.prototype.delete=TR,qa.prototype.get=ER,qa.prototype.has=CR,qa.prototype.set=SR;var AR="Expected a function";function Uc(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(AR);var n=function(){var i=arguments,s=e?e.apply(this,i):i[0],o=n.cache;if(o.has(s))return o.get(s);var l=t.apply(this,i);return n.cache=o.set(s,l)||o,l};return n.cache=new(Uc.Cache||qa),n}Uc.Cache=qa;const LR={curveBasis:Ic,curveBasisClosed:LM,curveBasisOpen:OM,curveLinear:Ji,curveLinearClosed:MM,curveMonotoneX:NM,curveMonotoneY:DM,curveNatural:IM,curveStep:RM,curveStepAfter:FM,curveStepBefore:BM},tm=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,OR=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,MR=function(t,e){const n=y3(t,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const s=n.map(o=>o.args);Cl(s),i=li(i,[...s])}else i=n.args;if(i){let s=Zg(t,e);["config"].forEach(o=>{i[o]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),i[s]=i[o],delete i[o])})}return i},y3=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${OR.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),E.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let i;const s=[];for(;(i=tm.exec(t))!==null;)if(i.index===tm.lastIndex&&tm.lastIndex++,i&&!e||e&&i[1]&&i[1].match(e)||e&&i[2]&&i[2].match(e)){const o=i[1]?i[1]:i[2],l=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;s.push({type:o,args:l})}return s.length===0&&s.push({type:t,args:null}),s.length===1?s[0]:s}catch(n){return E.error(`ERROR: ${n.message} - Unable to parse directive
      ${e!==null?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},NR=function(t,e){for(const[n,i]of e.entries())if(i.match(t))return n;return-1};function Rs(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return LR[n]||e}function DR(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?ot(n):n}const IR=(t,...e)=>{const n=t.split("."),i=n.length-1,s=n[i];let o=window;for(let l=0;l<i;l++)if(o=o[n[l]],!o)return;o[s](...e)};function l1(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function RR(t){let e,n=0;t.forEach(o=>{n+=l1(o,e),e=o});let i=n/2,s;return e=void 0,t.forEach(o=>{if(e&&!s){const l=l1(o,e);if(l<i)i-=l;else{const h=i/l;h<=0&&(s=e),h>=1&&(s={x:o.x,y:o.y}),h>0&&h<1&&(s={x:(1-h)*e.x+h*o.x,y:(1-h)*e.y+h*o.y})}}e=o}),s}function BR(t){return t.length===1?t[0]:RR(t)}const FR=(t,e,n)=>{let i;E.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());let o=25,l;i=void 0,e.forEach(y=>{if(i&&!l){const b=l1(y,i);if(b<o)o-=b;else{const x=o/b;x<=0&&(l=i),x>=1&&(l={x:y.x,y:y.y}),x>0&&x<1&&(l={x:(1-x)*i.x+x*y.x,y:(1-x)*i.y+x*y.y})}}i=y});const h=t?10:5,f=Math.atan2(e[0].y-l.y,e[0].x-l.x),g={x:0,y:0};return g.x=Math.sin(f)*h+(e[0].x+l.x)/2,g.y=-Math.cos(f)*h+(e[0].y+l.y)/2,g};function PR(t,e,n){let i=JSON.parse(JSON.stringify(n)),s;E.info("our points",i),e!=="start_left"&&e!=="start_right"&&(i=i.reverse()),i.forEach(b=>{s=b});let l=25+t,h;s=void 0,i.forEach(b=>{if(s&&!h){const x=l1(b,s);if(x<l)l-=x;else{const k=l/x;k<=0&&(h=s),k>=1&&(h={x:b.x,y:b.y}),k>0&&k<1&&(h={x:(1-k)*s.x+k*b.x,y:(1-k)*s.y+k*b.y})}}s=b});const f=10+t*.5,g=Math.atan2(i[0].y-h.y,i[0].x-h.x),y={x:0,y:0};return y.x=Math.sin(g)*f+(i[0].x+h.x)/2,y.y=-Math.cos(g)*f+(i[0].y+h.y)/2,e==="start_left"&&(y.x=Math.sin(g+Math.PI)*f+(i[0].x+h.x)/2,y.y=-Math.cos(g+Math.PI)*f+(i[0].y+h.y)/2),e==="end_right"&&(y.x=Math.sin(g-Math.PI)*f+(i[0].x+h.x)/2-5,y.y=-Math.cos(g-Math.PI)*f+(i[0].y+h.y)/2-5),e==="end_left"&&(y.x=Math.sin(g)*f+(i[0].x+h.x)/2-5,y.y=-Math.cos(g)*f+(i[0].y+h.y)/2-5),y}function Io(t){let e="",n="";for(const i of t)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":e=e+i+";");return{style:e,labelStyle:n}}let _3=0;const b3=()=>(_3++,"id-"+Math.random().toString(36).substr(2,12)+"-"+_3);function VR(t){let e="";const n="0123456789abcdef",i=n.length;for(let s=0;s<t;s++)e+=n.charAt(Math.floor(Math.random()*i));return e}const v3=t=>VR(t.length),$R=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},YR=function(t,e){const n=e.text.replace(gn.lineBreakRegex," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",e.fontSize),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),i},x3=Uc((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),gn.lineBreakRegex.test(t)))return t;const i=t.split(" "),s=[];let o="";return i.forEach((l,h)=>{const f=ma(`${l} `,n),g=ma(o,n);if(f>e){const{hyphenatedStrings:x,remainingWord:k}=UR(l,e,"-",n);s.push(o,...x),o=k}else g+f>=e?(s.push(o),o=l):o=[o,l].filter(Boolean).join(" ");h+1===i.length&&s.push(o)}),s.filter(l=>l!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),UR=Uc((t,e,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const s=[...t],o=[];let l="";return s.forEach((h,f)=>{const g=`${l}${h}`;if(ma(g,i)>=e){const b=f+1,x=s.length===b,k=`${g}${n}`;o.push(x?g:k),l=""}else l=g}),{hyphenatedStrings:o,remainingWord:l}},(t,e,n="-",i)=>`${t}${e}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function em(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),nm(t,e).height}function ma(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),nm(t,e).width}const nm=Uc((t,e)=>{e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:n,fontFamily:i,fontWeight:s}=e;if(!t)return{width:0,height:0};const o=["sans-serif",i],l=t.split(gn.lineBreakRegex),h=[],f=re("body");if(!f.remove)return{width:0,height:0,lineHeight:0};const g=f.append("svg");for(const b of o){let x=0;const k={width:0,height:0,lineHeight:0};for(const O of l){const I=$R();I.text=O;const R=YR(g,I).style("font-size",n).style("font-weight",s).style("font-family",b),Y=(R._groups||R)[0][0].getBBox();k.width=Math.round(Math.max(k.width,Y.width)),x=Math.round(Y.height),k.height+=x,k.lineHeight=Math.round(Math.max(k.lineHeight,x))}h.push(k)}g.remove();const y=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[y]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),zR=class{constructor(e,n){this.deterministic=e,this.seed=n,this.count=n?n.length:0}next(){return this.deterministic?this.count++:Date.now()}};let c1;const HR=function(t){return c1=c1||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),c1.innerHTML=t,unescape(c1.textContent)},Cl=t=>{if(E.debug("directiveSanitizer called with",t),typeof t=="object"&&(t.length?t.forEach(e=>Cl(e)):Object.keys(t).forEach(e=>{E.debug("Checking key",e),e.startsWith("__")&&(E.debug("sanitize deleting __ option",e),delete t[e]),e.includes("proto")&&(E.debug("sanitize deleting proto option",e),delete t[e]),e.includes("constr")&&(E.debug("sanitize deleting constr option",e),delete t[e]),e.includes("themeCSS")&&(E.debug("sanitizing themeCss option"),t[e]=u1(t[e])),e.includes("fontFamily")&&(E.debug("sanitizing fontFamily option"),t[e]=u1(t[e])),e.includes("altFontFamily")&&(E.debug("sanitizing altFontFamily option"),t[e]=u1(t[e])),NN.includes(e)?typeof t[e]=="object"&&(E.debug("sanitize deleting object",e),Cl(t[e])):(E.debug("sanitize deleting option",e),delete t[e])})),t.themeVariables){const e=Object.keys(t.themeVariables);for(const n of e){const i=t.themeVariables[n];i&&i.match&&!i.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[n]="")}}E.debug("After sanitization",t)},u1=t=>{let e=0,n=0;for(const i of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?e++:i==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};function rm(t){return"str"in t}function WR(t){return t instanceof Error?t.message:String(t)}const kn={assignWithDepth:li,wrapLabel:x3,calculateTextHeight:em,calculateTextWidth:ma,calculateTextDimensions:nm,detectInit:MR,detectDirective:y3,isSubstringInArray:NR,interpolateToCurve:Rs,calcLabelPosition:BR,calcCardinalityPosition:FR,calcTerminalLabelPosition:PR,formatUrl:DR,getStylesFromArray:Io,generateId:b3,random:v3,runFunc:IR,entityDecode:HR,initIdGenerator:zR,directiveSanitizer:Cl,sanitizeCss:u1,insertTitle:(t,e,n,i)=>{if(!i)return;const s=t.node().getBBox();t.append("text").text(i).attr("x",s.x+s.width/2).attr("y",-n).attr("class",e)}};var k3="comm",w3="rule",T3="decl",jR="@import",qR="@keyframes",GR=Math.abs,im=String.fromCharCode;function E3(t){return t.trim()}function sm(t,e,n){return t.replace(e,n)}function XR(t,e){return t.indexOf(e)}function h1(t,e){return t.charCodeAt(e)|0}function _h(t,e,n){return t.slice(e,n)}function Ro(t){return t.length}function C3(t){return t.length}function d1(t,e){return e.push(t),t}var f1=1,zc=1,S3=0,bs=0,Ur=0,Hc="";function am(t,e,n,i,s,o,l){return{value:t,root:e,parent:n,type:i,props:s,children:o,line:f1,column:zc,length:l,return:""}}function KR(){return Ur}function ZR(){return Ur=bs>0?h1(Hc,--bs):0,zc--,Ur===10&&(zc=1,f1--),Ur}function Bs(){return Ur=bs<S3?h1(Hc,bs++):0,zc++,Ur===10&&(zc=1,f1++),Ur}function Sl(){return h1(Hc,bs)}function p1(){return bs}function g1(t,e){return _h(Hc,t,e)}function om(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QR(t){return f1=zc=1,S3=Ro(Hc=t),bs=0,[]}function JR(t){return Hc="",t}function lm(t){return E3(g1(bs-1,cm(t===91?t+2:t===40?t+1:t)))}function tB(t){for(;(Ur=Sl())&&Ur<33;)Bs();return om(t)>2||om(Ur)>3?"":" "}function eB(t,e){for(;--e&&Bs()&&!(Ur<48||Ur>102||Ur>57&&Ur<65||Ur>70&&Ur<97););return g1(t,p1()+(e<6&&Sl()==32&&Bs()==32))}function cm(t){for(;Bs();)switch(Ur){case t:return bs;case 34:case 39:t!==34&&t!==39&&cm(Ur);break;case 40:t===41&&cm(t);break;case 92:Bs();break}return bs}function nB(t,e){for(;Bs()&&t+Ur!==47+10;)if(t+Ur===42+42&&Sl()===47)break;return"/*"+g1(e,bs-1)+"*"+im(t===47?t:Bs())}function rB(t){for(;!om(Sl());)Bs();return g1(t,bs)}function iB(t){return JR(m1("",null,null,null,[""],t=QR(t),0,[0],t))}function m1(t,e,n,i,s,o,l,h,f){for(var g=0,y=0,b=l,x=0,k=0,O=0,I=1,R=1,Y=1,V=0,X="",J=s,st=o,lt=i,tt=X;R;)switch(O=V,V=Bs()){case 40:if(O!=108&&h1(tt,b-1)==58){XR(tt+=sm(lm(V),"&","&\f"),"&\f")!=-1&&(Y=-1);break}case 34:case 39:case 91:tt+=lm(V);break;case 9:case 10:case 13:case 32:tt+=tB(O);break;case 92:tt+=eB(p1()-1,7);continue;case 47:switch(Sl()){case 42:case 47:d1(sB(nB(Bs(),p1()),e,n),f);break;default:tt+="/"}break;case 123*I:h[g++]=Ro(tt)*Y;case 125*I:case 59:case 0:switch(V){case 0:case 125:R=0;case 59+y:k>0&&Ro(tt)-b&&d1(k>32?L3(tt+";",i,n,b-1):L3(sm(tt," ","")+";",i,n,b-2),f);break;case 59:tt+=";";default:if(d1(lt=A3(tt,e,n,g,y,s,h,X,J=[],st=[],b),o),V===123)if(y===0)m1(tt,e,lt,lt,J,o,b,h,st);else switch(x){case 100:case 109:case 115:m1(t,lt,lt,i&&d1(A3(t,lt,lt,0,0,s,h,X,s,J=[],b),st),s,st,b,h,i?J:st);break;default:m1(tt,lt,lt,lt,[""],st,0,h,st)}}g=y=k=0,I=Y=1,X=tt="",b=l;break;case 58:b=1+Ro(tt),k=O;default:if(I<1){if(V==123)--I;else if(V==125&&I++==0&&ZR()==125)continue}switch(tt+=im(V),V*I){case 38:Y=y>0?1:(tt+="\f",-1);break;case 44:h[g++]=(Ro(tt)-1)*Y,Y=1;break;case 64:Sl()===45&&(tt+=lm(Bs())),x=Sl(),y=b=Ro(X=tt+=rB(p1())),V++;break;case 45:O===45&&Ro(tt)==2&&(I=0)}}return o}function A3(t,e,n,i,s,o,l,h,f,g,y){for(var b=s-1,x=s===0?o:[""],k=C3(x),O=0,I=0,R=0;O<i;++O)for(var Y=0,V=_h(t,b+1,b=GR(I=l[O])),X=t;Y<k;++Y)(X=E3(I>0?x[Y]+" "+V:sm(V,/&\f/g,x[Y])))&&(f[R++]=X);return am(t,e,n,s===0?w3:h,f,g,y)}function sB(t,e,n){return am(t,e,n,k3,im(KR()),_h(t,2,-2),0)}function L3(t,e,n,i){return am(t,e,n,T3,_h(t,0,i),_h(t,i+1,-1),i)}function um(t,e){for(var n="",i=C3(t),s=0;s<i;s++)n+=e(t[s],s,t,e)||"";return n}function aB(t,e,n,i){switch(t.type){case jR:case T3:return t.return=t.return||t.value;case k3:return"";case qR:return t.return=t.value+"{"+um(t.children,i)+"}";case w3:t.value=t.props.join(",")}return Ro(n=um(t.children,i))?t.return=t.value+"{"+n+"}":""}const y1={name:"mermaid",version:"9.3.0",description:"Markdown-ish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",main:"./dist/mermaid.min.js",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],scripts:{clean:"rimraf dist","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaidAPI.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts","docs:verify":"pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts --verify","docs:pre:vitepress":"rimraf src/vitepress && pnpm docs:code && ts-node-esm src/docs.mts --vitepress","docs:build:vitepress":"pnpm docs:pre:vitepress && vitepress build src/vitepress","docs:dev":'pnpm docs:pre:vitepress && concurrently "vitepress dev src/vitepress" "ts-node-esm src/docs.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell --config ../../cSpell.json "src/docs/**/*.md"',release:"pnpm build",prepublishOnly:"pnpm -w run build"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0","dagre-d3-es":"7.0.6",dompurify:"2.4.1",khroma:"^2.0.0","lodash-es":"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},devDependencies:{"@types/d3":"^7.4.0","@types/dompurify":"^2.4.0","@types/jsdom":"^20.0.1","@types/lodash-es":"^4.17.6","@types/micromatch":"^4.0.2","@types/prettier":"^2.7.1","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.42.1","@typescript-eslint/parser":"^5.42.1",chokidar:"^3.5.3",concurrently:"^7.5.0",coveralls:"^3.1.1",cspell:"^6.14.3",globby:"^13.1.2",jison:"^0.4.18","js-base64":"^3.7.2",jsdom:"^20.0.2",micromatch:"^4.0.5",moment:"^2.29.4","path-browserify":"^1.0.1",prettier:"^2.7.1",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.14.0",typedoc:"^0.23.18","typedoc-plugin-markdown":"^3.13.6",typescript:"^4.8.4","unist-util-flatmap":"^1.0.0",vitepress:"^1.0.0-alpha.28","vitepress-plugin-search":"^1.0.4-alpha.15"},files:["dist","README.md"],sideEffects:["**/*.css","**/*.scss"]},Wc=Object.freeze(DN);let ji=li({},Wc),O3,jc=[],bh=li({},Wc);const _1=(t,e)=>{let n=li({},t),i={};for(const s of e)D3(s),i=li(i,s);if(n=li(n,i),i.theme&&i.theme in Ha){const s=li({},O3),o=li(s.themeVariables||{},i.themeVariables);n.theme&&n.theme in Ha&&(n.themeVariables=Ha[n.theme].getThemeVariables(o))}return bh=n,B3(bh),bh},oB=t=>(ji=li({},Wc),ji=li(ji,t),t.theme&&Ha[t.theme]&&(ji.themeVariables=Ha[t.theme].getThemeVariables(t.themeVariables)),_1(ji,jc),ji),lB=t=>{O3=li({},t)},cB=t=>(ji=li(ji,t),_1(ji,jc),ji),M3=()=>li({},ji),N3=t=>(B3(t),li(bh,t),ht()),ht=()=>li({},bh),D3=t=>{var e;["secure",...(e=ji.secure)!=null?e:[]].forEach(n=>{t[n]!==void 0&&(E.debug(`Denied attempt to modify a secure key ${n}`,t[n]),delete t[n])}),Object.keys(t).forEach(n=>{n.indexOf("__")===0&&delete t[n]}),Object.keys(t).forEach(n=>{typeof t[n]=="string"&&(t[n].includes("<")||t[n].includes(">")||t[n].includes("url(data:"))&&delete t[n],typeof t[n]=="object"&&D3(t[n])})},hm=t=>{t.fontFamily&&(t.themeVariables?t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily}):t.themeVariables={fontFamily:t.fontFamily}),jc.push(t),_1(ji,jc)},vh=(t=ji)=>{jc=[],_1(t,jc)};var I3=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(I3||{});const R3={},uB=t=>{R3[t]||(E.warn(I3[t]),R3[t]=!0)},B3=t=>{!t||(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&uB("LAZY_LOAD_DEPRECATED")},hB=function(t,e){for(let n of e)t.attr(n[0],n[1])},dB=function(t,e,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${e}px;`)):(i.set("height",t),i.set("width",e)),i},Fs=function(t,e,n,i){const s=dB(e,n,i);hB(t,s)},b1=function(t,e,n,i){const s=e.node().getBBox(),o=s.width,l=s.height;E.info(`SVG bounds: ${o}x${l}`,s);let h=0,f=0;E.info(`Graph bounds: ${h}x${f}`,t),h=o+n*2,f=l+n*2,E.info(`Calculated bounds: ${h}x${f}`),Fs(e,f,h,i);const g=`${s.x-n} ${s.y-n} ${s.width+2*n} ${s.height+2*n}`;e.attr("viewBox",g)},xh=t=>`g.classGroup text {
  fill: ${t.nodeBorder};
  fill: ${t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,F3=t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }    
`,P3=()=>"",v1=t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,V3=t=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${t.fontFamily};
      fill: ${t.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${t.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${t.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,$3=()=>"",Y3=t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,U3=t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 100%;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,z3=t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,x1=t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,H3=t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,W3=t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,k1={flowchart:v1,"flowchart-v2":v1,sequence:z3,gantt:V3,classDiagram:xh,"classDiagram-v2":xh,class:xh,stateDiagram:x1,state:x1,info:$3,pie:Y3,er:F3,error:P3,journey:H3,requirement:U3,c4:W3},fB=(t,e,n)=>{let i="";return t in k1&&k1[t]?i=k1[t](n):E.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${i}

  ${e}
`},pB=(t,e)=>{k1[t]=e},gB=fB,mB=E,yB=H,kh=ht,_B=t=>Ds(t,kh()),j3=b1,w1={},ci=(t,e,n)=>{if(w1[t])throw new Error(`Diagram ${t} already registered.`);w1[t]=e,n&&d3(t,n),pB(t,e.styles),e.injectUtils&&e.injectUtils(mB,yB,kh,_B,j3)},q3=t=>{if(t in w1)return w1[t];throw new Error(`Diagram ${t} not found.`)};var dm=function(){var t=function(at,q,z,$){for(z=z||{},$=at.length;$--;z[at[$]]=q);return z},e=[1,4],n=[1,7],i=[1,5],s=[1,9],o=[1,6],l=[2,6],h=[1,16],f=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],g=[8,14,20,22,24,25,27,29,32,37,40],y=[8,13,14,20,22,24,25,27,29,32,37,40],b=[1,26],x=[6,8,14,50,55],k=[8,14,55],O=[1,53],I=[1,52],R=[8,14,30,33,35,38,55],Y=[1,67],V=[1,68],X=[1,69],J=[8,14,33,35,42,55],st={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(q,z,$,N,j,A,gt){var L=A.length-1;switch(j){case 3:return A[L];case 4:return A[L-1];case 5:return N.setDirection(A[L-3]),A[L-1];case 7:N.setOptions(A[L-1]),this.$=A[L];break;case 8:A[L-1]+=A[L],this.$=A[L-1];break;case 10:this.$=[];break;case 11:A[L-1].push(A[L]),this.$=A[L-1];break;case 12:this.$=A[L-1];break;case 17:this.$=A[L].trim(),N.setAccTitle(this.$);break;case 18:case 19:this.$=A[L].trim(),N.setAccDescription(this.$);break;case 20:N.addSection(A[L].substr(8)),this.$=A[L].substr(8);break;case 22:N.checkout(A[L]);break;case 23:N.branch(A[L]);break;case 24:N.branch(A[L-2],A[L]);break;case 25:N.cherryPick(A[L],"",void 0);break;case 26:N.cherryPick(A[L-2],"",A[L]);break;case 27:case 29:N.cherryPick(A[L-2],"","");break;case 28:N.cherryPick(A[L],"",A[L-2]);break;case 30:N.merge(A[L],"","","");break;case 31:N.merge(A[L-2],A[L],"","");break;case 32:N.merge(A[L-2],"",A[L],"");break;case 33:N.merge(A[L-2],"","",A[L]);break;case 34:N.merge(A[L-4],A[L],"",A[L-2]);break;case 35:N.merge(A[L-4],"",A[L],A[L-2]);break;case 36:N.merge(A[L-4],"",A[L-2],A[L]);break;case 37:N.merge(A[L-4],A[L-2],A[L],"");break;case 38:N.merge(A[L-4],A[L-2],"",A[L]);break;case 39:N.merge(A[L-4],A[L],A[L-2],"");break;case 40:N.merge(A[L-6],A[L-4],A[L-2],A[L]);break;case 41:N.merge(A[L-6],A[L],A[L-4],A[L-2]);break;case 42:N.merge(A[L-6],A[L-4],A[L],A[L-2]);break;case 43:N.merge(A[L-6],A[L-2],A[L-4],A[L]);break;case 44:N.merge(A[L-6],A[L],A[L-2],A[L-4]);break;case 45:N.merge(A[L-6],A[L-2],A[L],A[L-4]);break;case 46:N.commit(A[L]);break;case 47:N.commit("","",N.commitType.NORMAL,A[L]);break;case 48:N.commit("","",A[L],"");break;case 49:N.commit("","",A[L],A[L-2]);break;case 50:N.commit("","",A[L-2],A[L]);break;case 51:N.commit("",A[L],N.commitType.NORMAL,"");break;case 52:N.commit("",A[L-2],N.commitType.NORMAL,A[L]);break;case 53:N.commit("",A[L],N.commitType.NORMAL,A[L-2]);break;case 54:N.commit("",A[L-2],A[L],"");break;case 55:N.commit("",A[L],A[L-2],"");break;case 56:N.commit("",A[L-4],A[L-2],A[L]);break;case 57:N.commit("",A[L-4],A[L],A[L-2]);break;case 58:N.commit("",A[L-2],A[L-4],A[L]);break;case 59:N.commit("",A[L],A[L-4],A[L-2]);break;case 60:N.commit("",A[L],A[L-2],A[L-4]);break;case 61:N.commit("",A[L-2],A[L],A[L-4]);break;case 62:N.commit(A[L],"",N.commitType.NORMAL,"");break;case 63:N.commit(A[L],"",N.commitType.NORMAL,A[L-2]);break;case 64:N.commit(A[L-2],"",N.commitType.NORMAL,A[L]);break;case 65:N.commit(A[L-2],"",A[L],"");break;case 66:N.commit(A[L],"",A[L-2],"");break;case 67:N.commit(A[L],A[L-2],N.commitType.NORMAL,"");break;case 68:N.commit(A[L-2],A[L],N.commitType.NORMAL,"");break;case 69:N.commit(A[L-4],"",A[L-2],A[L]);break;case 70:N.commit(A[L-4],"",A[L],A[L-2]);break;case 71:N.commit(A[L-2],"",A[L-4],A[L]);break;case 72:N.commit(A[L],"",A[L-4],A[L-2]);break;case 73:N.commit(A[L],"",A[L-2],A[L-4]);break;case 74:N.commit(A[L-2],"",A[L],A[L-4]);break;case 75:N.commit(A[L-4],A[L],A[L-2],"");break;case 76:N.commit(A[L-4],A[L-2],A[L],"");break;case 77:N.commit(A[L-2],A[L],A[L-4],"");break;case 78:N.commit(A[L],A[L-2],A[L-4],"");break;case 79:N.commit(A[L],A[L-4],A[L-2],"");break;case 80:N.commit(A[L-2],A[L-4],A[L],"");break;case 81:N.commit(A[L-4],A[L],N.commitType.NORMAL,A[L-2]);break;case 82:N.commit(A[L-4],A[L-2],N.commitType.NORMAL,A[L]);break;case 83:N.commit(A[L-2],A[L],N.commitType.NORMAL,A[L-4]);break;case 84:N.commit(A[L],A[L-2],N.commitType.NORMAL,A[L-4]);break;case 85:N.commit(A[L],A[L-4],N.commitType.NORMAL,A[L-2]);break;case 86:N.commit(A[L-2],A[L-4],N.commitType.NORMAL,A[L]);break;case 87:N.commit(A[L-6],A[L-4],A[L-2],A[L]);break;case 88:N.commit(A[L-6],A[L-4],A[L],A[L-2]);break;case 89:N.commit(A[L-6],A[L-2],A[L-4],A[L]);break;case 90:N.commit(A[L-6],A[L],A[L-4],A[L-2]);break;case 91:N.commit(A[L-6],A[L-2],A[L],A[L-4]);break;case 92:N.commit(A[L-6],A[L],A[L-2],A[L-4]);break;case 93:N.commit(A[L-4],A[L-6],A[L-2],A[L]);break;case 94:N.commit(A[L-4],A[L-6],A[L],A[L-2]);break;case 95:N.commit(A[L-2],A[L-6],A[L-4],A[L]);break;case 96:N.commit(A[L],A[L-6],A[L-4],A[L-2]);break;case 97:N.commit(A[L-2],A[L-6],A[L],A[L-4]);break;case 98:N.commit(A[L],A[L-6],A[L-2],A[L-4]);break;case 99:N.commit(A[L],A[L-4],A[L-2],A[L-6]);break;case 100:N.commit(A[L-2],A[L-4],A[L],A[L-6]);break;case 101:N.commit(A[L],A[L-2],A[L-4],A[L-6]);break;case 102:N.commit(A[L-2],A[L],A[L-4],A[L-6]);break;case 103:N.commit(A[L-4],A[L-2],A[L],A[L-6]);break;case 104:N.commit(A[L-4],A[L],A[L-2],A[L-6]);break;case 105:N.commit(A[L-2],A[L-4],A[L-6],A[L]);break;case 106:N.commit(A[L],A[L-4],A[L-6],A[L-2]);break;case 107:N.commit(A[L-2],A[L],A[L-6],A[L-4]);break;case 108:N.commit(A[L],A[L-2],A[L-6],A[L-4]);break;case 109:N.commit(A[L-4],A[L-2],A[L-6],A[L]);break;case 110:N.commit(A[L-4],A[L],A[L-6],A[L-2]);break;case 111:this.$="";break;case 112:this.$=A[L];break;case 113:this.$=N.commitType.NORMAL;break;case 114:this.$=N.commitType.REVERSE;break;case 115:this.$=N.commitType.HIGHLIGHT;break;case 118:N.parseDirective("%%{","open_directive");break;case 119:N.parseDirective(A[L],"type_directive");break;case 120:A[L]=A[L].trim().replace(/'/g,'"'),N.parseDirective(A[L],"arg_directive");break;case 121:N.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:e,8:n,14:i,46:8,50:s,55:o},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:i,46:8,50:s,55:o},{3:11,4:2,5:3,6:e,8:n,14:i,46:8,50:s,55:o},{7:12,8:l,9:[1,13],10:[1,14],11:15,14:h},t(f,[2,124]),t(f,[2,125]),t(f,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:l,11:15,14:h},{9:[1,21]},t(g,[2,10],{12:22,13:[1,23]}),t(y,[2,9]),{9:[1,25],48:24,53:b},t([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:l,11:15,14:h},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},t(y,[2,8]),t(x,[2,116]),{49:45,52:[1,46]},t(x,[2,121]),{1:[2,4]},{8:[1,47]},t(g,[2,11]),{4:48,8:n,14:i,55:o},t(g,[2,13]),t(k,[2,14]),t(k,[2,15]),t(k,[2,16]),{21:[1,49]},{23:[1,50]},t(k,[2,19]),t(k,[2,20]),t(k,[2,21]),{28:51,34:O,54:I},t(k,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:O,54:I},{33:[1,61],35:[1,62]},{28:63,34:O,54:I},{48:64,53:b},{53:[2,120]},{1:[2,5]},t(g,[2,12]),t(k,[2,17]),t(k,[2,18]),t(k,[2,22]),t(R,[2,122]),t(R,[2,123]),t(k,[2,46]),{34:[1,65]},{39:66,43:Y,44:V,45:X},{34:[1,70]},{34:[1,71]},t(k,[2,112]),t(k,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},t(k,[2,23],{30:[1,78]}),t(x,[2,117]),t(k,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),t(k,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),t(J,[2,113]),t(J,[2,114]),t(J,[2,115]),t(k,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),t(k,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:Y,44:V,45:X},{34:[1,93]},t(k,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:Y,44:V,45:X},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:Y,44:V,45:X},{34:[1,106]},{34:[1,107]},{39:108,43:Y,44:V,45:X},{34:[1,109]},t(k,[2,31],{35:[1,111],38:[1,110]}),t(k,[2,32],{33:[1,113],35:[1,112]}),t(k,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},t(k,[2,24]),t(k,[2,49],{33:[1,120],42:[1,121]}),t(k,[2,53],{38:[1,122],42:[1,123]}),t(k,[2,63],{33:[1,125],38:[1,124]}),t(k,[2,50],{33:[1,126],42:[1,127]}),t(k,[2,55],{35:[1,128],42:[1,129]}),t(k,[2,66],{33:[1,131],35:[1,130]}),t(k,[2,52],{38:[1,132],42:[1,133]}),t(k,[2,54],{35:[1,134],42:[1,135]}),t(k,[2,67],{35:[1,137],38:[1,136]}),t(k,[2,64],{33:[1,139],38:[1,138]}),t(k,[2,65],{33:[1,141],35:[1,140]}),t(k,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:Y,44:V,45:X},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:Y,44:V,45:X},t(k,[2,26]),t(k,[2,27]),t(k,[2,28]),t(k,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:Y,44:V,45:X},{34:[1,153]},{39:154,43:Y,44:V,45:X},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:Y,44:V,45:X},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:Y,44:V,45:X},{34:[1,167]},{39:168,43:Y,44:V,45:X},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:Y,44:V,45:X},{34:[1,173]},t(k,[2,37],{35:[1,174]}),t(k,[2,38],{38:[1,175]}),t(k,[2,36],{33:[1,176]}),t(k,[2,39],{35:[1,177]}),t(k,[2,34],{38:[1,178]}),t(k,[2,35],{33:[1,179]}),t(k,[2,60],{42:[1,180]}),t(k,[2,73],{33:[1,181]}),t(k,[2,61],{42:[1,182]}),t(k,[2,84],{38:[1,183]}),t(k,[2,74],{33:[1,184]}),t(k,[2,83],{38:[1,185]}),t(k,[2,59],{42:[1,186]}),t(k,[2,72],{33:[1,187]}),t(k,[2,58],{42:[1,188]}),t(k,[2,78],{35:[1,189]}),t(k,[2,71],{33:[1,190]}),t(k,[2,77],{35:[1,191]}),t(k,[2,57],{42:[1,192]}),t(k,[2,85],{38:[1,193]}),t(k,[2,56],{42:[1,194]}),t(k,[2,79],{35:[1,195]}),t(k,[2,80],{35:[1,196]}),t(k,[2,86],{38:[1,197]}),t(k,[2,70],{33:[1,198]}),t(k,[2,81],{38:[1,199]}),t(k,[2,69],{33:[1,200]}),t(k,[2,75],{35:[1,201]}),t(k,[2,76],{35:[1,202]}),t(k,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:Y,44:V,45:X},{34:[1,206]},{34:[1,207]},{39:208,43:Y,44:V,45:X},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:Y,44:V,45:X},{34:[1,214]},{39:215,43:Y,44:V,45:X},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:Y,44:V,45:X},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:Y,44:V,45:X},{34:[1,228]},{39:229,43:Y,44:V,45:X},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:Y,44:V,45:X},t(k,[2,40]),t(k,[2,42]),t(k,[2,41]),t(k,[2,43]),t(k,[2,45]),t(k,[2,44]),t(k,[2,101]),t(k,[2,102]),t(k,[2,99]),t(k,[2,100]),t(k,[2,104]),t(k,[2,103]),t(k,[2,108]),t(k,[2,107]),t(k,[2,106]),t(k,[2,105]),t(k,[2,110]),t(k,[2,109]),t(k,[2,98]),t(k,[2,97]),t(k,[2,96]),t(k,[2,95]),t(k,[2,93]),t(k,[2,94]),t(k,[2,92]),t(k,[2,91]),t(k,[2,90]),t(k,[2,89]),t(k,[2,87]),t(k,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(q,z){if(z.recoverable)this.trace(q);else{var $=new Error(q);throw $.hash=z,$}},parse:function(q){var z=this,$=[0],N=[],j=[null],A=[],gt=this.table,L="",Dt=0,ue=0,qt=2,ut=1,Ct=A.slice.call(arguments,1),vt=Object.create(this.lexer),xt={yy:{}};for(var Ot in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ot)&&(xt.yy[Ot]=this.yy[Ot]);vt.setInput(q,xt.yy),xt.yy.lexer=vt,xt.yy.parser=this,typeof vt.yylloc=="undefined"&&(vt.yylloc={});var Ht=vt.yylloc;A.push(Ht);var ft=vt.options&&vt.options.ranges;typeof xt.yy.parseError=="function"?this.parseError=xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _e(){var Ae;return Ae=N.pop()||vt.lex()||ut,typeof Ae!="number"&&(Ae instanceof Array&&(N=Ae,Ae=N.pop()),Ae=z.symbols_[Ae]||Ae),Ae}for(var et,it,dt,Q,G={},U,yt,B,It;;){if(it=$[$.length-1],this.defaultActions[it]?dt=this.defaultActions[it]:((et===null||typeof et=="undefined")&&(et=_e()),dt=gt[it]&&gt[it][et]),typeof dt=="undefined"||!dt.length||!dt[0]){var rt="";It=[];for(U in gt[it])this.terminals_[U]&&U>qt&&It.push("'"+this.terminals_[U]+"'");vt.showPosition?rt="Parse error on line "+(Dt+1)+`:
`+vt.showPosition()+`
Expecting `+It.join(", ")+", got '"+(this.terminals_[et]||et)+"'":rt="Parse error on line "+(Dt+1)+": Unexpected "+(et==ut?"end of input":"'"+(this.terminals_[et]||et)+"'"),this.parseError(rt,{text:vt.match,token:this.terminals_[et]||et,line:vt.yylineno,loc:Ht,expected:It})}if(dt[0]instanceof Array&&dt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+it+", token: "+et);switch(dt[0]){case 1:$.push(et),j.push(vt.yytext),A.push(vt.yylloc),$.push(dt[1]),et=null,ue=vt.yyleng,L=vt.yytext,Dt=vt.yylineno,Ht=vt.yylloc;break;case 2:if(yt=this.productions_[dt[1]][1],G.$=j[j.length-yt],G._$={first_line:A[A.length-(yt||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(yt||1)].first_column,last_column:A[A.length-1].last_column},ft&&(G._$.range=[A[A.length-(yt||1)].range[0],A[A.length-1].range[1]]),Q=this.performAction.apply(G,[L,ue,Dt,xt.yy,dt[1],j,A].concat(Ct)),typeof Q!="undefined")return Q;yt&&($=$.slice(0,-1*yt*2),j=j.slice(0,-1*yt),A=A.slice(0,-1*yt)),$.push(this.productions_[dt[1]][0]),j.push(G.$),A.push(G._$),B=gt[$[$.length-2]][$[$.length-1]],$.push(B);break;case 3:return!0}}return!0}},lt=function(){var at={EOF:1,parseError:function(z,$){if(this.yy.parser)this.yy.parser.parseError(z,$);else throw new Error(z)},setInput:function(q,z){return this.yy=z||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var z=q.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},unput:function(q){var z=q.length,$=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var N=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var j=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===N.length?this.yylloc.first_column:0)+N[N.length-$.length].length-$[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[j[0],j[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(q){this.unput(this.match.slice(q))},pastInput:function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var q=this.pastInput(),z=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+z+"^"},test_match:function(q,z){var $,N,j;if(this.options.backtrack_lexer&&(j={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(j.yylloc.range=this.yylloc.range.slice(0))),N=q[0].match(/(?:\r\n?|\n).*/g),N&&(this.yylineno+=N.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N?N[N.length-1].length-N[N.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],$=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var A in j)this[A]=j[A];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,z,$,N;this._more||(this.yytext="",this.match="");for(var j=this._currentRules(),A=0;A<j.length;A++)if($=this._input.match(this.rules[j[A]]),$&&(!z||$[0].length>z[0].length)){if(z=$,N=A,this.options.backtrack_lexer){if(q=this.test_match($,j[A]),q!==!1)return q;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(q=this.test_match(z,j[N]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var z=this.next();return z||this.lex()},begin:function(z){this.conditionStack.push(z)},popState:function(){var z=this.conditionStack.length-1;return z>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(z){return z=this.conditionStack.length-1-Math.abs(z||0),z>=0?this.conditionStack[z]:"INITIAL"},pushState:function(z){this.begin(z)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(z,$,N,j){switch(N){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return at}();st.lexer=lt;function tt(){this.yy={}}return tt.prototype=st,st.Parser=tt,new tt}();dm.parser=dm;const bB=dm,vB=t=>t.match(/^\s*gitGraph/)!==null;let fm="",T1="",pm="";const gm=t=>Ds(t,ht()),Ps=function(){fm="",pm="",T1=""},vs=function(t){fm=gm(t).replace(/^\s+/g,"")},Vs=function(){return fm||T1},$s=function(t){pm=gm(t).replace(/\n\s+/g,`
`)},Ys=function(){return pm},Ga=function(t){T1=gm(t)},Xa=function(){return T1};let E1=ht().gitGraph.mainBranchName,xB=ht().gitGraph.mainBranchOrder,Qr={},Bi=null,wh={};wh[E1]={name:E1,order:xB};let zr={};zr[E1]=Bi;let ui=E1,G3="LR",Al=0;function mm(){return v3({length:7})}const kB=function(t,e,n){Tr.parseDirective(this,t,e,n)};function wB(t,e){const n=Object.create(null);return t.reduce((i,s)=>{const o=e(s);return n[o]||(n[o]=!0,i.push(s)),i},[])}const TB=function(t){G3=t};let X3={};const EB=function(t){E.debug("options str",t),t=t&&t.trim(),t=t||"{}";try{X3=JSON.parse(t)}catch(e){E.error("error while parsing gitGraph options",e.message)}},CB=function(){return X3},SB=function(t,e,n,i){E.debug("Entering commit:",t,e,n,i),e=gn.sanitizeText(e,ht()),t=gn.sanitizeText(t,ht()),i=gn.sanitizeText(i,ht());const s={id:e||Al+"-"+mm(),message:t,seq:Al++,type:n||Th.NORMAL,tag:i||"",parents:Bi==null?[]:[Bi.id],branch:ui};Bi=s,Qr[s.id]=s,zr[ui]=s.id,E.debug("in pushCommit "+s.id)},AB=function(t,e){if(t=gn.sanitizeText(t,ht()),zr[t]===void 0)zr[t]=Bi!=null?Bi.id:null,wh[t]={name:t,order:e?parseInt(e,10):null},K3(t),E.debug("in createBranch");else{let n=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw n.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},n}},LB=function(t,e,n,i){t=gn.sanitizeText(t,ht()),e=gn.sanitizeText(e,ht());const s=Qr[zr[ui]],o=Qr[zr[t]];if(ui===t){let h=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},h}else if(s===void 0||!s){let h=new Error('Incorrect usage of "merge". Current branch ('+ui+")has no commits");throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},h}else if(zr[t]===void 0){let h=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},h}else if(o===void 0||!o){let h=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},h}else if(s===o){let h=new Error('Incorrect usage of "merge". Both branches have same head');throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},h}else if(e&&Qr[e]!==void 0){let h=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom Id");throw h.hash={text:"merge "+t+e+n+i,token:"merge "+t+e+n+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+t+" "+e+"_UNIQUE "+n+" "+i]},h}const l={id:e||Al+"-"+mm(),message:"merged branch "+t+" into "+ui,seq:Al++,parents:[Bi==null?null:Bi.id,zr[t]],branch:ui,type:Th.MERGE,customType:n,customId:!!e,tag:i||""};Bi=l,Qr[l.id]=l,zr[ui]=l.id,E.debug(zr),E.debug("in mergeBranch")},OB=function(t,e,n){if(E.debug("Entering cherryPick:",t,e,n),t=gn.sanitizeText(t,ht()),e=gn.sanitizeText(e,ht()),n=gn.sanitizeText(n,ht()),!t||Qr[t]===void 0){let o=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw o.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}let i=Qr[t],s=i.branch;if(i.type===Th.MERGE){let o=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw o.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}if(!e||Qr[e]===void 0){if(s===ui){let h=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw h.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},h}const o=Qr[zr[ui]];if(o===void 0||!o){let h=new Error('Incorrect usage of "cherry-pick". Current branch ('+ui+")has no commits");throw h.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},h}const l={id:Al+"-"+mm(),message:"cherry-picked "+i+" into "+ui,seq:Al++,parents:[Bi==null?null:Bi.id,i.id],branch:ui,type:Th.CHERRY_PICK,tag:n!=null?n:"cherry-pick:"+i.id};Bi=l,Qr[l.id]=l,zr[ui]=l.id,E.debug(zr),E.debug("in cherryPick")}},K3=function(t){if(t=gn.sanitizeText(t,ht()),zr[t]===void 0){let e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}else{ui=t;const e=zr[ui];Bi=Qr[e]}};function Z3(t,e,n){const i=t.indexOf(e);i===-1?t.push(n):t.splice(i,1,n)}function Q3(t){const e=t.reduce((s,o)=>s.seq>o.seq?s:o,t[0]);let n="";t.forEach(function(s){s===e?n+="	*":n+="	|"});const i=[n,e.id,e.seq];for(let s in zr)zr[s]===e.id&&i.push(s);if(E.debug(i.join(" ")),e.parents&&e.parents.length==2){const s=Qr[e.parents[0]];Z3(t,e,s),t.push(Qr[e.parents[1]])}else{if(e.parents.length==0)return;{const s=Qr[e.parents];Z3(t,e,s)}}t=wB(t,s=>s.id),Q3(t)}const MB=function(){E.debug(Qr);const t=J3()[0];Q3([t])},NB=function(){Qr={},Bi=null;let t=ht().gitGraph.mainBranchName,e=ht().gitGraph.mainBranchOrder;zr={},zr[t]=null,wh={},wh[t]={name:t,order:e},ui=t,Al=0,Ps()},DB=function(){return Object.values(wh).map((e,n)=>e.order!==null?e:{...e,order:parseFloat(`0.${n}`,10)}).sort((e,n)=>e.order-n.order).map(({name:e})=>({name:e}))},IB=function(){return zr},RB=function(){return Qr},J3=function(){const t=Object.keys(Qr).map(function(e){return Qr[e]});return t.forEach(function(e){E.debug(e.id)}),t.sort((e,n)=>e.seq-n.seq),t},BB=function(){return ui},FB=function(){return G3},PB=function(){return Bi},Th={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},VB={parseDirective:kB,getConfig:()=>ht().gitGraph,setDirection:TB,setOptions:EB,getOptions:CB,commit:SB,branch:AB,merge:LB,cherryPick:OB,checkout:K3,prettyPrint:MB,clear:NB,getBranchesAsObjArray:DB,getBranches:IB,getCommits:RB,getCommitsArray:J3,getCurrentBranch:BB,getDirection:FB,getHead:PB,setAccTitle:vs,getAccTitle:Vs,getAccDescription:Ys,setAccDescription:$s,setDiagramTitle:Ga,getDiagramTitle:Xa,commitType:Th};let Eh={};const es={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Ll=8;let qi={},C1={},S1=[],A1=0;const $B=()=>{qi={},C1={},Eh={},A1=0,S1=[]},YB=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");let n=[];typeof t=="string"?n=t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?n=t:n=[];for(const i of n){const s=document.createElementNS("http://www.w3.org/2000/svg","tspan");s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),s.setAttribute("dy","1em"),s.setAttribute("x","0"),s.setAttribute("class","row"),s.textContent=i.trim(),e.appendChild(s)}return e},t5=(t,e,n)=>{const i=kh().gitGraph,s=t.append("g").attr("class","commit-bullets"),o=t.append("g").attr("class","commit-labels");let l=0;Object.keys(e).sort((g,y)=>e[g].seq-e[y].seq).forEach(g=>{const y=e[g],b=qi[y.branch].pos,x=l+10;if(n){let k,O=y.customType!==void 0&&y.customType!==""?y.customType:y.type;switch(O){case es.NORMAL:k="commit-normal";break;case es.REVERSE:k="commit-reverse";break;case es.HIGHLIGHT:k="commit-highlight";break;case es.MERGE:k="commit-merge";break;case es.CHERRY_PICK:k="commit-cherry-pick";break;default:k="commit-normal"}if(O===es.HIGHLIGHT){const I=s.append("rect");I.attr("x",x-10),I.attr("y",b-10),I.attr("height",20),I.attr("width",20),I.attr("class",`commit ${y.id} commit-highlight${qi[y.branch].index%Ll} ${k}-outer`),s.append("rect").attr("x",x-6).attr("y",b-6).attr("height",12).attr("width",12).attr("class",`commit ${y.id} commit${qi[y.branch].index%Ll} ${k}-inner`)}else if(O===es.CHERRY_PICK)s.append("circle").attr("cx",x).attr("cy",b).attr("r",10).attr("class",`commit ${y.id} ${k}`),s.append("circle").attr("cx",x-3).attr("cy",b+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${y.id} ${k}`),s.append("circle").attr("cx",x+3).attr("cy",b+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${y.id} ${k}`),s.append("line").attr("x1",x+3).attr("y1",b+1).attr("x2",x).attr("y2",b-5).attr("stroke","#fff").attr("class",`commit ${y.id} ${k}`),s.append("line").attr("x1",x-3).attr("y1",b+1).attr("x2",x).attr("y2",b-5).attr("stroke","#fff").attr("class",`commit ${y.id} ${k}`);else{const I=s.append("circle");if(I.attr("cx",x),I.attr("cy",b),I.attr("r",y.type===es.MERGE?9:10),I.attr("class",`commit ${y.id} commit${qi[y.branch].index%Ll}`),O===es.MERGE){const R=s.append("circle");R.attr("cx",x),R.attr("cy",b),R.attr("r",6),R.attr("class",`commit ${k} ${y.id} commit${qi[y.branch].index%Ll}`)}O===es.REVERSE&&s.append("path").attr("d",`M ${x-5},${b-5}L${x+5},${b+5}M${x-5},${b+5}L${x+5},${b-5}`).attr("class",`commit ${k} ${y.id} commit${qi[y.branch].index%Ll}`)}}if(C1[y.id]={x:l+10,y:b},n){if(y.type!==es.CHERRY_PICK&&(y.customId&&y.type===es.MERGE||y.type!==es.MERGE)&&i.showCommitLabel){const I=o.append("g"),R=I.insert("rect").attr("class","commit-label-bkg"),Y=I.append("text").attr("x",l).attr("y",b+25).attr("class","commit-label").text(y.id);let V=Y.node().getBBox();if(R.attr("x",l+10-V.width/2-2).attr("y",b+13.5).attr("width",V.width+2*2).attr("height",V.height+2*2),Y.attr("x",l+10-V.width/2),i.rotateCommitLabel){let X=-7.5-(V.width+10)/25*9.5,J=10+V.width/25*8.5;I.attr("transform","translate("+X+", "+J+") rotate("+-45+", "+l+", "+b+")")}}if(y.tag){const I=o.insert("polygon"),R=o.append("circle"),Y=o.append("text").attr("y",b-16).attr("class","tag-label").text(y.tag);let V=Y.node().getBBox();Y.attr("x",l+10-V.width/2);const X=V.height/2,J=b-19.2;I.attr("class","tag-label-bkg").attr("points",`
          ${l-V.width/2-4/2},${J+2}
          ${l-V.width/2-4/2},${J-2}
          ${l+10-V.width/2-4},${J-X-2}
          ${l+10+V.width/2+4},${J-X-2}
          ${l+10+V.width/2+4},${J+X+2}
          ${l+10-V.width/2-4},${J+X+2}`),R.attr("cx",l-V.width/2+4/2).attr("cy",J).attr("r",1.5).attr("class","tag-hole")}}l+=50,l>A1&&(A1=l)})},UB=(t,e,n)=>Object.keys(n).filter(o=>n[o].branch===e.branch&&n[o].seq>t.seq&&n[o].seq<e.seq).length>0,ym=(t,e,n=0)=>{const i=t+Math.abs(t-e)/2;if(n>5)return i;if(S1.every(l=>Math.abs(l-i)>=10))return S1.push(i),i;const o=Math.abs(t-e);return ym(t,e-o/5,n+1)},zB=(t,e,n,i)=>{const s=C1[e.id],o=C1[n.id],l=UB(e,n,i);let h="",f="",g=0,y=0,b=qi[n.branch].index,x;if(l){h="A 10 10, 0, 0, 0,",f="A 10 10, 0, 0, 1,",g=10,y=10,b=qi[n.branch].index;const k=s.y<o.y?ym(s.y,o.y):ym(o.y,s.y);s.y<o.y?x=`M ${s.x} ${s.y} L ${s.x} ${k-g} ${h} ${s.x+y} ${k} L ${o.x-g} ${k} ${f} ${o.x} ${k+y} L ${o.x} ${o.y}`:x=`M ${s.x} ${s.y} L ${s.x} ${k+g} ${f} ${s.x+y} ${k} L ${o.x-g} ${k} ${h} ${o.x} ${k-y} L ${o.x} ${o.y}`}else s.y<o.y&&(h="A 20 20, 0, 0, 0,",g=20,y=20,b=qi[n.branch].index,x=`M ${s.x} ${s.y} L ${s.x} ${o.y-g} ${h} ${s.x+y} ${o.y} L ${o.x} ${o.y}`),s.y>o.y&&(h="A 20 20, 0, 0, 0,",g=20,y=20,b=qi[e.branch].index,x=`M ${s.x} ${s.y} L ${o.x-g} ${s.y} ${h} ${o.x} ${s.y-y} L ${o.x} ${o.y}`),s.y===o.y&&(b=qi[e.branch].index,x=`M ${s.x} ${s.y} L ${s.x} ${o.y-g} ${h} ${s.x+y} ${o.y} L ${o.x} ${o.y}`);t.append("path").attr("d",x).attr("class","arrow arrow"+b%Ll)},HB=(t,e)=>{const n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach(i=>{const s=e[i];s.parents&&s.parents.length>0&&s.parents.forEach(o=>{zB(n,e[o],s,e)})})},WB=(t,e)=>{const n=kh().gitGraph,i=t.append("g");e.forEach((s,o)=>{const l=o%Ll,h=qi[s.name].pos,f=i.append("line");f.attr("x1",0),f.attr("y1",h),f.attr("x2",A1),f.attr("y2",h),f.attr("class","branch branch"+l),S1.push(h);let g=s.name;const y=YB(g),b=i.insert("rect"),k=i.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+l);k.node().appendChild(y);let O=y.getBBox();b.attr("class","branchLabelBkg label"+l).attr("rx",4).attr("ry",4).attr("x",-O.width-4-(n.rotateCommitLabel===!0?30:0)).attr("y",-O.height/2+8).attr("width",O.width+18).attr("height",O.height+4),k.attr("transform","translate("+(-O.width-14-(n.rotateCommitLabel===!0?30:0))+", "+(h-O.height/2-1)+")"),b.attr("transform","translate("+-19+", "+(h-O.height/2)+")")})},jB={draw:function(t,e,n,i){var s;$B();const o=kh(),l=o.gitGraph;E.debug("in gitgraph renderer",t+`
`,"id:",e,n),Eh=i.db.getCommits();const h=i.db.getBranchesAsObjArray();let f=0;h.forEach((y,b)=>{qi[y.name]={pos:f,index:b},f+=50+(l.rotateCommitLabel?40:0)});const g=re(`[id="${e}"]`);t5(g,Eh,!1),l.showBranches&&WB(g,h),HB(g,Eh),t5(g,Eh,!0),kn.insertTitle(g,"gitTitleText",l.titleTopMargin,i.db.getDiagramTitle()),j3(void 0,g,l.diagramPadding,(s=l.useMaxWidth)!=null?s:o.useMaxWidth)}},qB=t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
  }
`;var L1=function(){var t=function(Ee,Wt,Bt,oe){for(Bt=Bt||{},oe=Ee.length;oe--;Bt[Ee[oe]]=Wt);return Bt},e=[1,6],n=[1,7],i=[1,8],s=[1,9],o=[1,16],l=[1,11],h=[1,12],f=[1,13],g=[1,14],y=[1,15],b=[1,27],x=[1,33],k=[1,34],O=[1,35],I=[1,36],R=[1,37],Y=[1,72],V=[1,73],X=[1,74],J=[1,75],st=[1,76],lt=[1,77],tt=[1,78],at=[1,38],q=[1,39],z=[1,40],$=[1,41],N=[1,42],j=[1,43],A=[1,44],gt=[1,45],L=[1,46],Dt=[1,47],ue=[1,48],qt=[1,49],ut=[1,50],Ct=[1,51],vt=[1,52],xt=[1,53],Ot=[1,54],Ht=[1,55],ft=[1,56],_e=[1,57],et=[1,59],it=[1,60],dt=[1,61],Q=[1,62],G=[1,63],U=[1,64],yt=[1,65],B=[1,66],It=[1,67],rt=[1,68],Ae=[1,69],bt=[24,52],de=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Jt=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],$t=[1,94],te=[1,95],Xt=[1,96],Ft=[1,97],wt=[15,24,52],dn=[7,8,9,10,18,22,25,26,27,28],We=[15,24,43,52],Ue=[15,24,43,52,86,87,89,90],je=[15,43],Ve=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Un={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(Wt,Bt,oe,zt,Oe,Et,on){var Rt=Et.length-1;switch(Oe){case 4:zt.setDirection("TB");break;case 5:zt.setDirection("BT");break;case 6:zt.setDirection("RL");break;case 7:zt.setDirection("LR");break;case 11:zt.parseDirective("%%{","open_directive");break;case 12:break;case 13:Et[Rt]=Et[Rt].trim().replace(/'/g,'"'),zt.parseDirective(Et[Rt],"arg_directive");break;case 14:zt.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:zt.setC4Type(Et[Rt-3]);break;case 26:zt.setTitle(Et[Rt].substring(6)),this.$=Et[Rt].substring(6);break;case 27:zt.setAccDescription(Et[Rt].substring(15)),this.$=Et[Rt].substring(15);break;case 28:this.$=Et[Rt].trim(),zt.setTitle(this.$);break;case 29:case 30:this.$=Et[Rt].trim(),zt.setAccDescription(this.$);break;case 35:case 36:Et[Rt].splice(2,0,"ENTERPRISE"),zt.addPersonOrSystemBoundary(...Et[Rt]),this.$=Et[Rt];break;case 37:zt.addPersonOrSystemBoundary(...Et[Rt]),this.$=Et[Rt];break;case 38:Et[Rt].splice(2,0,"CONTAINER"),zt.addContainerBoundary(...Et[Rt]),this.$=Et[Rt];break;case 39:zt.addDeploymentNode("node",...Et[Rt]),this.$=Et[Rt];break;case 40:zt.addDeploymentNode("nodeL",...Et[Rt]),this.$=Et[Rt];break;case 41:zt.addDeploymentNode("nodeR",...Et[Rt]),this.$=Et[Rt];break;case 42:zt.popBoundaryParseStack();break;case 46:zt.addPersonOrSystem("person",...Et[Rt]),this.$=Et[Rt];break;case 47:zt.addPersonOrSystem("external_person",...Et[Rt]),this.$=Et[Rt];break;case 48:zt.addPersonOrSystem("system",...Et[Rt]),this.$=Et[Rt];break;case 49:zt.addPersonOrSystem("system_db",...Et[Rt]),this.$=Et[Rt];break;case 50:zt.addPersonOrSystem("system_queue",...Et[Rt]),this.$=Et[Rt];break;case 51:zt.addPersonOrSystem("external_system",...Et[Rt]),this.$=Et[Rt];break;case 52:zt.addPersonOrSystem("external_system_db",...Et[Rt]),this.$=Et[Rt];break;case 53:zt.addPersonOrSystem("external_system_queue",...Et[Rt]),this.$=Et[Rt];break;case 54:zt.addContainer("container",...Et[Rt]),this.$=Et[Rt];break;case 55:zt.addContainer("container_db",...Et[Rt]),this.$=Et[Rt];break;case 56:zt.addContainer("container_queue",...Et[Rt]),this.$=Et[Rt];break;case 57:zt.addContainer("external_container",...Et[Rt]),this.$=Et[Rt];break;case 58:zt.addContainer("external_container_db",...Et[Rt]),this.$=Et[Rt];break;case 59:zt.addContainer("external_container_queue",...Et[Rt]),this.$=Et[Rt];break;case 60:zt.addComponent("component",...Et[Rt]),this.$=Et[Rt];break;case 61:zt.addComponent("component_db",...Et[Rt]),this.$=Et[Rt];break;case 62:zt.addComponent("component_queue",...Et[Rt]),this.$=Et[Rt];break;case 63:zt.addComponent("external_component",...Et[Rt]),this.$=Et[Rt];break;case 64:zt.addComponent("external_component_db",...Et[Rt]),this.$=Et[Rt];break;case 65:zt.addComponent("external_component_queue",...Et[Rt]),this.$=Et[Rt];break;case 67:zt.addRel("rel",...Et[Rt]),this.$=Et[Rt];break;case 68:zt.addRel("birel",...Et[Rt]),this.$=Et[Rt];break;case 69:zt.addRel("rel_u",...Et[Rt]),this.$=Et[Rt];break;case 70:zt.addRel("rel_d",...Et[Rt]),this.$=Et[Rt];break;case 71:zt.addRel("rel_l",...Et[Rt]),this.$=Et[Rt];break;case 72:zt.addRel("rel_r",...Et[Rt]),this.$=Et[Rt];break;case 73:zt.addRel("rel_b",...Et[Rt]),this.$=Et[Rt];break;case 74:Et[Rt].splice(0,1),zt.addRel("rel",...Et[Rt]),this.$=Et[Rt];break;case 75:zt.updateElStyle("update_el_style",...Et[Rt]),this.$=Et[Rt];break;case 76:zt.updateRelStyle("update_rel_style",...Et[Rt]),this.$=Et[Rt];break;case 77:zt.updateLayoutConfig("update_layout_config",...Et[Rt]),this.$=Et[Rt];break;case 78:this.$=[Et[Rt]];break;case 79:Et[Rt].unshift(Et[Rt-1]),this.$=Et[Rt];break;case 80:case 82:this.$=Et[Rt].trim();break;case 81:let nn={};nn[Et[Rt-1].trim()]=Et[Rt].trim(),this.$=nn;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:i,10:s,11:5,12:10,18:o,22:l,25:h,26:f,27:g,28:y},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:i,10:s,11:5,12:10,18:o,22:l,25:h,26:f,27:g,28:y},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:b},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:x,33:k,34:O,36:I,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:st,50:lt,51:tt,53:32,54:at,55:q,56:z,57:$,58:N,59:j,60:A,61:gt,62:L,63:Dt,64:ue,65:qt,66:ut,67:Ct,68:vt,69:xt,70:Ot,71:Ht,72:ft,73:_e,74:et,75:it,76:dt,77:Q,78:G,79:U,80:yt,81:B,82:It,83:rt,84:Ae},{23:79,29:29,30:30,31:31,32:x,33:k,34:O,36:I,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:st,50:lt,51:tt,53:32,54:at,55:q,56:z,57:$,58:N,59:j,60:A,61:gt,62:L,63:Dt,64:ue,65:qt,66:ut,67:Ct,68:vt,69:xt,70:Ot,71:Ht,72:ft,73:_e,74:et,75:it,76:dt,77:Q,78:G,79:U,80:yt,81:B,82:It,83:rt,84:Ae},{23:80,29:29,30:30,31:31,32:x,33:k,34:O,36:I,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:st,50:lt,51:tt,53:32,54:at,55:q,56:z,57:$,58:N,59:j,60:A,61:gt,62:L,63:Dt,64:ue,65:qt,66:ut,67:Ct,68:vt,69:xt,70:Ot,71:Ht,72:ft,73:_e,74:et,75:it,76:dt,77:Q,78:G,79:U,80:yt,81:B,82:It,83:rt,84:Ae},{23:81,29:29,30:30,31:31,32:x,33:k,34:O,36:I,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:st,50:lt,51:tt,53:32,54:at,55:q,56:z,57:$,58:N,59:j,60:A,61:gt,62:L,63:Dt,64:ue,65:qt,66:ut,67:Ct,68:vt,69:xt,70:Ot,71:Ht,72:ft,73:_e,74:et,75:it,76:dt,77:Q,78:G,79:U,80:yt,81:B,82:It,83:rt,84:Ae},{23:82,29:29,30:30,31:31,32:x,33:k,34:O,36:I,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:st,50:lt,51:tt,53:32,54:at,55:q,56:z,57:$,58:N,59:j,60:A,61:gt,62:L,63:Dt,64:ue,65:qt,66:ut,67:Ct,68:vt,69:xt,70:Ot,71:Ht,72:ft,73:_e,74:et,75:it,76:dt,77:Q,78:G,79:U,80:yt,81:B,82:It,83:rt,84:Ae},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(bt,[2,20],{53:32,39:58,40:70,42:71,30:87,44:Y,46:V,47:X,48:J,49:st,50:lt,51:tt,54:at,55:q,56:z,57:$,58:N,59:j,60:A,61:gt,62:L,63:Dt,64:ue,65:qt,66:ut,67:Ct,68:vt,69:xt,70:Ot,71:Ht,72:ft,73:_e,74:et,75:it,76:dt,77:Q,78:G,79:U,80:yt,81:B,82:It,83:rt,84:Ae}),t(bt,[2,21]),t(de,[2,23],{15:[1,88]}),t(bt,[2,43],{15:[1,89]}),t(Jt,[2,26]),t(Jt,[2,27]),{35:[1,90]},{37:[1,91]},t(Jt,[2,30]),{45:92,85:93,86:$t,87:te,89:Xt,90:Ft},{45:98,85:93,86:$t,87:te,89:Xt,90:Ft},{45:99,85:93,86:$t,87:te,89:Xt,90:Ft},{45:100,85:93,86:$t,87:te,89:Xt,90:Ft},{45:101,85:93,86:$t,87:te,89:Xt,90:Ft},{45:102,85:93,86:$t,87:te,89:Xt,90:Ft},{45:103,85:93,86:$t,87:te,89:Xt,90:Ft},{45:104,85:93,86:$t,87:te,89:Xt,90:Ft},{45:105,85:93,86:$t,87:te,89:Xt,90:Ft},{45:106,85:93,86:$t,87:te,89:Xt,90:Ft},{45:107,85:93,86:$t,87:te,89:Xt,90:Ft},{45:108,85:93,86:$t,87:te,89:Xt,90:Ft},{45:109,85:93,86:$t,87:te,89:Xt,90:Ft},{45:110,85:93,86:$t,87:te,89:Xt,90:Ft},{45:111,85:93,86:$t,87:te,89:Xt,90:Ft},{45:112,85:93,86:$t,87:te,89:Xt,90:Ft},{45:113,85:93,86:$t,87:te,89:Xt,90:Ft},{45:114,85:93,86:$t,87:te,89:Xt,90:Ft},{45:115,85:93,86:$t,87:te,89:Xt,90:Ft},{45:116,85:93,86:$t,87:te,89:Xt,90:Ft},t(wt,[2,66]),{45:117,85:93,86:$t,87:te,89:Xt,90:Ft},{45:118,85:93,86:$t,87:te,89:Xt,90:Ft},{45:119,85:93,86:$t,87:te,89:Xt,90:Ft},{45:120,85:93,86:$t,87:te,89:Xt,90:Ft},{45:121,85:93,86:$t,87:te,89:Xt,90:Ft},{45:122,85:93,86:$t,87:te,89:Xt,90:Ft},{45:123,85:93,86:$t,87:te,89:Xt,90:Ft},{45:124,85:93,86:$t,87:te,89:Xt,90:Ft},{45:125,85:93,86:$t,87:te,89:Xt,90:Ft},{45:126,85:93,86:$t,87:te,89:Xt,90:Ft},{45:127,85:93,86:$t,87:te,89:Xt,90:Ft},{30:128,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:st,50:lt,51:tt,53:32,54:at,55:q,56:z,57:$,58:N,59:j,60:A,61:gt,62:L,63:Dt,64:ue,65:qt,66:ut,67:Ct,68:vt,69:xt,70:Ot,71:Ht,72:ft,73:_e,74:et,75:it,76:dt,77:Q,78:G,79:U,80:yt,81:B,82:It,83:rt,84:Ae},{15:[1,130],43:[1,129]},{45:131,85:93,86:$t,87:te,89:Xt,90:Ft},{45:132,85:93,86:$t,87:te,89:Xt,90:Ft},{45:133,85:93,86:$t,87:te,89:Xt,90:Ft},{45:134,85:93,86:$t,87:te,89:Xt,90:Ft},{45:135,85:93,86:$t,87:te,89:Xt,90:Ft},{45:136,85:93,86:$t,87:te,89:Xt,90:Ft},{45:137,85:93,86:$t,87:te,89:Xt,90:Ft},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(dn,[2,9]),{14:142,21:b},{21:[2,13]},{1:[2,15]},t(bt,[2,22]),t(de,[2,24],{31:31,29:143,32:x,33:k,34:O,36:I,38:R}),t(bt,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:x,33:k,34:O,36:I,38:R,44:Y,46:V,47:X,48:J,49:st,50:lt,51:tt,54:at,55:q,56:z,57:$,58:N,59:j,60:A,61:gt,62:L,63:Dt,64:ue,65:qt,66:ut,67:Ct,68:vt,69:xt,70:Ot,71:Ht,72:ft,73:_e,74:et,75:it,76:dt,77:Q,78:G,79:U,80:yt,81:B,82:It,83:rt,84:Ae}),t(Jt,[2,28]),t(Jt,[2,29]),t(wt,[2,46]),t(We,[2,78],{85:93,45:145,86:$t,87:te,89:Xt,90:Ft}),t(Ue,[2,80]),{88:[1,146]},t(Ue,[2,82]),t(Ue,[2,83]),t(wt,[2,47]),t(wt,[2,48]),t(wt,[2,49]),t(wt,[2,50]),t(wt,[2,51]),t(wt,[2,52]),t(wt,[2,53]),t(wt,[2,54]),t(wt,[2,55]),t(wt,[2,56]),t(wt,[2,57]),t(wt,[2,58]),t(wt,[2,59]),t(wt,[2,60]),t(wt,[2,61]),t(wt,[2,62]),t(wt,[2,63]),t(wt,[2,64]),t(wt,[2,65]),t(wt,[2,67]),t(wt,[2,68]),t(wt,[2,69]),t(wt,[2,70]),t(wt,[2,71]),t(wt,[2,72]),t(wt,[2,73]),t(wt,[2,74]),t(wt,[2,75]),t(wt,[2,76]),t(wt,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(je,[2,35]),t(je,[2,36]),t(je,[2,37]),t(je,[2,38]),t(je,[2,39]),t(je,[2,40]),t(je,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t(de,[2,25]),t(bt,[2,45]),t(We,[2,79]),t(Ue,[2,81]),t(wt,[2,31]),t(wt,[2,42]),t(Ve,[2,32]),t(Ve,[2,33],{15:[1,152]}),t(dn,[2,10]),t(Ve,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(Wt,Bt){if(Bt.recoverable)this.trace(Wt);else{var oe=new Error(Wt);throw oe.hash=Bt,oe}},parse:function(Wt){var Bt=this,oe=[0],zt=[],Oe=[null],Et=[],on=this.table,Rt="",nn=0,vn=0,Cn=2,Sn=1,On=Et.slice.call(arguments,1),ze=Object.create(this.lexer),ln={yy:{}};for(var wn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,wn)&&(ln.yy[wn]=this.yy[wn]);ze.setInput(Wt,ln.yy),ln.yy.lexer=ze,ln.yy.parser=this,typeof ze.yylloc=="undefined"&&(ze.yylloc={});var Ze=ze.yylloc;Et.push(Ze);var Xs=ze.options&&ze.options.ranges;typeof ln.yy.parseError=="function"?this.parseError=ln.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function is(){var pt;return pt=zt.pop()||ze.lex()||Sn,typeof pt!="number"&&(pt instanceof Array&&(zt=pt,pt=zt.pop()),pt=Bt.symbols_[pt]||pt),pt}for(var nr,cn,hr,pr,mr={},yr,dr,Nr,qr;;){if(cn=oe[oe.length-1],this.defaultActions[cn]?hr=this.defaultActions[cn]:((nr===null||typeof nr=="undefined")&&(nr=is()),hr=on[cn]&&on[cn][nr]),typeof hr=="undefined"||!hr.length||!hr[0]){var Me="";qr=[];for(yr in on[cn])this.terminals_[yr]&&yr>Cn&&qr.push("'"+this.terminals_[yr]+"'");ze.showPosition?Me="Parse error on line "+(nn+1)+`:
`+ze.showPosition()+`
Expecting `+qr.join(", ")+", got '"+(this.terminals_[nr]||nr)+"'":Me="Parse error on line "+(nn+1)+": Unexpected "+(nr==Sn?"end of input":"'"+(this.terminals_[nr]||nr)+"'"),this.parseError(Me,{text:ze.match,token:this.terminals_[nr]||nr,line:ze.yylineno,loc:Ze,expected:qr})}if(hr[0]instanceof Array&&hr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+cn+", token: "+nr);switch(hr[0]){case 1:oe.push(nr),Oe.push(ze.yytext),Et.push(ze.yylloc),oe.push(hr[1]),nr=null,vn=ze.yyleng,Rt=ze.yytext,nn=ze.yylineno,Ze=ze.yylloc;break;case 2:if(dr=this.productions_[hr[1]][1],mr.$=Oe[Oe.length-dr],mr._$={first_line:Et[Et.length-(dr||1)].first_line,last_line:Et[Et.length-1].last_line,first_column:Et[Et.length-(dr||1)].first_column,last_column:Et[Et.length-1].last_column},Xs&&(mr._$.range=[Et[Et.length-(dr||1)].range[0],Et[Et.length-1].range[1]]),pr=this.performAction.apply(mr,[Rt,vn,nn,ln.yy,hr[1],Oe,Et].concat(On)),typeof pr!="undefined")return pr;dr&&(oe=oe.slice(0,-1*dr*2),Oe=Oe.slice(0,-1*dr),Et=Et.slice(0,-1*dr)),oe.push(this.productions_[hr[1]][0]),Oe.push(mr.$),Et.push(mr._$),Nr=on[oe[oe.length-2]][oe[oe.length-1]],oe.push(Nr);break;case 3:return!0}}return!0}},Fe=function(){var Ee={EOF:1,parseError:function(Bt,oe){if(this.yy.parser)this.yy.parser.parseError(Bt,oe);else throw new Error(Bt)},setInput:function(Wt,Bt){return this.yy=Bt||this.yy||{},this._input=Wt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Wt=this._input[0];this.yytext+=Wt,this.yyleng++,this.offset++,this.match+=Wt,this.matched+=Wt;var Bt=Wt.match(/(?:\r\n?|\n).*/g);return Bt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Wt},unput:function(Wt){var Bt=Wt.length,oe=Wt.split(/(?:\r\n?|\n)/g);this._input=Wt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Bt),this.offset-=Bt;var zt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var Oe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===zt.length?this.yylloc.first_column:0)+zt[zt.length-oe.length].length-oe[0].length:this.yylloc.first_column-Bt},this.options.ranges&&(this.yylloc.range=[Oe[0],Oe[0]+this.yyleng-Bt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Wt){this.unput(this.match.slice(Wt))},pastInput:function(){var Wt=this.matched.substr(0,this.matched.length-this.match.length);return(Wt.length>20?"...":"")+Wt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Wt=this.match;return Wt.length<20&&(Wt+=this._input.substr(0,20-Wt.length)),(Wt.substr(0,20)+(Wt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Wt=this.pastInput(),Bt=new Array(Wt.length+1).join("-");return Wt+this.upcomingInput()+`
`+Bt+"^"},test_match:function(Wt,Bt){var oe,zt,Oe;if(this.options.backtrack_lexer&&(Oe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Oe.yylloc.range=this.yylloc.range.slice(0))),zt=Wt[0].match(/(?:\r\n?|\n).*/g),zt&&(this.yylineno+=zt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:zt?zt[zt.length-1].length-zt[zt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Wt[0].length},this.yytext+=Wt[0],this.match+=Wt[0],this.matches=Wt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Wt[0].length),this.matched+=Wt[0],oe=this.performAction.call(this,this.yy,this,Bt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var Et in Oe)this[Et]=Oe[Et];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Wt,Bt,oe,zt;this._more||(this.yytext="",this.match="");for(var Oe=this._currentRules(),Et=0;Et<Oe.length;Et++)if(oe=this._input.match(this.rules[Oe[Et]]),oe&&(!Bt||oe[0].length>Bt[0].length)){if(Bt=oe,zt=Et,this.options.backtrack_lexer){if(Wt=this.test_match(oe,Oe[Et]),Wt!==!1)return Wt;if(this._backtrack){Bt=!1;continue}else return!1}else if(!this.options.flex)break}return Bt?(Wt=this.test_match(Bt,Oe[zt]),Wt!==!1?Wt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Bt=this.next();return Bt||this.lex()},begin:function(Bt){this.conditionStack.push(Bt)},popState:function(){var Bt=this.conditionStack.length-1;return Bt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Bt){return Bt=this.conditionStack.length-1-Math.abs(Bt||0),Bt>=0?this.conditionStack[Bt]:"INITIAL"},pushState:function(Bt){this.begin(Bt)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Bt,oe,zt,Oe){switch(zt){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return Ee}();Un.lexer=Fe;function Le(){this.yy={}}return Le.prototype=Un,Un.Parser=Le,new Le}();L1.parser=L1;const GB=L1,XB=t=>t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let Us=[],Bo=[""],Fi="global",zs="",ya=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Ch=[],_m="",bm=!1,O1=4,M1=2;var e5;const KB=function(){return e5},ZB=function(t){e5=Ds(t,ht())},QB=function(t,e,n){Tr.parseDirective(this,t,e,n)},JB=function(t,e,n,i,s,o,l,h,f){if(t==null||e===void 0||e===null||n===void 0||n===null||i===void 0||i===null)return;let g={};const y=Ch.find(b=>b.from===e&&b.to===n);if(y?g=y:Ch.push(g),g.type=t,g.from=e,g.to=n,g.label={text:i},s==null)g.techn={text:""};else if(typeof s=="object"){let[b,x]=Object.entries(s)[0];g[b]={text:x}}else g.techn={text:s};if(o==null)g.descr={text:""};else if(typeof o=="object"){let[b,x]=Object.entries(o)[0];g[b]={text:x}}else g.descr={text:o};if(typeof l=="object"){let[b,x]=Object.entries(l)[0];g[b]=x}else g.sprite=l;if(typeof h=="object"){let[b,x]=Object.entries(h)[0];g[b]=x}else g.tags=h;if(typeof f=="object"){let[b,x]=Object.entries(f)[0];g[b]=x}else g.link=f;g.wrap=Fo()},tF=function(t,e,n,i,s,o,l){if(e===null||n===null)return;let h={};const f=Us.find(g=>g.alias===e);if(f&&e===f.alias?h=f:(h.alias=e,Us.push(h)),n==null?h.label={text:""}:h.label={text:n},i==null)h.descr={text:""};else if(typeof i=="object"){let[g,y]=Object.entries(i)[0];h[g]={text:y}}else h.descr={text:i};if(typeof s=="object"){let[g,y]=Object.entries(s)[0];h[g]=y}else h.sprite=s;if(typeof o=="object"){let[g,y]=Object.entries(o)[0];h[g]=y}else h.tags=o;if(typeof l=="object"){let[g,y]=Object.entries(l)[0];h[g]=y}else h.link=l;h.typeC4Shape={text:t},h.parentBoundary=Fi,h.wrap=Fo()},eF=function(t,e,n,i,s,o,l,h){if(e===null||n===null)return;let f={};const g=Us.find(y=>y.alias===e);if(g&&e===g.alias?f=g:(f.alias=e,Us.push(f)),n==null?f.label={text:""}:f.label={text:n},i==null)f.techn={text:""};else if(typeof i=="object"){let[y,b]=Object.entries(i)[0];f[y]={text:b}}else f.techn={text:i};if(s==null)f.descr={text:""};else if(typeof s=="object"){let[y,b]=Object.entries(s)[0];f[y]={text:b}}else f.descr={text:s};if(typeof o=="object"){let[y,b]=Object.entries(o)[0];f[y]=b}else f.sprite=o;if(typeof l=="object"){let[y,b]=Object.entries(l)[0];f[y]=b}else f.tags=l;if(typeof h=="object"){let[y,b]=Object.entries(h)[0];f[y]=b}else f.link=h;f.wrap=Fo(),f.typeC4Shape={text:t},f.parentBoundary=Fi},nF=function(t,e,n,i,s,o,l,h){if(e===null||n===null)return;let f={};const g=Us.find(y=>y.alias===e);if(g&&e===g.alias?f=g:(f.alias=e,Us.push(f)),n==null?f.label={text:""}:f.label={text:n},i==null)f.techn={text:""};else if(typeof i=="object"){let[y,b]=Object.entries(i)[0];f[y]={text:b}}else f.techn={text:i};if(s==null)f.descr={text:""};else if(typeof s=="object"){let[y,b]=Object.entries(s)[0];f[y]={text:b}}else f.descr={text:s};if(typeof o=="object"){let[y,b]=Object.entries(o)[0];f[y]=b}else f.sprite=o;if(typeof l=="object"){let[y,b]=Object.entries(l)[0];f[y]=b}else f.tags=l;if(typeof h=="object"){let[y,b]=Object.entries(h)[0];f[y]=b}else f.link=h;f.wrap=Fo(),f.typeC4Shape={text:t},f.parentBoundary=Fi},rF=function(t,e,n,i,s){if(t===null||e===null)return;let o={};const l=ya.find(h=>h.alias===t);if(l&&t===l.alias?o=l:(o.alias=t,ya.push(o)),e==null?o.label={text:""}:o.label={text:e},n==null)o.type={text:"system"};else if(typeof n=="object"){let[h,f]=Object.entries(n)[0];o[h]={text:f}}else o.type={text:n};if(typeof i=="object"){let[h,f]=Object.entries(i)[0];o[h]=f}else o.tags=i;if(typeof s=="object"){let[h,f]=Object.entries(s)[0];o[h]=f}else o.link=s;o.parentBoundary=Fi,o.wrap=Fo(),zs=Fi,Fi=t,Bo.push(zs)},iF=function(t,e,n,i,s){if(t===null||e===null)return;let o={};const l=ya.find(h=>h.alias===t);if(l&&t===l.alias?o=l:(o.alias=t,ya.push(o)),e==null?o.label={text:""}:o.label={text:e},n==null)o.type={text:"container"};else if(typeof n=="object"){let[h,f]=Object.entries(n)[0];o[h]={text:f}}else o.type={text:n};if(typeof i=="object"){let[h,f]=Object.entries(i)[0];o[h]=f}else o.tags=i;if(typeof s=="object"){let[h,f]=Object.entries(s)[0];o[h]=f}else o.link=s;o.parentBoundary=Fi,o.wrap=Fo(),zs=Fi,Fi=t,Bo.push(zs)},sF=function(t,e,n,i,s,o,l,h){if(e===null||n===null)return;let f={};const g=ya.find(y=>y.alias===e);if(g&&e===g.alias?f=g:(f.alias=e,ya.push(f)),n==null?f.label={text:""}:f.label={text:n},i==null)f.type={text:"node"};else if(typeof i=="object"){let[y,b]=Object.entries(i)[0];f[y]={text:b}}else f.type={text:i};if(s==null)f.descr={text:""};else if(typeof s=="object"){let[y,b]=Object.entries(s)[0];f[y]={text:b}}else f.descr={text:s};if(typeof l=="object"){let[y,b]=Object.entries(l)[0];f[y]=b}else f.tags=l;if(typeof h=="object"){let[y,b]=Object.entries(h)[0];f[y]=b}else f.link=h;f.nodeType=t,f.parentBoundary=Fi,f.wrap=Fo(),zs=Fi,Fi=e,Bo.push(zs)},aF=function(){Fi=zs,Bo.pop(),zs=Bo.pop(),Bo.push(zs)},oF=function(t,e,n,i,s,o,l,h,f,g,y){let b=Us.find(x=>x.alias===e);if(!(b===void 0&&(b=ya.find(x=>x.alias===e),b===void 0))){if(n!=null)if(typeof n=="object"){let[x,k]=Object.entries(n)[0];b[x]=k}else b.bgColor=n;if(i!=null)if(typeof i=="object"){let[x,k]=Object.entries(i)[0];b[x]=k}else b.fontColor=i;if(s!=null)if(typeof s=="object"){let[x,k]=Object.entries(s)[0];b[x]=k}else b.borderColor=s;if(o!=null)if(typeof o=="object"){let[x,k]=Object.entries(o)[0];b[x]=k}else b.shadowing=o;if(l!=null)if(typeof l=="object"){let[x,k]=Object.entries(l)[0];b[x]=k}else b.shape=l;if(h!=null)if(typeof h=="object"){let[x,k]=Object.entries(h)[0];b[x]=k}else b.sprite=h;if(f!=null)if(typeof f=="object"){let[x,k]=Object.entries(f)[0];b[x]=k}else b.techn=f;if(g!=null)if(typeof g=="object"){let[x,k]=Object.entries(g)[0];b[x]=k}else b.legendText=g;if(y!=null)if(typeof y=="object"){let[x,k]=Object.entries(y)[0];b[x]=k}else b.legendSprite=y}},lF=function(t,e,n,i,s,o,l){const h=Ch.find(f=>f.from===e&&f.to===n);if(h!==void 0){if(i!=null)if(typeof i=="object"){let[f,g]=Object.entries(i)[0];h[f]=g}else h.textColor=i;if(s!=null)if(typeof s=="object"){let[f,g]=Object.entries(s)[0];h[f]=g}else h.lineColor=s;if(o!=null)if(typeof o=="object"){let[f,g]=Object.entries(o)[0];h[f]=parseInt(g)}else h.offsetX=parseInt(o);if(l!=null)if(typeof l=="object"){let[f,g]=Object.entries(l)[0];h[f]=parseInt(g)}else h.offsetY=parseInt(l)}},cF=function(t,e,n){let i=O1,s=M1;if(typeof e=="object"){const o=Object.values(e)[0];i=parseInt(o)}else i=parseInt(e);if(typeof n=="object"){const o=Object.values(n)[0];s=parseInt(o)}else s=parseInt(n);i>=1&&(O1=i),s>=1&&(M1=s)},uF=function(){return O1},hF=function(){return M1},dF=function(){return Fi},fF=function(){return zs},n5=function(t){return t==null?Us:Us.filter(e=>e.parentBoundary===t)},pF=function(t){return Us.find(e=>e.alias===t)},gF=function(t){return Object.keys(n5(t))},mF=function(t){return t==null?ya:ya.filter(e=>e.parentBoundary===t)},yF=function(){return Ch},_F=function(){return _m},bF=function(t){bm=t},Fo=function(){return bm},r5={addPersonOrSystem:tF,addPersonOrSystemBoundary:rF,addContainer:eF,addContainerBoundary:iF,addComponent:nF,addDeploymentNode:sF,popBoundaryParseStack:aF,addRel:JB,updateElStyle:oF,updateRelStyle:lF,updateLayoutConfig:cF,autoWrap:Fo,setWrap:bF,getC4ShapeArray:n5,getC4Shape:pF,getC4ShapeKeys:gF,getBoundarys:mF,getCurrentBoundaryParse:dF,getParentBoundaryParse:fF,getRels:yF,getTitle:_F,getC4Type:KB,getC4ShapeInRow:uF,getC4BoundaryInRow:hF,setAccTitle:vs,getAccTitle:Vs,getAccDescription:Ys,setAccDescription:$s,parseDirective:QB,getConfig:()=>ht().c4,clear:function(){Us=[],ya=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],zs="",Fi="global",Bo=[""],Ch=[],Bo=[""],_m="",bm=!1,O1=4,M1=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(t){_m=Ds(t,ht())},setC4Type:ZB},vm=function(t,e){const n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.attrs!=="undefined"&&e.attrs!==null)for(let i in e.attrs)n.attr(i,e.attrs[i]);return e.class!=="undefined"&&n.attr("class",e.class),n},i5=function(t,e,n,i,s,o){const l=t.append("image");l.attr("width",e),l.attr("height",n),l.attr("x",i),l.attr("y",s);let h=o.startsWith("data:image/png;base64")?o:ot(o);l.attr("xlink:href",h)},vF=(t,e,n)=>{const i=t.append("g");let s=0;for(let o of e){let l=o.textColor?o.textColor:"#444444",h=o.lineColor?o.lineColor:"#444444",f=o.offsetX?parseInt(o.offsetX):0,g=o.offsetY?parseInt(o.offsetY):0,y="";if(s===0){let x=i.append("line");x.attr("x1",o.startPoint.x),x.attr("y1",o.startPoint.y),x.attr("x2",o.endPoint.x),x.attr("y2",o.endPoint.y),x.attr("stroke-width","1"),x.attr("stroke",h),x.style("fill","none"),o.type!=="rel_b"&&x.attr("marker-end","url("+y+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&x.attr("marker-start","url("+y+"#arrowend)"),s=-1}else{let x=i.append("path");x.attr("fill","none").attr("stroke-width","1").attr("stroke",h).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",o.startPoint.x).replaceAll("starty",o.startPoint.y).replaceAll("controlx",o.startPoint.x+(o.endPoint.x-o.startPoint.x)/2-(o.endPoint.x-o.startPoint.x)/4).replaceAll("controly",o.startPoint.y+(o.endPoint.y-o.startPoint.y)/2).replaceAll("stopx",o.endPoint.x).replaceAll("stopy",o.endPoint.y)),o.type!=="rel_b"&&x.attr("marker-end","url("+y+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&x.attr("marker-start","url("+y+"#arrowend)")}let b=n.messageFont();Ka(n)(o.label.text,i,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+f,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+g,o.label.width,o.label.height,{fill:l},b),o.techn&&o.techn.text!==""&&(b=n.messageFont(),Ka(n)("["+o.techn.text+"]",i,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+f,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+n.messageFontSize+5+g,Math.max(o.label.width,o.techn.width),o.techn.height,{fill:l,"font-style":"italic"},b))}},xF=function(t,e,n){const i=t.append("g");let s=e.bgColor?e.bgColor:"none",o=e.borderColor?e.borderColor:"#444444",l=e.fontColor?e.fontColor:"black",h={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(h={"stroke-width":1});let f={x:e.x,y:e.y,fill:s,stroke:o,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:h};vm(i,f);let g=n.boundaryFont();g.fontWeight="bold",g.fontSize=g.fontSize+2,g.fontColor=l,Ka(n)(e.label.text,i,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},g),e.type&&e.type.text!==""&&(g=n.boundaryFont(),g.fontColor=l,Ka(n)(e.type.text,i,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},g)),e.descr&&e.descr.text!==""&&(g=n.boundaryFont(),g.fontSize=g.fontSize-2,g.fontColor=l,Ka(n)(e.descr.text,i,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},g))},kF=function(t,e,n){let i=e.bgColor?e.bgColor:n[e.typeC4Shape.text+"_bg_color"],s=e.borderColor?e.borderColor:n[e.typeC4Shape.text+"_border_color"],o=e.fontColor?e.fontColor:"#FFFFFF",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const h=t.append("g");h.attr("class","person-man");const f=s5();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":f.x=e.x,f.y=e.y,f.fill=i,f.width=e.width,f.height=e.height,f.style="stroke:"+s+";stroke-width:0.5;",f.rx=2.5,f.ry=2.5,vm(h,f);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":h.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),h.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":h.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),h.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let g=MF(n,e.typeC4Shape.text);switch(h.append("text").attr("fill",o).attr("font-family",g.fontFamily).attr("font-size",g.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":i5(h,48,48,e.x+e.width/2-24,e.y+e.image.Y,l);break}let y=n[e.typeC4Shape.text+"Font"]();return y.fontWeight="bold",y.fontSize=y.fontSize+2,y.fontColor=o,Ka(n)(e.label.text,h,e.x,e.y+e.label.Y,e.width,e.height,{fill:o},y),y=n[e.typeC4Shape.text+"Font"](),y.fontColor=o,e.thchn&&e.thchn.text!==""?Ka(n)(e.thchn.text,h,e.x,e.y+e.thchn.Y,e.width,e.height,{fill:o,"font-style":"italic"},y):e.type&&e.type.text!==""&&Ka(n)(e.type.text,h,e.x,e.y+e.type.Y,e.width,e.height,{fill:o,"font-style":"italic"},y),e.descr&&e.descr.text!==""&&(y=n.personFont(),y.fontColor=o,Ka(n)(e.descr.text,h,e.x,e.y+e.descr.Y,e.width,e.height,{fill:o},y)),e.height},wF=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},TF=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},EF=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},CF=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},SF=function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},AF=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},LF=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},OF=function(t){const n=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);n.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},s5=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},MF=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),Ka=function(){function t(s,o,l,h,f,g,y){const b=o.append("text").attr("x",l+f/2).attr("y",h+g/2+5).style("text-anchor","middle").text(s);i(b,y)}function e(s,o,l,h,f,g,y,b){const{fontSize:x,fontFamily:k,fontWeight:O}=b,I=s.split(gn.lineBreakRegex);for(let R=0;R<I.length;R++){const Y=R*x-x*(I.length-1)/2,V=o.append("text").attr("x",l+f/2).attr("y",h).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",x).style("font-weight",O).style("font-family",k);V.append("tspan").attr("dy",Y).text(I[R]).attr("alignment-baseline","mathematical"),i(V,y)}}function n(s,o,l,h,f,g,y,b){const x=o.append("switch"),O=x.append("foreignObject").attr("x",l).attr("y",h).attr("width",f).attr("height",g).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");O.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),e(s,x,l,h,f,g,y,b),i(O,y)}function i(s,o){for(const l in o)o.hasOwnProperty(l)&&s.attr(l,o[l])}return function(s){return s.textPlacement==="fo"?n:s.textPlacement==="old"?t:e}}(),_a={drawRect:vm,drawBoundary:xF,drawC4Shape:kF,drawRels:vF,drawImage:i5,insertArrowHead:CF,insertArrowEnd:SF,insertArrowFilledHead:AF,insertDynamicNumber:LF,insertArrowCrossHead:OF,insertDatabaseIcon:wF,insertComputerIcon:TF,insertClockIcon:EF,getNoteRect:s5,sanitizeUrl:ot};let N1=0,D1=0,a5=4,xm=2;L1.yy=r5;let qe={};class o5{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,km(e.db.getConfig())}setData(e,n,i,s){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=n,this.nextData.starty=this.data.starty=i,this.nextData.stopy=this.data.stopy=s}updateVal(e,n,i,s){e[n]===void 0?e[n]=i:e[n]=s(i,e[n])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let n=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,i=n+e.width,s=this.nextData.starty+e.margin*2,o=s+e.height;(n>=this.data.widthLimit||i>=this.data.widthLimit||this.nextData.cnt>a5)&&(n=this.nextData.startx+e.margin+qe.nextLinePaddingX,s=this.nextData.stopy+e.margin*2,this.nextData.stopx=i=n+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=s+e.height,this.nextData.cnt=1),e.x=n,e.y=s,this.updateVal(this.data,"startx",n,Math.min),this.updateVal(this.data,"starty",s,Math.min),this.updateVal(this.data,"stopx",i,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",n,Math.min),this.updateVal(this.nextData,"starty",s,Math.min),this.updateVal(this.nextData,"stopx",i,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},km(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}}const km=function(t){li(qe,t),t.fontFamily&&(qe.personFontFamily=qe.systemFontFamily=qe.messageFontFamily=t.fontFamily),t.fontSize&&(qe.personFontSize=qe.systemFontSize=qe.messageFontSize=t.fontSize),t.fontWeight&&(qe.personFontWeight=qe.systemFontWeight=qe.messageFontWeight=t.fontWeight)},Sh=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),I1=t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),NF=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight});function Hs(t,e,n,i,s){if(!e[t].width)if(n)e[t].text=x3(e[t].text,s,i),e[t].textLines=e[t].text.split(gn.lineBreakRegex).length,e[t].width=s,e[t].height=em(e[t].text,i);else{let o=e[t].text.split(gn.lineBreakRegex);e[t].textLines=o.length;let l=0;e[t].height=0,e[t].width=0;for(const h of o)e[t].width=Math.max(ma(h,i),e[t].width),l=em(h,i),e[t].height=e[t].height+l}}const l5=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=qe.c4ShapeMargin-35;let i=e.wrap&&qe.wrap,s=I1(qe);s.fontSize=s.fontSize+2,s.fontWeight="bold";let o=ma(e.label.text,s);Hs("label",e,i,s,o),_a.drawBoundary(t,e,qe)},c5=function(t,e,n,i){let s=0;for(const o of i){s=0;const l=n[o];let h=Sh(qe,l.typeC4Shape.text);switch(h.fontSize=h.fontSize-2,l.typeC4Shape.width=ma("<<"+l.typeC4Shape.text+">>",h),l.typeC4Shape.height=h.fontSize+2,l.typeC4Shape.Y=qe.c4ShapePadding,s=l.typeC4Shape.Y+l.typeC4Shape.height-4,l.image={width:0,height:0,Y:0},l.typeC4Shape.text){case"person":case"external_person":l.image.width=48,l.image.height=48,l.image.Y=s,s=l.image.Y+l.image.height;break}l.sprite&&(l.image.width=48,l.image.height=48,l.image.Y=s,s=l.image.Y+l.image.height);let f=l.wrap&&qe.wrap,g=qe.width-qe.c4ShapePadding*2,y=Sh(qe,l.typeC4Shape.text);if(y.fontSize=y.fontSize+2,y.fontWeight="bold",Hs("label",l,f,y,g),l.label.Y=s+8,s=l.label.Y+l.label.height,l.type&&l.type.text!==""){l.type.text="["+l.type.text+"]";let k=Sh(qe,l.typeC4Shape.text);Hs("type",l,f,k,g),l.type.Y=s+5,s=l.type.Y+l.type.height}else if(l.techn&&l.techn.text!==""){l.techn.text="["+l.techn.text+"]";let k=Sh(qe,l.techn.text);Hs("techn",l,f,k,g),l.techn.Y=s+5,s=l.techn.Y+l.techn.height}let b=s,x=l.label.width;if(l.descr&&l.descr.text!==""){let k=Sh(qe,l.typeC4Shape.text);Hs("descr",l,f,k,g),l.descr.Y=s+20,s=l.descr.Y+l.descr.height,x=Math.max(l.label.width,l.descr.width),b=s-l.descr.textLines*5}x=x+qe.c4ShapePadding,l.width=Math.max(l.width||qe.width,x,qe.width),l.height=Math.max(l.height||qe.height,b,qe.height),l.margin=l.margin||qe.c4ShapeMargin,t.insert(l),_a.drawC4Shape(e,l,qe)}t.bumpLastMargin(qe.c4ShapeMargin)};class xs{constructor(e,n){this.x=e,this.y=n}}let u5=function(t,e){let n=t.x,i=t.y,s=e.x,o=e.y,l=n+t.width/2,h=i+t.height/2,f=Math.abs(n-s),g=Math.abs(i-o),y=g/f,b=t.height/t.width,x=null;return i==o&&n<s?x=new xs(n+t.width,h):i==o&&n>s?x=new xs(n,h):n==s&&i<o?x=new xs(l,i+t.height):n==s&&i>o&&(x=new xs(l,i)),n>s&&i<o?b>=y?x=new xs(n,h+y*t.width/2):x=new xs(l-f/g*t.height/2,i+t.height):n<s&&i<o?b>=y?x=new xs(n+t.width,h+y*t.width/2):x=new xs(l+f/g*t.height/2,i+t.height):n<s&&i>o?b>=y?x=new xs(n+t.width,h-y*t.width/2):x=new xs(l+t.height/2*f/g,i):n>s&&i>o&&(b>=y?x=new xs(n,h-t.width/2*y):x=new xs(l-t.height/2*f/g,i)),x},DF=function(t,e){let n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;let i=u5(t,n);n.x=t.x+t.width/2,n.y=t.y+t.height/2;let s=u5(e,n);return{startPoint:i,endPoint:s}};const IF=function(t,e,n,i){let s=0;for(let o of e){s=s+1;let l=o.wrap&&qe.wrap,h=NF(qe);i.db.getC4Type()==="C4Dynamic"&&(o.label.text=s+": "+o.label.text);let g=ma(o.label.text,h);Hs("label",o,l,h,g),o.techn&&o.techn.text!==""&&(g=ma(o.techn.text,h),Hs("techn",o,l,h,g)),o.descr&&o.descr.text!==""&&(g=ma(o.descr.text,h),Hs("descr",o,l,h,g));let y=n(o.from),b=n(o.to),x=DF(y,b);o.startPoint=x.startPoint,o.endPoint=x.endPoint}_a.drawRels(t,e,qe)};function h5(t,e,n,i,s){let o=new o5(s);o.data.widthLimit=n.data.widthLimit/Math.min(xm,i.length);for(let[l,h]of i.entries()){let f=0;h.image={width:0,height:0,Y:0},h.sprite&&(h.image.width=48,h.image.height=48,h.image.Y=f,f=h.image.Y+h.image.height);let g=h.wrap&&qe.wrap,y=I1(qe);if(y.fontSize=y.fontSize+2,y.fontWeight="bold",Hs("label",h,g,y,o.data.widthLimit),h.label.Y=f+8,f=h.label.Y+h.label.height,h.type&&h.type.text!==""){h.type.text="["+h.type.text+"]";let O=I1(qe);Hs("type",h,g,O,o.data.widthLimit),h.type.Y=f+5,f=h.type.Y+h.type.height}if(h.descr&&h.descr.text!==""){let O=I1(qe);O.fontSize=O.fontSize-2,Hs("descr",h,g,O,o.data.widthLimit),h.descr.Y=f+20,f=h.descr.Y+h.descr.height}if(l==0||l%xm===0){let O=n.data.startx+qe.diagramMarginX,I=n.data.stopy+qe.diagramMarginY+f;o.setData(O,O,I,I)}else{let O=o.data.stopx!==o.data.startx?o.data.stopx+qe.diagramMarginX:o.data.startx,I=o.data.starty;o.setData(O,O,I,I)}o.name=h.alias;let b=s.db.getC4ShapeArray(h.alias),x=s.db.getC4ShapeKeys(h.alias);x.length>0&&c5(o,t,b,x),e=h.alias;let k=s.db.getBoundarys(e);k.length>0&&h5(t,e,o,k,s),h.alias!=="global"&&l5(t,h,o),n.data.stopy=Math.max(o.data.stopy+qe.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(o.data.stopx+qe.c4ShapeMargin,n.data.stopx),N1=Math.max(N1,n.data.stopx),D1=Math.max(D1,n.data.stopy)}}const d5={drawPersonOrSystemArray:c5,drawBoundary:l5,setConf:km,draw:function(t,e,n,i){qe=ht().c4;const s=ht().securityLevel;let o;s==="sandbox"&&(o=re("#i"+e));const l=re(s==="sandbox"?o.nodes()[0].contentDocument.body:"body");let h=i.db;i.db.setWrap(qe.wrap),a5=h.getC4ShapeInRow(),xm=h.getC4BoundaryInRow(),E.debug(`C:${JSON.stringify(qe,null,2)}`);const f=s==="sandbox"?l.select(`[id="${e}"]`):re(`[id="${e}"]`);_a.insertComputerIcon(f),_a.insertDatabaseIcon(f),_a.insertClockIcon(f);let g=new o5(i);g.setData(qe.diagramMarginX,qe.diagramMarginX,qe.diagramMarginY,qe.diagramMarginY),g.data.widthLimit=screen.availWidth,N1=qe.diagramMarginX,D1=qe.diagramMarginY;const y=i.db.getTitle();let b=i.db.getBoundarys("");h5(f,"",g,b,i),_a.insertArrowHead(f),_a.insertArrowEnd(f),_a.insertArrowCrossHead(f),_a.insertArrowFilledHead(f),IF(f,i.db.getRels(),i.db.getC4Shape,i),g.data.stopx=N1,g.data.stopy=D1;const x=g.data;let O=x.stopy-x.starty+2*qe.diagramMarginY;const R=x.stopx-x.startx+2*qe.diagramMarginX;y&&f.append("text").text(y).attr("x",(x.stopx-x.startx)/2-4*qe.diagramMarginX).attr("y",x.starty+qe.diagramMarginY),Fs(f,O,R,qe.useMaxWidth);const Y=y?60:0;f.attr("viewBox",x.startx-qe.diagramMarginX+" -"+(qe.diagramMarginY+Y)+" "+R+" "+(O+Y)),E.debug("models:",x)}};var wm=function(){var t=function(Q,G,U,yt){for(U=U||{},yt=Q.length;yt--;U[Q[yt]]=G);return U},e=[1,3],n=[1,7],i=[1,8],s=[1,9],o=[1,10],l=[1,13],h=[1,12],f=[1,16,25],g=[1,20],y=[1,32],b=[1,33],x=[1,34],k=[1,36],O=[1,39],I=[1,37],R=[1,38],Y=[1,44],V=[1,45],X=[1,40],J=[1,41],st=[1,42],lt=[1,43],tt=[1,48],at=[1,49],q=[1,50],z=[1,51],$=[16,25],N=[1,65],j=[1,66],A=[1,67],gt=[1,68],L=[1,69],Dt=[1,70],ue=[1,71],qt=[1,80],ut=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],Ct=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],vt=[5,8,9,10,11,16,19,23,25],xt=[54,88,89,90,91],Ot=[54,65,66,88,89,90,91],Ht=[54,60,61,62,63,64,88,89,90,91],ft=[16,25,32],_e=[1,107],et={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(G,U,yt,B,It,rt,Ae){var bt=rt.length-1;switch(It){case 5:B.setDirection("TB");break;case 6:B.setDirection("BT");break;case 7:B.setDirection("RL");break;case 8:B.setDirection("LR");break;case 12:B.parseDirective("%%{","open_directive");break;case 13:B.parseDirective(rt[bt],"type_directive");break;case 14:rt[bt]=rt[bt].trim().replace(/'/g,'"'),B.parseDirective(rt[bt],"arg_directive");break;case 15:B.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=rt[bt];break;case 22:this.$=rt[bt-1]+rt[bt];break;case 23:case 24:this.$=rt[bt-1]+"~"+rt[bt];break;case 25:B.addRelation(rt[bt]);break;case 26:rt[bt-1].title=B.cleanupLabel(rt[bt]),B.addRelation(rt[bt-1]);break;case 35:this.$=rt[bt].trim(),B.setAccTitle(this.$);break;case 36:case 37:this.$=rt[bt].trim(),B.setAccDescription(this.$);break;case 38:B.addClass(rt[bt]);break;case 39:B.addClass(rt[bt-2]),B.setCssClass(rt[bt-2],rt[bt]);break;case 40:B.addClass(rt[bt-3]),B.addMembers(rt[bt-3],rt[bt-1]);break;case 41:B.addClass(rt[bt-5]),B.setCssClass(rt[bt-5],rt[bt-3]),B.addMembers(rt[bt-5],rt[bt-1]);break;case 42:B.addAnnotation(rt[bt],rt[bt-2]);break;case 43:this.$=[rt[bt]];break;case 44:rt[bt].push(rt[bt-1]),this.$=rt[bt];break;case 45:break;case 46:B.addMember(rt[bt-1],B.cleanupLabel(rt[bt]));break;case 47:break;case 48:break;case 49:this.$={id1:rt[bt-2],id2:rt[bt],relation:rt[bt-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:rt[bt-3],id2:rt[bt],relation:rt[bt-1],relationTitle1:rt[bt-2],relationTitle2:"none"};break;case 51:this.$={id1:rt[bt-3],id2:rt[bt],relation:rt[bt-2],relationTitle1:"none",relationTitle2:rt[bt-1]};break;case 52:this.$={id1:rt[bt-4],id2:rt[bt],relation:rt[bt-2],relationTitle1:rt[bt-3],relationTitle2:rt[bt-1]};break;case 53:B.addNote(rt[bt],rt[bt-1]);break;case 54:B.addNote(rt[bt]);break;case 55:this.$={type1:rt[bt-2],type2:rt[bt],lineType:rt[bt-1]};break;case 56:this.$={type1:"none",type2:rt[bt],lineType:rt[bt-1]};break;case 57:this.$={type1:rt[bt-1],type2:"none",lineType:rt[bt]};break;case 58:this.$={type1:"none",type2:"none",lineType:rt[bt]};break;case 59:this.$=B.relationType.AGGREGATION;break;case 60:this.$=B.relationType.EXTENSION;break;case 61:this.$=B.relationType.COMPOSITION;break;case 62:this.$=B.relationType.DEPENDENCY;break;case 63:this.$=B.relationType.LOLLIPOP;break;case 64:this.$=B.lineType.LINE;break;case 65:this.$=B.lineType.DOTTED_LINE;break;case 66:case 72:this.$=rt[bt-2],B.setClickEvent(rt[bt-1],rt[bt]);break;case 67:case 73:this.$=rt[bt-3],B.setClickEvent(rt[bt-2],rt[bt-1]),B.setTooltip(rt[bt-2],rt[bt]);break;case 68:case 76:this.$=rt[bt-2],B.setLink(rt[bt-1],rt[bt]);break;case 69:this.$=rt[bt-3],B.setLink(rt[bt-2],rt[bt-1],rt[bt]);break;case 70:case 78:this.$=rt[bt-3],B.setLink(rt[bt-2],rt[bt-1]),B.setTooltip(rt[bt-2],rt[bt]);break;case 71:case 79:this.$=rt[bt-4],B.setLink(rt[bt-3],rt[bt-2],rt[bt]),B.setTooltip(rt[bt-3],rt[bt-1]);break;case 74:this.$=rt[bt-3],B.setClickEvent(rt[bt-2],rt[bt-1],rt[bt]);break;case 75:this.$=rt[bt-4],B.setClickEvent(rt[bt-3],rt[bt-2],rt[bt-1]),B.setTooltip(rt[bt-3],rt[bt]);break;case 77:this.$=rt[bt-3],B.setLink(rt[bt-2],rt[bt-1],rt[bt]);break;case 80:B.setCssClass(rt[bt-1],rt[bt]);break}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:i,10:s,11:o,12:6,13:11,19:l,23:h},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:i,10:s,11:o,12:6,13:11,19:l,23:h},{1:[2,9]},t(f,[2,5]),t(f,[2,6]),t(f,[2,7]),t(f,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:g},t([17,22],[2,13]),{6:31,7:30,8:n,9:i,10:s,11:o,13:11,19:l,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:y,41:b,43:x,44:k,49:O,51:I,52:R,55:Y,57:V,67:X,68:J,70:st,74:lt,88:tt,89:at,90:q,91:z},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},t($,[2,25],{32:[1,57]}),t($,[2,27]),t($,[2,28]),t($,[2,29]),t($,[2,30]),t($,[2,31]),t($,[2,32]),t($,[2,33]),t($,[2,34]),{40:[1,58]},{42:[1,59]},t($,[2,37]),t($,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:N,61:j,62:A,63:gt,64:L,65:Dt,66:ue}),{27:72,28:46,29:47,88:tt,89:at,90:q,91:z},t($,[2,47]),t($,[2,48]),{28:73,88:tt,89:at,90:q},{27:74,28:46,29:47,88:tt,89:at,90:q,91:z},{27:75,28:46,29:47,88:tt,89:at,90:q,91:z},{27:76,28:46,29:47,88:tt,89:at,90:q,91:z},{54:[1,77]},{27:78,28:46,29:47,88:tt,89:at,90:q,91:z},{54:qt,56:79},t(ut,[2,20],{28:46,29:47,27:81,30:[1,82],88:tt,89:at,90:q,91:z}),t(ut,[2,21],{30:[1,83]}),t(Ct,[2,94]),t(Ct,[2,95]),t(Ct,[2,96]),t([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),t(vt,[2,10]),{15:84,22:g},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:n,9:i,10:s,11:o,13:11,19:l,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:y,41:b,43:x,44:k,49:O,51:I,52:R,55:Y,57:V,67:X,68:J,70:st,74:lt,88:tt,89:at,90:q,91:z},t($,[2,26]),t($,[2,35]),t($,[2,36]),{27:86,28:46,29:47,54:[1,87],88:tt,89:at,90:q,91:z},{53:88,58:63,59:64,60:N,61:j,62:A,63:gt,64:L,65:Dt,66:ue},t($,[2,46]),{59:89,65:Dt,66:ue},t(xt,[2,58],{58:90,60:N,61:j,62:A,63:gt,64:L}),t(Ot,[2,59]),t(Ot,[2,60]),t(Ot,[2,61]),t(Ot,[2,62]),t(Ot,[2,63]),t(Ht,[2,64]),t(Ht,[2,65]),t($,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:tt,89:at,90:q},{54:qt,56:99},t($,[2,54]),t($,[2,98]),t(ut,[2,22]),t(ut,[2,23]),t(ut,[2,24]),{16:[1,100]},{25:[2,19]},t(ft,[2,49]),{27:101,28:46,29:47,88:tt,89:at,90:q,91:z},{27:102,28:46,29:47,54:[1,103],88:tt,89:at,90:q,91:z},t(xt,[2,57],{58:104,60:N,61:j,62:A,63:gt,64:L}),t(xt,[2,56]),{28:105,88:tt,89:at,90:q},{47:106,51:_e},{27:108,28:46,29:47,88:tt,89:at,90:q,91:z},t($,[2,66],{54:[1,109]}),t($,[2,68],{54:[1,111],69:[1,110]}),t($,[2,72],{54:[1,112],72:[1,113]}),t($,[2,76],{54:[1,115],69:[1,114]}),t($,[2,80]),t($,[2,53]),t(vt,[2,11]),t(ft,[2,51]),t(ft,[2,50]),{27:116,28:46,29:47,88:tt,89:at,90:q,91:z},t(xt,[2,55]),t($,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:_e},t($,[2,42]),t($,[2,67]),t($,[2,69]),t($,[2,70],{69:[1,120]}),t($,[2,73]),t($,[2,74],{54:[1,121]}),t($,[2,77]),t($,[2,78],{69:[1,122]}),t(ft,[2,52]),{47:123,51:_e},t($,[2,40]),{48:[2,44]},t($,[2,71]),t($,[2,75]),t($,[2,79]),{48:[1,124]},t($,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(G,U){if(U.recoverable)this.trace(G);else{var yt=new Error(G);throw yt.hash=U,yt}},parse:function(G){var U=this,yt=[0],B=[],It=[null],rt=[],Ae=this.table,bt="",de=0,Jt=0,$t=2,te=1,Xt=rt.slice.call(arguments,1),Ft=Object.create(this.lexer),wt={yy:{}};for(var dn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,dn)&&(wt.yy[dn]=this.yy[dn]);Ft.setInput(G,wt.yy),wt.yy.lexer=Ft,wt.yy.parser=this,typeof Ft.yylloc=="undefined"&&(Ft.yylloc={});var We=Ft.yylloc;rt.push(We);var Ue=Ft.options&&Ft.options.ranges;typeof wt.yy.parseError=="function"?this.parseError=wt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function je(){var Et;return Et=B.pop()||Ft.lex()||te,typeof Et!="number"&&(Et instanceof Array&&(B=Et,Et=B.pop()),Et=U.symbols_[Et]||Et),Et}for(var Ve,Un,Fe,Le,Ee={},Wt,Bt,oe,zt;;){if(Un=yt[yt.length-1],this.defaultActions[Un]?Fe=this.defaultActions[Un]:((Ve===null||typeof Ve=="undefined")&&(Ve=je()),Fe=Ae[Un]&&Ae[Un][Ve]),typeof Fe=="undefined"||!Fe.length||!Fe[0]){var Oe="";zt=[];for(Wt in Ae[Un])this.terminals_[Wt]&&Wt>$t&&zt.push("'"+this.terminals_[Wt]+"'");Ft.showPosition?Oe="Parse error on line "+(de+1)+`:
`+Ft.showPosition()+`
Expecting `+zt.join(", ")+", got '"+(this.terminals_[Ve]||Ve)+"'":Oe="Parse error on line "+(de+1)+": Unexpected "+(Ve==te?"end of input":"'"+(this.terminals_[Ve]||Ve)+"'"),this.parseError(Oe,{text:Ft.match,token:this.terminals_[Ve]||Ve,line:Ft.yylineno,loc:We,expected:zt})}if(Fe[0]instanceof Array&&Fe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Un+", token: "+Ve);switch(Fe[0]){case 1:yt.push(Ve),It.push(Ft.yytext),rt.push(Ft.yylloc),yt.push(Fe[1]),Ve=null,Jt=Ft.yyleng,bt=Ft.yytext,de=Ft.yylineno,We=Ft.yylloc;break;case 2:if(Bt=this.productions_[Fe[1]][1],Ee.$=It[It.length-Bt],Ee._$={first_line:rt[rt.length-(Bt||1)].first_line,last_line:rt[rt.length-1].last_line,first_column:rt[rt.length-(Bt||1)].first_column,last_column:rt[rt.length-1].last_column},Ue&&(Ee._$.range=[rt[rt.length-(Bt||1)].range[0],rt[rt.length-1].range[1]]),Le=this.performAction.apply(Ee,[bt,Jt,de,wt.yy,Fe[1],It,rt].concat(Xt)),typeof Le!="undefined")return Le;Bt&&(yt=yt.slice(0,-1*Bt*2),It=It.slice(0,-1*Bt),rt=rt.slice(0,-1*Bt)),yt.push(this.productions_[Fe[1]][0]),It.push(Ee.$),rt.push(Ee._$),oe=Ae[yt[yt.length-2]][yt[yt.length-1]],yt.push(oe);break;case 3:return!0}}return!0}},it=function(){var Q={EOF:1,parseError:function(U,yt){if(this.yy.parser)this.yy.parser.parseError(U,yt);else throw new Error(U)},setInput:function(G,U){return this.yy=U||this.yy||{},this._input=G,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var G=this._input[0];this.yytext+=G,this.yyleng++,this.offset++,this.match+=G,this.matched+=G;var U=G.match(/(?:\r\n?|\n).*/g);return U?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),G},unput:function(G){var U=G.length,yt=G.split(/(?:\r\n?|\n)/g);this._input=G+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-U),this.offset-=U;var B=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),yt.length-1&&(this.yylineno-=yt.length-1);var It=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:yt?(yt.length===B.length?this.yylloc.first_column:0)+B[B.length-yt.length].length-yt[0].length:this.yylloc.first_column-U},this.options.ranges&&(this.yylloc.range=[It[0],It[0]+this.yyleng-U]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(G){this.unput(this.match.slice(G))},pastInput:function(){var G=this.matched.substr(0,this.matched.length-this.match.length);return(G.length>20?"...":"")+G.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var G=this.match;return G.length<20&&(G+=this._input.substr(0,20-G.length)),(G.substr(0,20)+(G.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var G=this.pastInput(),U=new Array(G.length+1).join("-");return G+this.upcomingInput()+`
`+U+"^"},test_match:function(G,U){var yt,B,It;if(this.options.backtrack_lexer&&(It={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(It.yylloc.range=this.yylloc.range.slice(0))),B=G[0].match(/(?:\r\n?|\n).*/g),B&&(this.yylineno+=B.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:B?B[B.length-1].length-B[B.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+G[0].length},this.yytext+=G[0],this.match+=G[0],this.matches=G,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(G[0].length),this.matched+=G[0],yt=this.performAction.call(this,this.yy,this,U,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),yt)return yt;if(this._backtrack){for(var rt in It)this[rt]=It[rt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var G,U,yt,B;this._more||(this.yytext="",this.match="");for(var It=this._currentRules(),rt=0;rt<It.length;rt++)if(yt=this._input.match(this.rules[It[rt]]),yt&&(!U||yt[0].length>U[0].length)){if(U=yt,B=rt,this.options.backtrack_lexer){if(G=this.test_match(yt,It[rt]),G!==!1)return G;if(this._backtrack){U=!1;continue}else return!1}else if(!this.options.flex)break}return U?(G=this.test_match(U,It[B]),G!==!1?G:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var U=this.next();return U||this.lex()},begin:function(U){this.conditionStack.push(U)},popState:function(){var U=this.conditionStack.length-1;return U>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(U){return U=this.conditionStack.length-1-Math.abs(U||0),U>=0?this.conditionStack[U]:"INITIAL"},pushState:function(U){this.begin(U)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(U,yt,B,It){switch(B){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return Q}();et.lexer=it;function dt(){this.yy={}}return dt.prototype=et,et.Parser=dt,new dt}();wm.parser=wm;const f5=wm,RF=(t,e)=>{var n;return((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*classDiagram/)!==null},BF=(t,e)=>{var n;return t.match(/^\s*classDiagram/)!==null&&((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:t.match(/^\s*classDiagram-v2/)!==null},Tm="classid-";let Em=[],Fr={},R1=[],p5=0,Ah=[];const Lh=t=>gn.sanitizeText(t,ht()),FF=function(t,e,n){Tr.parseDirective(this,t,e,n)},Oh=function(t){let e="",n=t;if(t.indexOf("~")>0){let i=t.split("~");n=i[0],e=gn.sanitizeText(i[1],ht())}return{className:n,type:e}},Cm=function(t){let e=Oh(t);Fr[e.className]===void 0&&(Fr[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:Tm+e.className+"-"+p5},p5++)},g5=function(t){const e=Object.keys(Fr);for(const n of e)if(Fr[n].id===t)return Fr[n].domId},PF=function(){Em=[],Fr={},R1=[],Ah=[],Ah.push(y5),Ps()},VF=function(t){return Fr[t]},$F=function(){return Fr},YF=function(){return Em},UF=function(){return R1},zF=function(t){E.debug("Adding relation: "+JSON.stringify(t)),Cm(t.id1),Cm(t.id2),t.id1=Oh(t.id1).className,t.id2=Oh(t.id2).className,t.relationTitle1=gn.sanitizeText(t.relationTitle1.trim(),ht()),t.relationTitle2=gn.sanitizeText(t.relationTitle2.trim(),ht()),Em.push(t)},HF=function(t,e){const n=Oh(t).className;Fr[n].annotations.push(e)},m5=function(t,e){const n=Oh(t).className,i=Fr[n];if(typeof e=="string"){const s=e.trim();s.startsWith("<<")&&s.endsWith(">>")?i.annotations.push(Lh(s.substring(2,s.length-2))):s.indexOf(")")>0?i.methods.push(Lh(s)):s&&i.members.push(Lh(s))}},WF=function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(n=>m5(t,n)))},jF=function(t,e){const n={id:`note${R1.length}`,class:e,text:t};R1.push(n)},qF=function(t){return t.substring(0,1)===":"?gn.sanitizeText(t.substr(1).trim(),ht()):Lh(t.trim())},Sm=function(t,e){t.split(",").forEach(function(n){let i=n;n[0].match(/\d/)&&(i=Tm+i),Fr[i]!==void 0&&Fr[i].cssClasses.push(e)})},GF=function(t,e){const n=ht();t.split(",").forEach(function(i){e!==void 0&&(Fr[i].tooltip=gn.sanitizeText(e,n))})},XF=function(t){return Fr[t].tooltip},KF=function(t,e,n){const i=ht();t.split(",").forEach(function(s){let o=s;s[0].match(/\d/)&&(o=Tm+o),Fr[o]!==void 0&&(Fr[o].link=kn.formatUrl(e,i),i.securityLevel==="sandbox"?Fr[o].linkTarget="_top":typeof n=="string"?Fr[o].linkTarget=Lh(n):Fr[o].linkTarget="_blank")}),Sm(t,"clickable")},ZF=function(t,e,n){t.split(",").forEach(function(i){QF(i,e,n),Fr[i].haveCallback=!0}),Sm(t,"clickable")},QF=function(t,e,n){const i=ht();let s=t,o=g5(s);if(i.securityLevel==="loose"&&e!==void 0&&Fr[s]!==void 0){let l=[];if(typeof n=="string"){l=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let h=0;h<l.length;h++){let f=l[h].trim();f.charAt(0)==='"'&&f.charAt(f.length-1)==='"'&&(f=f.substr(1,f.length-2)),l[h]=f}}l.length===0&&l.push(o),Ah.push(function(){const h=document.querySelector(`[id="${o}"]`);h!==null&&h.addEventListener("click",function(){kn.runFunc(e,...l)},!1)})}},JF=function(t){Ah.forEach(function(e){e(t)})},tP={LINE:0,DOTTED_LINE:1},eP={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},y5=function(t){let e=re(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=re("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),re(t).select("svg").selectAll("g.node").on("mouseover",function(){const s=re(this);if(s.attr("title")===null)return;const l=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(s.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),re(this).classed("hover",!1)})};Ah.push(y5);let _5="TB";const qc={parseDirective:FF,setAccTitle:vs,getAccTitle:Vs,getAccDescription:Ys,setAccDescription:$s,getConfig:()=>ht().class,addClass:Cm,bindFunctions:JF,clear:PF,getClass:VF,getClasses:$F,getNotes:UF,addAnnotation:HF,addNote:jF,getRelations:YF,addRelation:zF,getDirection:()=>_5,setDirection:t=>{_5=t},addMember:m5,addMembers:WF,cleanupLabel:qF,lineType:tP,relationType:eP,setClickEvent:ZF,setCssClass:Sm,setLink:KF,getTooltip:XF,setTooltip:GF,lookUpDomId:g5,setDiagramTitle:Ga,getDiagramTitle:Xa};function ba(t){return t!=null&&typeof t=="object"}var nP="[object Symbol]";function Ol(t){return typeof t=="symbol"||ba(t)&&kl(t)==nP}function Gc(t,e){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s}var rP=Array.isArray;const Hr=rP;var iP=1/0,b5=_s?_s.prototype:void 0,v5=b5?b5.toString:void 0;function x5(t){if(typeof t=="string")return t;if(Hr(t))return Gc(t,x5)+"";if(Ol(t))return v5?v5.call(t):"";var e=t+"";return e=="0"&&1/t==-iP?"-0":e}var sP=/\s/;function aP(t){for(var e=t.length;e--&&sP.test(t.charAt(e)););return e}var oP=/^\s+/;function lP(t){return t&&t.slice(0,aP(t)+1).replace(oP,"")}var k5=0/0,cP=/^[-+]0x[0-9a-f]+$/i,uP=/^0b[01]+$/i,hP=/^0o[0-7]+$/i,dP=parseInt;function fP(t){if(typeof t=="number")return t;if(Ol(t))return k5;if(ts(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ts(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=lP(t);var n=uP.test(t);return n||hP.test(t)?dP(t.slice(2),n?2:8):cP.test(t)?k5:+t}var w5=1/0,pP=17976931348623157e292;function B1(t){if(!t)return t===0?t:0;if(t=fP(t),t===w5||t===-w5){var e=t<0?-1:1;return e*pP}return t===t?t:0}function gP(t){var e=B1(t),n=e%1;return e===e?n?e-n:e:0}function Ml(t){return t}var mP=Tl(Is,"WeakMap");const Am=mP;var T5=Object.create,yP=function(){function t(){}return function(e){if(!ts(e))return{};if(T5)return T5(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const _P=yP;function bP(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function vP(){}function E5(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var xP=800,kP=16,wP=Date.now;function TP(t){var e=0,n=0;return function(){var i=wP(),s=kP-(i-n);if(n=i,s>0){if(++e>=xP)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Xc(t){return function(){return t}}var EP=function(){try{var t=Tl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const F1=EP;var CP=F1?function(t,e){return F1(t,"toString",{configurable:!0,enumerable:!1,value:Xc(e),writable:!0})}:Ml,SP=TP(CP);const C5=SP;function S5(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function A5(t,e,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(e(t[o],o,t))return o;return-1}function AP(t){return t!==t}function LP(t,e,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===e)return i;return-1}function OP(t,e,n){return e===e?LP(t,e,n):A5(t,AP,n)}function MP(t,e){var n=t==null?0:t.length;return!!n&&OP(t,e,0)>-1}var NP=9007199254740991,DP=/^(?:0|[1-9]\d*)$/;function P1(t,e){var n=typeof t;return e=e==null?NP:e,!!e&&(n=="number"||n!="symbol"&&DP.test(t))&&t>-1&&t%1==0&&t<e}function V1(t,e,n){e=="__proto__"&&F1?F1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var IP=Object.prototype,RP=IP.hasOwnProperty;function $1(t,e,n){var i=t[e];(!(RP.call(t,e)&&Yc(i,n))||n===void 0&&!(e in t))&&V1(t,e,n)}function Mh(t,e,n,i){var s=!n;n||(n={});for(var o=-1,l=e.length;++o<l;){var h=e[o],f=i?i(n[h],t[h],h,n,t):void 0;f===void 0&&(f=t[h]),s?V1(n,h,f):$1(n,h,f)}return n}var L5=Math.max;function O5(t,e,n){return e=L5(e===void 0?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=L5(i.length-e,0),l=Array(o);++s<o;)l[s]=i[e+s];s=-1;for(var h=Array(e+1);++s<e;)h[s]=i[s];return h[e]=n(l),bP(t,this,h)}}function Y1(t,e){return C5(O5(t,e,Ml),t+"")}var BP=9007199254740991;function Lm(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=BP}function Po(t){return t!=null&&Lm(t.length)&&!$c(t)}function Nh(t,e,n){if(!ts(n))return!1;var i=typeof e;return(i=="number"?Po(n)&&P1(e,n.length):i=="string"&&e in n)?Yc(n[e],t):!1}function FP(t){return Y1(function(e,n){var i=-1,s=n.length,o=s>1?n[s-1]:void 0,l=s>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,l&&Nh(n[0],n[1],l)&&(o=s<3?void 0:o,s=1),e=Object(e);++i<s;){var h=n[i];h&&t(e,h,i,o)}return e})}var PP=Object.prototype;function U1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||PP;return t===n}function VP(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var $P="[object Arguments]";function M5(t){return ba(t)&&kl(t)==$P}var N5=Object.prototype,YP=N5.hasOwnProperty,UP=N5.propertyIsEnumerable,zP=M5(function(){return arguments}())?M5:function(t){return ba(t)&&YP.call(t,"callee")&&!UP.call(t,"callee")};const Kc=zP;function HP(){return!1}var D5=a&&!a.nodeType&&a,I5=D5&&!0&&r&&!r.nodeType&&r,WP=I5&&I5.exports===D5,R5=WP?Is.Buffer:void 0,jP=R5?R5.isBuffer:void 0,qP=jP||HP;const Zc=qP;var GP="[object Arguments]",XP="[object Array]",KP="[object Boolean]",ZP="[object Date]",QP="[object Error]",JP="[object Function]",tV="[object Map]",eV="[object Number]",nV="[object Object]",rV="[object RegExp]",iV="[object Set]",sV="[object String]",aV="[object WeakMap]",oV="[object ArrayBuffer]",lV="[object DataView]",cV="[object Float32Array]",uV="[object Float64Array]",hV="[object Int8Array]",dV="[object Int16Array]",fV="[object Int32Array]",pV="[object Uint8Array]",gV="[object Uint8ClampedArray]",mV="[object Uint16Array]",yV="[object Uint32Array]",gr={};gr[cV]=gr[uV]=gr[hV]=gr[dV]=gr[fV]=gr[pV]=gr[gV]=gr[mV]=gr[yV]=!0,gr[GP]=gr[XP]=gr[oV]=gr[KP]=gr[lV]=gr[ZP]=gr[QP]=gr[JP]=gr[tV]=gr[eV]=gr[nV]=gr[rV]=gr[iV]=gr[sV]=gr[aV]=!1;function _V(t){return ba(t)&&Lm(t.length)&&!!gr[kl(t)]}function z1(t){return function(e){return t(e)}}var B5=a&&!a.nodeType&&a,Dh=B5&&!0&&r&&!r.nodeType&&r,bV=Dh&&Dh.exports===B5,Om=bV&&f3.process,vV=function(){try{var t=Dh&&Dh.require&&Dh.require("util").types;return t||Om&&Om.binding&&Om.binding("util")}catch{}}();const Qc=vV;var F5=Qc&&Qc.isTypedArray,xV=F5?z1(F5):_V;const H1=xV;var kV=Object.prototype,wV=kV.hasOwnProperty;function P5(t,e){var n=Hr(t),i=!n&&Kc(t),s=!n&&!i&&Zc(t),o=!n&&!i&&!s&&H1(t),l=n||i||s||o,h=l?VP(t.length,String):[],f=h.length;for(var g in t)(e||wV.call(t,g))&&!(l&&(g=="length"||s&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||P1(g,f)))&&h.push(g);return h}function V5(t,e){return function(n){return t(e(n))}}var TV=V5(Object.keys,Object);const EV=TV;var CV=Object.prototype,SV=CV.hasOwnProperty;function $5(t){if(!U1(t))return EV(t);var e=[];for(var n in Object(t))SV.call(t,n)&&n!="constructor"&&e.push(n);return e}function ns(t){return Po(t)?P5(t):$5(t)}function AV(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var LV=Object.prototype,OV=LV.hasOwnProperty;function MV(t){if(!ts(t))return AV(t);var e=U1(t),n=[];for(var i in t)i=="constructor"&&(e||!OV.call(t,i))||n.push(i);return n}function Nl(t){return Po(t)?P5(t,!0):MV(t)}var NV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DV=/^\w*$/;function Mm(t,e){if(Hr(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ol(t)?!0:DV.test(t)||!NV.test(t)||e!=null&&t in Object(e)}var IV=500;function RV(t){var e=Uc(t,function(i){return n.size===IV&&n.clear(),i}),n=e.cache;return e}var BV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FV=/\\(\\)?/g,PV=RV(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(BV,function(n,i,s,o){e.push(s?o.replace(FV,"$1"):i||n)}),e});const VV=PV;function Y5(t){return t==null?"":x5(t)}function W1(t,e){return Hr(t)?t:Mm(t,e)?[t]:VV(Y5(t))}var $V=1/0;function Ih(t){if(typeof t=="string"||Ol(t))return t;var e=t+"";return e=="0"&&1/t==-$V?"-0":e}function j1(t,e){e=W1(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[Ih(e[n++])];return n&&n==i?t:void 0}function YV(t,e,n){var i=t==null?void 0:j1(t,e);return i===void 0?n:i}function Nm(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t}var U5=_s?_s.isConcatSpreadable:void 0;function UV(t){return Hr(t)||Kc(t)||!!(U5&&t&&t[U5])}function q1(t,e,n,i,s){var o=-1,l=t.length;for(n||(n=UV),s||(s=[]);++o<l;){var h=t[o];e>0&&n(h)?e>1?q1(h,e-1,n,i,s):Nm(s,h):i||(s[s.length]=h)}return s}function Jc(t){var e=t==null?0:t.length;return e?q1(t,1):[]}function zV(t){return C5(O5(t,void 0,Jc),t+"")}var HV=V5(Object.getPrototypeOf,Object);const Dm=HV;var WV="[object Object]",jV=Function.prototype,qV=Object.prototype,z5=jV.toString,GV=qV.hasOwnProperty,XV=z5.call(Object);function H5(t){if(!ba(t)||kl(t)!=WV)return!1;var e=Dm(t);if(e===null)return!0;var n=GV.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&z5.call(n)==XV}function KV(t,e,n,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(n=t[++s]);++s<o;)n=e(n,t[s],s,t);return n}function ZV(){this.__data__=new ja,this.size=0}function QV(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function JV(t){return this.__data__.get(t)}function t$(t){return this.__data__.has(t)}var e$=200;function n$(t,e){var n=this.__data__;if(n instanceof ja){var i=n.__data__;if(!yh||i.length<e$-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new qa(i)}return n.set(t,e),this.size=n.size,this}function Ws(t){var e=this.__data__=new ja(t);this.size=e.size}Ws.prototype.clear=ZV,Ws.prototype.delete=QV,Ws.prototype.get=JV,Ws.prototype.has=t$,Ws.prototype.set=n$;function r$(t,e){return t&&Mh(e,ns(e),t)}function i$(t,e){return t&&Mh(e,Nl(e),t)}var W5=a&&!a.nodeType&&a,j5=W5&&!0&&r&&!r.nodeType&&r,s$=j5&&j5.exports===W5,q5=s$?Is.Buffer:void 0,G5=q5?q5.allocUnsafe:void 0;function X5(t,e){if(e)return t.slice();var n=t.length,i=G5?G5(n):new t.constructor(n);return t.copy(i),i}function K5(t,e){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var l=t[n];e(l,n,t)&&(o[s++]=l)}return o}function Z5(){return[]}var a$=Object.prototype,o$=a$.propertyIsEnumerable,Q5=Object.getOwnPropertySymbols,l$=Q5?function(t){return t==null?[]:(t=Object(t),K5(Q5(t),function(e){return o$.call(t,e)}))}:Z5;const Im=l$;function c$(t,e){return Mh(t,Im(t),e)}var u$=Object.getOwnPropertySymbols,h$=u$?function(t){for(var e=[];t;)Nm(e,Im(t)),t=Dm(t);return e}:Z5;const J5=h$;function d$(t,e){return Mh(t,J5(t),e)}function tx(t,e,n){var i=e(t);return Hr(t)?i:Nm(i,n(t))}function Rm(t){return tx(t,ns,Im)}function f$(t){return tx(t,Nl,J5)}var p$=Tl(Is,"DataView");const Bm=p$;var g$=Tl(Is,"Promise");const Fm=g$;var m$=Tl(Is,"Set");const tu=m$;var ex="[object Map]",y$="[object Object]",nx="[object Promise]",rx="[object Set]",ix="[object WeakMap]",sx="[object DataView]",_$=wl(Bm),b$=wl(yh),v$=wl(Fm),x$=wl(tu),k$=wl(Am),Dl=kl;(Bm&&Dl(new Bm(new ArrayBuffer(1)))!=sx||yh&&Dl(new yh)!=ex||Fm&&Dl(Fm.resolve())!=nx||tu&&Dl(new tu)!=rx||Am&&Dl(new Am)!=ix)&&(Dl=function(t){var e=kl(t),n=e==y$?t.constructor:void 0,i=n?wl(n):"";if(i)switch(i){case _$:return sx;case b$:return ex;case v$:return nx;case x$:return rx;case k$:return ix}return e});const eu=Dl;var w$=Object.prototype,T$=w$.hasOwnProperty;function E$(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&T$.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var C$=Is.Uint8Array;const G1=C$;function Pm(t){var e=new t.constructor(t.byteLength);return new G1(e).set(new G1(t)),e}function S$(t,e){var n=e?Pm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var A$=/\w*$/;function L$(t){var e=new t.constructor(t.source,A$.exec(t));return e.lastIndex=t.lastIndex,e}var ax=_s?_s.prototype:void 0,ox=ax?ax.valueOf:void 0;function O$(t){return ox?Object(ox.call(t)):{}}function lx(t,e){var n=e?Pm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var M$="[object Boolean]",N$="[object Date]",D$="[object Map]",I$="[object Number]",R$="[object RegExp]",B$="[object Set]",F$="[object String]",P$="[object Symbol]",V$="[object ArrayBuffer]",$$="[object DataView]",Y$="[object Float32Array]",U$="[object Float64Array]",z$="[object Int8Array]",H$="[object Int16Array]",W$="[object Int32Array]",j$="[object Uint8Array]",q$="[object Uint8ClampedArray]",G$="[object Uint16Array]",X$="[object Uint32Array]";function K$(t,e,n){var i=t.constructor;switch(e){case V$:return Pm(t);case M$:case N$:return new i(+t);case $$:return S$(t,n);case Y$:case U$:case z$:case H$:case W$:case j$:case q$:case G$:case X$:return lx(t,n);case D$:return new i;case I$:case F$:return new i(t);case R$:return L$(t);case B$:return new i;case P$:return O$(t)}}function cx(t){return typeof t.constructor=="function"&&!U1(t)?_P(Dm(t)):{}}var Z$="[object Map]";function Q$(t){return ba(t)&&eu(t)==Z$}var ux=Qc&&Qc.isMap,J$=ux?z1(ux):Q$;const tY=J$;var eY="[object Set]";function nY(t){return ba(t)&&eu(t)==eY}var hx=Qc&&Qc.isSet,rY=hx?z1(hx):nY;const iY=rY;var sY=1,aY=2,oY=4,dx="[object Arguments]",lY="[object Array]",cY="[object Boolean]",uY="[object Date]",hY="[object Error]",fx="[object Function]",dY="[object GeneratorFunction]",fY="[object Map]",pY="[object Number]",px="[object Object]",gY="[object RegExp]",mY="[object Set]",yY="[object String]",_Y="[object Symbol]",bY="[object WeakMap]",vY="[object ArrayBuffer]",xY="[object DataView]",kY="[object Float32Array]",wY="[object Float64Array]",TY="[object Int8Array]",EY="[object Int16Array]",CY="[object Int32Array]",SY="[object Uint8Array]",AY="[object Uint8ClampedArray]",LY="[object Uint16Array]",OY="[object Uint32Array]",fr={};fr[dx]=fr[lY]=fr[vY]=fr[xY]=fr[cY]=fr[uY]=fr[kY]=fr[wY]=fr[TY]=fr[EY]=fr[CY]=fr[fY]=fr[pY]=fr[px]=fr[gY]=fr[mY]=fr[yY]=fr[_Y]=fr[SY]=fr[AY]=fr[LY]=fr[OY]=!0,fr[hY]=fr[fx]=fr[bY]=!1;function Rh(t,e,n,i,s,o){var l,h=e&sY,f=e&aY,g=e&oY;if(n&&(l=s?n(t,i,s,o):n(t)),l!==void 0)return l;if(!ts(t))return t;var y=Hr(t);if(y){if(l=E$(t),!h)return E5(t,l)}else{var b=eu(t),x=b==fx||b==dY;if(Zc(t))return X5(t,h);if(b==px||b==dx||x&&!s){if(l=f||x?{}:cx(t),!h)return f?d$(t,i$(l,t)):c$(t,r$(l,t))}else{if(!fr[b])return s?t:{};l=K$(t,b,h)}}o||(o=new Ws);var k=o.get(t);if(k)return k;o.set(t,l),iY(t)?t.forEach(function(R){l.add(Rh(R,e,n,R,t,o))}):tY(t)&&t.forEach(function(R,Y){l.set(Y,Rh(R,e,n,Y,t,o))});var O=g?f?f$:Rm:f?Nl:ns,I=y?void 0:O(t);return S5(I||t,function(R,Y){I&&(Y=R,R=t[Y]),$1(l,Y,Rh(R,e,n,Y,t,o))}),l}var MY=4;function NY(t){return Rh(t,MY)}var DY=1,IY=4;function RY(t){return Rh(t,DY|IY)}var BY="__lodash_hash_undefined__";function FY(t){return this.__data__.set(t,BY),this}function PY(t){return this.__data__.has(t)}function Bh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new qa;++e<n;)this.add(t[e])}Bh.prototype.add=Bh.prototype.push=FY,Bh.prototype.has=PY;function VY(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function gx(t,e){return t.has(e)}var $Y=1,YY=2;function mx(t,e,n,i,s,o){var l=n&$Y,h=t.length,f=e.length;if(h!=f&&!(l&&f>h))return!1;var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var b=-1,x=!0,k=n&YY?new Bh:void 0;for(o.set(t,e),o.set(e,t);++b<h;){var O=t[b],I=e[b];if(i)var R=l?i(I,O,b,e,t,o):i(O,I,b,t,e,o);if(R!==void 0){if(R)continue;x=!1;break}if(k){if(!VY(e,function(Y,V){if(!gx(k,V)&&(O===Y||s(O,Y,n,i,o)))return k.push(V)})){x=!1;break}}else if(!(O===I||s(O,I,n,i,o))){x=!1;break}}return o.delete(t),o.delete(e),x}function UY(t){var e=-1,n=Array(t.size);return t.forEach(function(i,s){n[++e]=[s,i]}),n}function Vm(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var zY=1,HY=2,WY="[object Boolean]",jY="[object Date]",qY="[object Error]",GY="[object Map]",XY="[object Number]",KY="[object RegExp]",ZY="[object Set]",QY="[object String]",JY="[object Symbol]",tU="[object ArrayBuffer]",eU="[object DataView]",yx=_s?_s.prototype:void 0,$m=yx?yx.valueOf:void 0;function nU(t,e,n,i,s,o,l){switch(n){case eU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tU:return!(t.byteLength!=e.byteLength||!o(new G1(t),new G1(e)));case WY:case jY:case XY:return Yc(+t,+e);case qY:return t.name==e.name&&t.message==e.message;case KY:case QY:return t==e+"";case GY:var h=UY;case ZY:var f=i&zY;if(h||(h=Vm),t.size!=e.size&&!f)return!1;var g=l.get(t);if(g)return g==e;i|=HY,l.set(t,e);var y=mx(h(t),h(e),i,s,o,l);return l.delete(t),y;case JY:if($m)return $m.call(t)==$m.call(e)}return!1}var rU=1,iU=Object.prototype,sU=iU.hasOwnProperty;function aU(t,e,n,i,s,o){var l=n&rU,h=Rm(t),f=h.length,g=Rm(e),y=g.length;if(f!=y&&!l)return!1;for(var b=f;b--;){var x=h[b];if(!(l?x in e:sU.call(e,x)))return!1}var k=o.get(t),O=o.get(e);if(k&&O)return k==e&&O==t;var I=!0;o.set(t,e),o.set(e,t);for(var R=l;++b<f;){x=h[b];var Y=t[x],V=e[x];if(i)var X=l?i(V,Y,x,e,t,o):i(Y,V,x,t,e,o);if(!(X===void 0?Y===V||s(Y,V,n,i,o):X)){I=!1;break}R||(R=x=="constructor")}if(I&&!R){var J=t.constructor,st=e.constructor;J!=st&&"constructor"in t&&"constructor"in e&&!(typeof J=="function"&&J instanceof J&&typeof st=="function"&&st instanceof st)&&(I=!1)}return o.delete(t),o.delete(e),I}var oU=1,_x="[object Arguments]",bx="[object Array]",X1="[object Object]",lU=Object.prototype,vx=lU.hasOwnProperty;function cU(t,e,n,i,s,o){var l=Hr(t),h=Hr(e),f=l?bx:eu(t),g=h?bx:eu(e);f=f==_x?X1:f,g=g==_x?X1:g;var y=f==X1,b=g==X1,x=f==g;if(x&&Zc(t)){if(!Zc(e))return!1;l=!0,y=!1}if(x&&!y)return o||(o=new Ws),l||H1(t)?mx(t,e,n,i,s,o):nU(t,e,f,n,i,s,o);if(!(n&oU)){var k=y&&vx.call(t,"__wrapped__"),O=b&&vx.call(e,"__wrapped__");if(k||O){var I=k?t.value():t,R=O?e.value():e;return o||(o=new Ws),s(I,R,n,i,o)}}return x?(o||(o=new Ws),aU(t,e,n,i,s,o)):!1}function Ym(t,e,n,i,s){return t===e?!0:t==null||e==null||!ba(t)&&!ba(e)?t!==t&&e!==e:cU(t,e,n,i,Ym,s)}var uU=1,hU=2;function dU(t,e,n,i){var s=n.length,o=s,l=!i;if(t==null)return!o;for(t=Object(t);s--;){var h=n[s];if(l&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++s<o;){h=n[s];var f=h[0],g=t[f],y=h[1];if(l&&h[2]){if(g===void 0&&!(f in t))return!1}else{var b=new Ws;if(i)var x=i(g,y,f,t,e,b);if(!(x===void 0?Ym(y,g,uU|hU,i,b):x))return!1}}return!0}function xx(t){return t===t&&!ts(t)}function fU(t){for(var e=ns(t),n=e.length;n--;){var i=e[n],s=t[i];e[n]=[i,s,xx(s)]}return e}function kx(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function pU(t){var e=fU(t);return e.length==1&&e[0][2]?kx(e[0][0],e[0][1]):function(n){return n===t||dU(n,t,e)}}function gU(t,e){return t!=null&&e in Object(t)}function wx(t,e,n){e=W1(e,t);for(var i=-1,s=e.length,o=!1;++i<s;){var l=Ih(e[i]);if(!(o=t!=null&&n(t,l)))break;t=t[l]}return o||++i!=s?o:(s=t==null?0:t.length,!!s&&Lm(s)&&P1(l,s)&&(Hr(t)||Kc(t)))}function Tx(t,e){return t!=null&&wx(t,e,gU)}var mU=1,yU=2;function _U(t,e){return Mm(t)&&xx(e)?kx(Ih(t),e):function(n){var i=YV(n,t);return i===void 0&&i===e?Tx(n,t):Ym(e,i,mU|yU)}}function bU(t){return function(e){return e==null?void 0:e[t]}}function vU(t){return function(e){return j1(e,t)}}function xU(t){return Mm(t)?bU(Ih(t)):vU(t)}function Vo(t){return typeof t=="function"?t:t==null?Ml:typeof t=="object"?Hr(t)?_U(t[0],t[1]):pU(t):xU(t)}function kU(t){return function(e,n,i){for(var s=-1,o=Object(e),l=i(e),h=l.length;h--;){var f=l[t?h:++s];if(n(o[f],f,o)===!1)break}return e}}var wU=kU();const Um=wU;function Ex(t,e){return t&&Um(t,e,ns)}function TU(t,e){return function(n,i){if(n==null)return n;if(!Po(n))return t(n,i);for(var s=n.length,o=e?s:-1,l=Object(n);(e?o--:++o<s)&&i(l[o],o,l)!==!1;);return n}}var EU=TU(Ex);const K1=EU;var CU=function(){return Is.Date.now()};const Cx=CU;var Sx=Object.prototype,SU=Sx.hasOwnProperty,AU=Y1(function(t,e){t=Object(t);var n=-1,i=e.length,s=i>2?e[2]:void 0;for(s&&Nh(e[0],e[1],s)&&(i=1);++n<i;)for(var o=e[n],l=Nl(o),h=-1,f=l.length;++h<f;){var g=l[h],y=t[g];(y===void 0||Yc(y,Sx[g])&&!SU.call(t,g))&&(t[g]=o[g])}return t});const nu=AU;function zm(t,e,n){(n!==void 0&&!Yc(t[e],n)||n===void 0&&!(e in t))&&V1(t,e,n)}function Ax(t){return ba(t)&&Po(t)}function Hm(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function LU(t){return Mh(t,Nl(t))}function OU(t,e,n,i,s,o,l){var h=Hm(t,n),f=Hm(e,n),g=l.get(f);if(g){zm(t,n,g);return}var y=o?o(h,f,n+"",t,e,l):void 0,b=y===void 0;if(b){var x=Hr(f),k=!x&&Zc(f),O=!x&&!k&&H1(f);y=f,x||k||O?Hr(h)?y=h:Ax(h)?y=E5(h):k?(b=!1,y=X5(f,!0)):O?(b=!1,y=lx(f,!0)):y=[]:H5(f)||Kc(f)?(y=h,Kc(h)?y=LU(h):(!ts(h)||$c(h))&&(y=cx(f))):b=!1}b&&(l.set(f,y),s(y,f,i,o,l),l.delete(f)),zm(t,n,y)}function Lx(t,e,n,i,s){t!==e&&Um(e,function(o,l){if(s||(s=new Ws),ts(o))OU(t,e,l,n,Lx,i,s);else{var h=i?i(Hm(t,l),o,l+"",t,e,s):void 0;h===void 0&&(h=o),zm(t,l,h)}},Nl)}function MU(t,e,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(e,t[i]))return!0;return!1}function Z1(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Ox(t){return typeof t=="function"?t:Ml}function jt(t,e){var n=Hr(t)?S5:K1;return n(t,Ox(e))}function NU(t,e){var n=[];return K1(t,function(i,s,o){e(i,s,o)&&n.push(i)}),n}function Za(t,e){var n=Hr(t)?K5:NU;return n(t,Vo(e))}function DU(t){return function(e,n,i){var s=Object(e);if(!Po(e)){var o=Vo(n);e=ns(e),n=function(h){return o(s[h],h,s)}}var l=t(e,n,i);return l>-1?s[o?e[l]:l]:void 0}}var IU=Math.max;function RU(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var s=n==null?0:gP(n);return s<0&&(s=IU(i+s,0)),A5(t,Vo(e),s)}var BU=DU(RU);const Wm=BU;function Mx(t,e){var n=-1,i=Po(t)?Array(t.length):[];return K1(t,function(s,o,l){i[++n]=e(s,o,l)}),i}function Wr(t,e){var n=Hr(t)?Gc:Mx;return n(t,Vo(e))}function FU(t,e){return t==null?t:Um(t,Ox(e),Nl)}function PU(t,e){return t>e}var VU=Object.prototype,$U=VU.hasOwnProperty;function YU(t,e){return t!=null&&$U.call(t,e)}function En(t,e){return t!=null&&wx(t,e,YU)}function UU(t,e){return Gc(e,function(n){return t[n]})}function Qa(t){return t==null?[]:UU(t,ns(t))}var zU="[object Map]",HU="[object Set]",WU=Object.prototype,jU=WU.hasOwnProperty;function ru(t){if(t==null)return!0;if(Po(t)&&(Hr(t)||typeof t=="string"||typeof t.splice=="function"||Zc(t)||H1(t)||Kc(t)))return!t.length;var e=eu(t);if(e==zU||e==HU)return!t.size;if(U1(t))return!$5(t).length;for(var n in t)if(jU.call(t,n))return!1;return!0}function Pr(t){return t===void 0}function Nx(t,e){return t<e}function Q1(t,e){var n={};return e=Vo(e),Ex(t,function(i,s,o){V1(n,s,e(i,s,o))}),n}function jm(t,e,n){for(var i=-1,s=t.length;++i<s;){var o=t[i],l=e(o);if(l!=null&&(h===void 0?l===l&&!Ol(l):n(l,h)))var h=l,f=o}return f}function Il(t){return t&&t.length?jm(t,Ml,PU):void 0}var qU=FP(function(t,e,n){Lx(t,e,n)});const qm=qU;function Fh(t){return t&&t.length?jm(t,Ml,Nx):void 0}function Gm(t,e){return t&&t.length?jm(t,Vo(e),Nx):void 0}function GU(t,e,n,i){if(!ts(t))return t;e=W1(e,t);for(var s=-1,o=e.length,l=o-1,h=t;h!=null&&++s<o;){var f=Ih(e[s]),g=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(s!=l){var y=h[f];g=i?i(y,f,h):void 0,g===void 0&&(g=ts(y)?y:P1(e[s+1])?[]:{})}$1(h,f,g),h=h[f]}return t}function XU(t,e,n){for(var i=-1,s=e.length,o={};++i<s;){var l=e[i],h=j1(t,l);n(h,l)&&GU(o,W1(l,t),h)}return o}function KU(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function ZU(t,e){if(t!==e){var n=t!==void 0,i=t===null,s=t===t,o=Ol(t),l=e!==void 0,h=e===null,f=e===e,g=Ol(e);if(!h&&!g&&!o&&t>e||o&&l&&f&&!h&&!g||i&&l&&f||!n&&f||!s)return 1;if(!i&&!o&&!g&&t<e||g&&n&&s&&!i&&!o||h&&n&&s||!l&&s||!f)return-1}return 0}function QU(t,e,n){for(var i=-1,s=t.criteria,o=e.criteria,l=s.length,h=n.length;++i<l;){var f=ZU(s[i],o[i]);if(f){if(i>=h)return f;var g=n[i];return f*(g=="desc"?-1:1)}}return t.index-e.index}function JU(t,e,n){e.length?e=Gc(e,function(o){return Hr(o)?function(l){return j1(l,o.length===1?o[0]:o)}:o}):e=[Ml];var i=-1;e=Gc(e,z1(Vo));var s=Mx(t,function(o,l,h){var f=Gc(e,function(g){return g(o)});return{criteria:f,index:++i,value:o}});return KU(s,function(o,l){return QU(o,l,n)})}function tz(t,e){return XU(t,e,function(n,i){return Tx(t,i)})}var ez=zV(function(t,e){return t==null?{}:tz(t,e)});const Ph=ez;var nz=Math.ceil,rz=Math.max;function iz(t,e,n,i){for(var s=-1,o=rz(nz((e-t)/(n||1)),0),l=Array(o);o--;)l[i?o:++s]=t,t+=n;return l}function sz(t){return function(e,n,i){return i&&typeof i!="number"&&Nh(e,n,i)&&(n=i=void 0),e=B1(e),n===void 0?(n=e,e=0):n=B1(n),i=i===void 0?e<n?1:-1:B1(i),iz(e,n,i,t)}}var az=sz();const Rl=az;function oz(t,e,n,i,s){return s(t,function(o,l,h){n=i?(i=!1,o):e(n,o,l,h)}),n}function Vh(t,e,n){var i=Hr(t)?KV:oz,s=arguments.length<3;return i(t,Vo(e),n,s,K1)}var lz=Y1(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Nh(t,e[0],e[1])?e=[]:n>2&&Nh(e[0],e[1],e[2])&&(e=[e[0]]),JU(t,q1(e,1),[])});const $h=lz;var cz=1/0,uz=tu&&1/Vm(new tu([,-0]))[1]==cz?function(t){return new tu(t)}:vP;const hz=uz;var dz=200;function fz(t,e,n){var i=-1,s=MP,o=t.length,l=!0,h=[],f=h;if(n)l=!1,s=MU;else if(o>=dz){var g=e?null:hz(t);if(g)return Vm(g);l=!1,s=gx,f=new Bh}else f=e?[]:h;t:for(;++i<o;){var y=t[i],b=e?e(y):y;if(y=n||y!==0?y:0,l&&b===b){for(var x=f.length;x--;)if(f[x]===b)continue t;e&&f.push(b),h.push(y)}else s(f,b,n)||(f!==h&&f.push(b),h.push(y))}return h}var pz=Y1(function(t){return fz(q1(t,1,Ax,!0))});const gz=pz;var mz=0;function J1(t){var e=++mz;return Y5(t)+e}function yz(t,e,n){for(var i=-1,s=t.length,o=e.length,l={};++i<s;){var h=i<o?e[i]:void 0;n(l,t[i],h)}return l}function _z(t,e){return yz(t||[],e||[],$1)}var bz="\0",Bl="\0",Dx="";class jr{constructor(e={}){this._isDirected=En(e,"directed")?e.directed:!0,this._isMultigraph=En(e,"multigraph")?e.multigraph:!1,this._isCompound=En(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Xc(void 0),this._defaultEdgeLabelFn=Xc(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Bl]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return $c(e)||(e=Xc(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return ns(this._nodes)}sources(){var e=this;return Za(this.nodes(),function(n){return ru(e._in[n])})}sinks(){var e=this;return Za(this.nodes(),function(n){return ru(e._out[n])})}setNodes(e,n){var i=arguments,s=this;return jt(e,function(o){i.length>1?s.setNode(o,n):s.setNode(o)}),this}setNode(e,n){return En(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Bl,this._children[e]={},this._children[Bl][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return En(this._nodes,e)}removeNode(e){var n=this;if(En(this._nodes,e)){var i=function(s){n.removeEdge(n._edgeObjs[s])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],jt(this.children(e),function(s){n.setParent(s)}),delete this._children[e]),jt(ns(this._in[e]),i),delete this._in[e],delete this._preds[e],jt(ns(this._out[e]),i),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Pr(n))n=Bl;else{n+="";for(var i=n;!Pr(i);i=this.parent(i))if(i===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==Bl)return n}}children(e){if(Pr(e)&&(e=Bl),this._isCompound){var n=this._children[e];if(n)return ns(n)}else{if(e===Bl)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return ns(n)}successors(e){var n=this._sucs[e];if(n)return ns(n)}neighbors(e){var n=this.predecessors(e);if(n)return gz(n,this.successors(e))}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var i=this;jt(this._nodes,function(l,h){e(h)&&n.setNode(h,l)}),jt(this._edgeObjs,function(l){n.hasNode(l.v)&&n.hasNode(l.w)&&n.setEdge(l,i.edge(l))});var s={};function o(l){var h=i.parent(l);return h===void 0||n.hasNode(h)?(s[l]=h,h):h in s?s[h]:o(h)}return this._isCompound&&jt(n.nodes(),function(l){n.setParent(l,o(l))}),n}setDefaultEdgeLabel(e){return $c(e)||(e=Xc(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return Qa(this._edgeObjs)}setPath(e,n){var i=this,s=arguments;return Vh(e,function(o,l){return s.length>1?i.setEdge(o,l,n):i.setEdge(o,l),l}),this}setEdge(){var e,n,i,s,o=!1,l=arguments[0];typeof l=="object"&&l!==null&&"v"in l?(e=l.v,n=l.w,i=l.name,arguments.length===2&&(s=arguments[1],o=!0)):(e=l,n=arguments[1],i=arguments[3],arguments.length>2&&(s=arguments[2],o=!0)),e=""+e,n=""+n,Pr(i)||(i=""+i);var h=Yh(this._isDirected,e,n,i);if(En(this._edgeLabels,h))return o&&(this._edgeLabels[h]=s),this;if(!Pr(i)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[h]=o?s:this._defaultEdgeLabelFn(e,n,i);var f=vz(this._isDirected,e,n,i);return e=f.v,n=f.w,Object.freeze(f),this._edgeObjs[h]=f,Ix(this._preds[n],e),Ix(this._sucs[e],n),this._in[n][h]=f,this._out[e][h]=f,this._edgeCount++,this}edge(e,n,i){var s=arguments.length===1?Xm(this._isDirected,arguments[0]):Yh(this._isDirected,e,n,i);return this._edgeLabels[s]}hasEdge(e,n,i){var s=arguments.length===1?Xm(this._isDirected,arguments[0]):Yh(this._isDirected,e,n,i);return En(this._edgeLabels,s)}removeEdge(e,n,i){var s=arguments.length===1?Xm(this._isDirected,arguments[0]):Yh(this._isDirected,e,n,i),o=this._edgeObjs[s];return o&&(e=o.v,n=o.w,delete this._edgeLabels[s],delete this._edgeObjs[s],Rx(this._preds[n],e),Rx(this._sucs[e],n),delete this._in[n][s],delete this._out[e][s],this._edgeCount--),this}inEdges(e,n){var i=this._in[e];if(i){var s=Qa(i);return n?Za(s,function(o){return o.v===n}):s}}outEdges(e,n){var i=this._out[e];if(i){var s=Qa(i);return n?Za(s,function(o){return o.w===n}):s}}nodeEdges(e,n){var i=this.inEdges(e,n);if(i)return i.concat(this.outEdges(e,n))}}jr.prototype._nodeCount=0,jr.prototype._edgeCount=0;function Ix(t,e){t[e]?t[e]++:t[e]=1}function Rx(t,e){--t[e]||delete t[e]}function Yh(t,e,n,i){var s=""+e,o=""+n;if(!t&&s>o){var l=s;s=o,o=l}return s+Dx+o+Dx+(Pr(i)?bz:i)}function vz(t,e,n,i){var s=""+e,o=""+n;if(!t&&s>o){var l=s;s=o,o=l}var h={v:s,w:o};return i&&(h.name=i),h}function Xm(t,e){return Yh(t,e.v,e.w,e.name)}class xz{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return Bx(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&Bx(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,i=n._prev;i!==n;)e.push(JSON.stringify(i,kz)),i=i._prev;return"["+e.join(", ")+"]"}}function Bx(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function kz(t,e){if(t!=="_next"&&t!=="_prev")return e}var wz=Xc(1);function Tz(t,e){if(t.nodeCount()<=1)return[];var n=Cz(t,e||wz),i=Ez(n.graph,n.buckets,n.zeroIdx);return Jc(Wr(i,function(s){return t.outEdges(s.v,s.w)}))}function Ez(t,e,n){for(var i=[],s=e[e.length-1],o=e[0],l;t.nodeCount();){for(;l=o.dequeue();)Km(t,e,n,l);for(;l=s.dequeue();)Km(t,e,n,l);if(t.nodeCount()){for(var h=e.length-2;h>0;--h)if(l=e[h].dequeue(),l){i=i.concat(Km(t,e,n,l,!0));break}}}return i}function Km(t,e,n,i,s){var o=s?[]:void 0;return jt(t.inEdges(i.v),function(l){var h=t.edge(l),f=t.node(l.v);s&&o.push({v:l.v,w:l.w}),f.out-=h,Zm(e,n,f)}),jt(t.outEdges(i.v),function(l){var h=t.edge(l),f=l.w,g=t.node(f);g.in-=h,Zm(e,n,g)}),t.removeNode(i.v),o}function Cz(t,e){var n=new jr,i=0,s=0;jt(t.nodes(),function(h){n.setNode(h,{v:h,in:0,out:0})}),jt(t.edges(),function(h){var f=n.edge(h.v,h.w)||0,g=e(h),y=f+g;n.setEdge(h.v,h.w,y),s=Math.max(s,n.node(h.v).out+=g),i=Math.max(i,n.node(h.w).in+=g)});var o=Rl(s+i+3).map(function(){return new xz}),l=i+1;return jt(n.nodes(),function(h){Zm(o,l,n.node(h))}),{graph:n,buckets:o,zeroIdx:l}}function Zm(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function Sz(t){var e=t.graph().acyclicer==="greedy"?Tz(t,n(t)):Az(t);jt(e,function(i){var s=t.edge(i);t.removeEdge(i),s.forwardName=i.name,s.reversed=!0,t.setEdge(i.w,i.v,s,J1("rev"))});function n(i){return function(s){return i.edge(s).weight}}}function Az(t){var e=[],n={},i={};function s(o){En(i,o)||(i[o]=!0,n[o]=!0,jt(t.outEdges(o),function(l){En(n,l.w)?e.push(l):s(l.w)}),delete n[o])}return jt(t.nodes(),s),e}function Lz(t){jt(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var i=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,i)}})}function iu(t,e,n,i){var s;do s=J1(i);while(t.hasNode(s));return n.dummy=e,t.setNode(s,n),s}function Oz(t){var e=new jr().setGraph(t.graph());return jt(t.nodes(),function(n){e.setNode(n,t.node(n))}),jt(t.edges(),function(n){var i=e.edge(n.v,n.w)||{weight:0,minlen:1},s=t.edge(n);e.setEdge(n.v,n.w,{weight:i.weight+s.weight,minlen:Math.max(i.minlen,s.minlen)})}),e}function Fx(t){var e=new jr({multigraph:t.isMultigraph()}).setGraph(t.graph());return jt(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),jt(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function Px(t,e){var n=t.x,i=t.y,s=e.x-n,o=e.y-i,l=t.width/2,h=t.height/2;if(!s&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var f,g;return Math.abs(o)*l>Math.abs(s)*h?(o<0&&(h=-h),f=h*s/o,g=h):(s<0&&(l=-l),f=l,g=l*o/s),{x:n+f,y:i+g}}function t0(t){var e=Wr(Rl($x(t)+1),function(){return[]});return jt(t.nodes(),function(n){var i=t.node(n),s=i.rank;Pr(s)||(e[s][i.order]=n)}),e}function Mz(t){var e=Fh(Wr(t.nodes(),function(n){return t.node(n).rank}));jt(t.nodes(),function(n){var i=t.node(n);En(i,"rank")&&(i.rank-=e)})}function Nz(t){var e=Fh(Wr(t.nodes(),function(o){return t.node(o).rank})),n=[];jt(t.nodes(),function(o){var l=t.node(o).rank-e;n[l]||(n[l]=[]),n[l].push(o)});var i=0,s=t.graph().nodeRankFactor;jt(n,function(o,l){Pr(o)&&l%s!==0?--i:i&&jt(o,function(h){t.node(h).rank+=i})})}function Vx(t,e,n,i){var s={width:0,height:0};return arguments.length>=4&&(s.rank=n,s.order=i),iu(t,"border",s,e)}function $x(t){return Il(Wr(t.nodes(),function(e){var n=t.node(e).rank;if(!Pr(n))return n}))}function Dz(t,e){var n={lhs:[],rhs:[]};return jt(t,function(i){e(i)?n.lhs.push(i):n.rhs.push(i)}),n}function Iz(t,e){var n=Cx();try{return e()}finally{console.log(t+" time: "+(Cx()-n)+"ms")}}function Rz(t,e){return e()}function Bz(t){function e(n){var i=t.children(n),s=t.node(n);if(i.length&&jt(i,e),En(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var o=s.minRank,l=s.maxRank+1;o<l;++o)Yx(t,"borderLeft","_bl",n,s,o),Yx(t,"borderRight","_br",n,s,o)}}jt(t.children(),e)}function Yx(t,e,n,i,s,o){var l={width:0,height:0,rank:o,borderType:e},h=s[e][o-1],f=iu(t,"border",l,n);s[e][o]=f,t.setParent(f,i),h&&t.setEdge(h,f,{weight:1})}function Fz(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&Ux(t)}function Pz(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&Vz(t),(e==="lr"||e==="rl")&&($z(t),Ux(t))}function Ux(t){jt(t.nodes(),function(e){zx(t.node(e))}),jt(t.edges(),function(e){zx(t.edge(e))})}function zx(t){var e=t.width;t.width=t.height,t.height=e}function Vz(t){jt(t.nodes(),function(e){Qm(t.node(e))}),jt(t.edges(),function(e){var n=t.edge(e);jt(n.points,Qm),En(n,"y")&&Qm(n)})}function Qm(t){t.y=-t.y}function $z(t){jt(t.nodes(),function(e){Jm(t.node(e))}),jt(t.edges(),function(e){var n=t.edge(e);jt(n.points,Jm),En(n,"x")&&Jm(n)})}function Jm(t){var e=t.x;t.x=t.y,t.y=e}function Yz(t){var e=iu(t,"root",{},"_root"),n=Uz(t),i=Il(Qa(n))-1,s=2*i+1;t.graph().nestingRoot=e,jt(t.edges(),function(l){t.edge(l).minlen*=s});var o=zz(t)+1;jt(t.children(),function(l){Hx(t,e,s,o,i,n,l)}),t.graph().nodeRankFactor=s}function Hx(t,e,n,i,s,o,l){var h=t.children(l);if(!h.length){l!==e&&t.setEdge(e,l,{weight:0,minlen:n});return}var f=Vx(t,"_bt"),g=Vx(t,"_bb"),y=t.node(l);t.setParent(f,l),y.borderTop=f,t.setParent(g,l),y.borderBottom=g,jt(h,function(b){Hx(t,e,n,i,s,o,b);var x=t.node(b),k=x.borderTop?x.borderTop:b,O=x.borderBottom?x.borderBottom:b,I=x.borderTop?i:2*i,R=k!==O?1:s-o[l]+1;t.setEdge(f,k,{weight:I,minlen:R,nestingEdge:!0}),t.setEdge(O,g,{weight:I,minlen:R,nestingEdge:!0})}),t.parent(l)||t.setEdge(e,f,{weight:0,minlen:s+o[l]})}function Uz(t){var e={};function n(i,s){var o=t.children(i);o&&o.length&&jt(o,function(l){n(l,s+1)}),e[i]=s}return jt(t.children(),function(i){n(i,1)}),e}function zz(t){return Vh(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function Hz(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,jt(t.edges(),function(n){var i=t.edge(n);i.nestingEdge&&t.removeEdge(n)})}function Wz(t,e,n){var i={},s;jt(n,function(o){for(var l=t.parent(o),h,f;l;){if(h=t.parent(l),h?(f=i[h],i[h]=l):(f=s,s=l),f&&f!==l){e.setEdge(f,l);return}l=h}})}function jz(t,e,n){var i=qz(t),s=new jr({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(o){return t.node(o)});return jt(t.nodes(),function(o){var l=t.node(o),h=t.parent(o);(l.rank===e||l.minRank<=e&&e<=l.maxRank)&&(s.setNode(o),s.setParent(o,h||i),jt(t[n](o),function(f){var g=f.v===o?f.w:f.v,y=s.edge(g,o),b=Pr(y)?0:y.weight;s.setEdge(g,o,{weight:t.edge(f).weight+b})}),En(l,"minRank")&&s.setNode(o,{borderLeft:l.borderLeft[e],borderRight:l.borderRight[e]}))}),s}function qz(t){for(var e;t.hasNode(e=J1("_root")););return e}function Gz(t,e){for(var n=0,i=1;i<e.length;++i)n+=Xz(t,e[i-1],e[i]);return n}function Xz(t,e,n){for(var i=_z(n,Wr(n,function(g,y){return y})),s=Jc(Wr(e,function(g){return $h(Wr(t.outEdges(g),function(y){return{pos:i[y.w],weight:t.edge(y).weight}}),"pos")})),o=1;o<n.length;)o<<=1;var l=2*o-1;o-=1;var h=Wr(new Array(l),function(){return 0}),f=0;return jt(s.forEach(function(g){var y=g.pos+o;h[y]+=g.weight;for(var b=0;y>0;)y%2&&(b+=h[y+1]),y=y-1>>1,h[y]+=g.weight;f+=g.weight*b})),f}function Kz(t){var e={},n=Za(t.nodes(),function(h){return!t.children(h).length}),i=Il(Wr(n,function(h){return t.node(h).rank})),s=Wr(Rl(i+1),function(){return[]});function o(h){if(!En(e,h)){e[h]=!0;var f=t.node(h);s[f.rank].push(h),jt(t.successors(h),o)}}var l=$h(n,function(h){return t.node(h).rank});return jt(l,o),s}function Zz(t,e){return Wr(e,function(n){var i=t.inEdges(n);if(i.length){var s=Vh(i,function(o,l){var h=t.edge(l),f=t.node(l.v);return{sum:o.sum+h.weight*f.order,weight:o.weight+h.weight}},{sum:0,weight:0});return{v:n,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:n}})}function Qz(t,e){var n={};jt(t,function(s,o){var l=n[s.v]={indegree:0,in:[],out:[],vs:[s.v],i:o};Pr(s.barycenter)||(l.barycenter=s.barycenter,l.weight=s.weight)}),jt(e.edges(),function(s){var o=n[s.v],l=n[s.w];!Pr(o)&&!Pr(l)&&(l.indegree++,o.out.push(n[s.w]))});var i=Za(n,function(s){return!s.indegree});return Jz(i)}function Jz(t){var e=[];function n(o){return function(l){l.merged||(Pr(l.barycenter)||Pr(o.barycenter)||l.barycenter>=o.barycenter)&&tH(o,l)}}function i(o){return function(l){l.in.push(o),--l.indegree===0&&t.push(l)}}for(;t.length;){var s=t.pop();e.push(s),jt(s.in.reverse(),n(s)),jt(s.out,i(s))}return Wr(Za(e,function(o){return!o.merged}),function(o){return Ph(o,["vs","i","barycenter","weight"])})}function tH(t,e){var n=0,i=0;t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0}function eH(t,e){var n=Dz(t,function(y){return En(y,"barycenter")}),i=n.lhs,s=$h(n.rhs,function(y){return-y.i}),o=[],l=0,h=0,f=0;i.sort(nH(!!e)),f=Wx(o,s,f),jt(i,function(y){f+=y.vs.length,o.push(y.vs),l+=y.barycenter*y.weight,h+=y.weight,f=Wx(o,s,f)});var g={vs:Jc(o)};return h&&(g.barycenter=l/h,g.weight=h),g}function Wx(t,e,n){for(var i;e.length&&(i=Z1(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}function nH(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}function jx(t,e,n,i){var s=t.children(e),o=t.node(e),l=o?o.borderLeft:void 0,h=o?o.borderRight:void 0,f={};l&&(s=Za(s,function(O){return O!==l&&O!==h}));var g=Zz(t,s);jt(g,function(O){if(t.children(O.v).length){var I=jx(t,O.v,n,i);f[O.v]=I,En(I,"barycenter")&&iH(O,I)}});var y=Qz(g,n);rH(y,f);var b=eH(y,i);if(l&&(b.vs=Jc([l,b.vs,h]),t.predecessors(l).length)){var x=t.node(t.predecessors(l)[0]),k=t.node(t.predecessors(h)[0]);En(b,"barycenter")||(b.barycenter=0,b.weight=0),b.barycenter=(b.barycenter*b.weight+x.order+k.order)/(b.weight+2),b.weight+=2}return b}function rH(t,e){jt(t,function(n){n.vs=Jc(n.vs.map(function(i){return e[i]?e[i].vs:i}))})}function iH(t,e){Pr(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function sH(t){var e=$x(t),n=qx(t,Rl(1,e+1),"inEdges"),i=qx(t,Rl(e-1,-1,-1),"outEdges"),s=Kz(t);Gx(t,s);for(var o=Number.POSITIVE_INFINITY,l,h=0,f=0;f<4;++h,++f){aH(h%2?n:i,h%4>=2),s=t0(t);var g=Gz(t,s);g<o&&(f=0,l=RY(s),o=g)}Gx(t,l)}function qx(t,e,n){return Wr(e,function(i){return jz(t,i,n)})}function aH(t,e){var n=new jr;jt(t,function(i){var s=i.graph().root,o=jx(i,s,n,e);jt(o.vs,function(l,h){i.node(l).order=h}),Wz(i,n,o.vs)})}function Gx(t,e){jt(e,function(n){jt(n,function(i,s){t.node(i).order=s})})}function oH(t){var e=cH(t);jt(t.graph().dummyChains,function(n){for(var i=t.node(n),s=i.edgeObj,o=lH(t,e,s.v,s.w),l=o.path,h=o.lca,f=0,g=l[f],y=!0;n!==s.w;){if(i=t.node(n),y){for(;(g=l[f])!==h&&t.node(g).maxRank<i.rank;)f++;g===h&&(y=!1)}if(!y){for(;f<l.length-1&&t.node(g=l[f+1]).minRank<=i.rank;)f++;g=l[f]}t.setParent(n,g),n=t.successors(n)[0]}})}function lH(t,e,n,i){var s=[],o=[],l=Math.min(e[n].low,e[i].low),h=Math.max(e[n].lim,e[i].lim),f,g;f=n;do f=t.parent(f),s.push(f);while(f&&(e[f].low>l||h>e[f].lim));for(g=f,f=i;(f=t.parent(f))!==g;)o.push(f);return{path:s.concat(o.reverse()),lca:g}}function cH(t){var e={},n=0;function i(s){var o=n;jt(t.children(s),i),e[s]={low:o,lim:n++}}return jt(t.children(),i),e}function uH(t,e){var n={};function i(s,o){var l=0,h=0,f=s.length,g=Z1(o);return jt(o,function(y,b){var x=dH(t,y),k=x?t.node(x).order:f;(x||y===g)&&(jt(o.slice(h,b+1),function(O){jt(t.predecessors(O),function(I){var R=t.node(I),Y=R.order;(Y<l||k<Y)&&!(R.dummy&&t.node(O).dummy)&&Xx(n,I,O)})}),h=b+1,l=k)}),o}return Vh(e,i),n}function hH(t,e){var n={};function i(o,l,h,f,g){var y;jt(Rl(l,h),function(b){y=o[b],t.node(y).dummy&&jt(t.predecessors(y),function(x){var k=t.node(x);k.dummy&&(k.order<f||k.order>g)&&Xx(n,x,y)})})}function s(o,l){var h=-1,f,g=0;return jt(l,function(y,b){if(t.node(y).dummy==="border"){var x=t.predecessors(y);x.length&&(f=t.node(x[0]).order,i(l,g,b,h,f),g=b,h=f)}i(l,g,l.length,f,o.length)}),l}return Vh(e,s),n}function dH(t,e){if(t.node(e).dummy)return Wm(t.predecessors(e),function(n){return t.node(n).dummy})}function Xx(t,e,n){if(e>n){var i=e;e=n,n=i}var s=t[e];s||(t[e]=s={}),s[n]=!0}function fH(t,e,n){if(e>n){var i=e;e=n,n=i}return En(t[e],n)}function pH(t,e,n,i){var s={},o={},l={};return jt(e,function(h){jt(h,function(f,g){s[f]=f,o[f]=f,l[f]=g})}),jt(e,function(h){var f=-1;jt(h,function(g){var y=i(g);if(y.length){y=$h(y,function(I){return l[I]});for(var b=(y.length-1)/2,x=Math.floor(b),k=Math.ceil(b);x<=k;++x){var O=y[x];o[g]===g&&f<l[O]&&!fH(n,g,O)&&(o[O]=g,o[g]=s[g]=s[O],f=l[O])}}})}),{root:s,align:o}}function gH(t,e,n,i,s){var o={},l=mH(t,e,n,s),h=s?"borderLeft":"borderRight";function f(b,x){for(var k=l.nodes(),O=k.pop(),I={};O;)I[O]?b(O):(I[O]=!0,k.push(O),k=k.concat(x(O))),O=k.pop()}function g(b){o[b]=l.inEdges(b).reduce(function(x,k){return Math.max(x,o[k.v]+l.edge(k))},0)}function y(b){var x=l.outEdges(b).reduce(function(O,I){return Math.min(O,o[I.w]-l.edge(I))},Number.POSITIVE_INFINITY),k=t.node(b);x!==Number.POSITIVE_INFINITY&&k.borderType!==h&&(o[b]=Math.max(o[b],x))}return f(g,l.predecessors.bind(l)),f(y,l.successors.bind(l)),jt(i,function(b){o[b]=o[n[b]]}),o}function mH(t,e,n,i){var s=new jr,o=t.graph(),l=xH(o.nodesep,o.edgesep,i);return jt(e,function(h){var f;jt(h,function(g){var y=n[g];if(s.setNode(y),f){var b=n[f],x=s.edge(b,y);s.setEdge(b,y,Math.max(l(t,g,f),x||0))}f=g})}),s}function yH(t,e){return Gm(Qa(e),function(n){var i=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;return FU(n,function(o,l){var h=kH(t,l)/2;i=Math.max(o+h,i),s=Math.min(o-h,s)}),i-s})}function _H(t,e){var n=Qa(e),i=Fh(n),s=Il(n);jt(["u","d"],function(o){jt(["l","r"],function(l){var h=o+l,f=t[h],g;if(f!==e){var y=Qa(f);g=l==="l"?i-Fh(y):s-Il(y),g&&(t[h]=Q1(f,function(b){return b+g}))}})})}function bH(t,e){return Q1(t.ul,function(n,i){if(e)return t[e.toLowerCase()][i];var s=$h(Wr(t,i));return(s[1]+s[2])/2})}function vH(t){var e=t0(t),n=qm(uH(t,e),hH(t,e)),i={},s;jt(["u","d"],function(l){s=l==="u"?e:Qa(e).reverse(),jt(["l","r"],function(h){h==="r"&&(s=Wr(s,function(b){return Qa(b).reverse()}));var f=(l==="u"?t.predecessors:t.successors).bind(t),g=pH(t,s,n,f),y=gH(t,s,g.root,g.align,h==="r");h==="r"&&(y=Q1(y,function(b){return-b})),i[l+h]=y})});var o=yH(t,i);return _H(i,o),bH(i,t.graph().align)}function xH(t,e,n){return function(i,s,o){var l=i.node(s),h=i.node(o),f=0,g;if(f+=l.width/2,En(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":g=-l.width/2;break;case"r":g=l.width/2;break}if(g&&(f+=n?g:-g),g=0,f+=(l.dummy?e:t)/2,f+=(h.dummy?e:t)/2,f+=h.width/2,En(h,"labelpos"))switch(h.labelpos.toLowerCase()){case"l":g=h.width/2;break;case"r":g=-h.width/2;break}return g&&(f+=n?g:-g),g=0,f}}function kH(t,e){return t.node(e).width}function wH(t){t=Fx(t),TH(t),jt(vH(t),function(e,n){t.node(n).x=e})}function TH(t){var e=t0(t),n=t.graph().ranksep,i=0;jt(e,function(s){var o=Il(Wr(s,function(l){return t.node(l).height}));jt(s,function(l){t.node(l).y=i+o/2}),i+=o+n})}function su(t,e){var n=e&&e.debugTiming?Iz:Rz;n("layout",function(){var i=n("  buildLayoutGraph",function(){return RH(t)});n("  runLayout",function(){EH(i,n)}),n("  updateInputGraph",function(){CH(t,i)})})}function EH(t,e){e("    makeSpaceForEdgeLabels",function(){BH(t)}),e("    removeSelfEdges",function(){WH(t)}),e("    acyclic",function(){Sz(t)}),e("    nestingGraph.run",function(){Yz(t)}),e("    rank",function(){sW(Fx(t))}),e("    injectEdgeLabelProxies",function(){FH(t)}),e("    removeEmptyRanks",function(){Nz(t)}),e("    nestingGraph.cleanup",function(){Hz(t)}),e("    normalizeRanks",function(){Mz(t)}),e("    assignRankMinMax",function(){PH(t)}),e("    removeEdgeLabelProxies",function(){VH(t)}),e("    normalize.run",function(){GH(t)}),e("    parentDummyChains",function(){oH(t)}),e("    addBorderSegments",function(){Bz(t)}),e("    order",function(){sH(t)}),e("    insertSelfEdges",function(){jH(t)}),e("    adjustCoordinateSystem",function(){Fz(t)}),e("    position",function(){wH(t)}),e("    positionSelfEdges",function(){qH(t)}),e("    removeBorderNodes",function(){HH(t)}),e("    normalize.undo",function(){KH(t)}),e("    fixupEdgeLabelCoords",function(){UH(t)}),e("    undoCoordinateSystem",function(){Pz(t)}),e("    translateGraph",function(){$H(t)}),e("    assignNodeIntersects",function(){YH(t)}),e("    reversePoints",function(){zH(t)}),e("    acyclic.undo",function(){Lz(t)})}function CH(t,e){jt(t.nodes(),function(n){var i=t.node(n),s=e.node(n);i&&(i.x=s.x,i.y=s.y,e.children(n).length&&(i.width=s.width,i.height=s.height))}),jt(t.edges(),function(n){var i=t.edge(n),s=e.edge(n);i.points=s.points,En(s,"x")&&(i.x=s.x,i.y=s.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var SH=["nodesep","edgesep","ranksep","marginx","marginy"],AH={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},LH=["acyclicer","ranker","rankdir","align"],OH=["width","height"],MH={width:0,height:0},NH=["minlen","weight","width","height","labeloffset"],DH={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},IH=["labelpos"];function RH(t){var e=new jr({multigraph:!0,compound:!0}),n=e2(t.graph());return e.setGraph(qm({},AH,t2(n,SH),Ph(n,LH))),jt(t.nodes(),function(i){var s=e2(t.node(i));e.setNode(i,nu(t2(s,OH),MH)),e.setParent(i,t.parent(i))}),jt(t.edges(),function(i){var s=e2(t.edge(i));e.setEdge(i,qm({},DH,t2(s,NH),Ph(s,IH)))}),e}function BH(t){var e=t.graph();e.ranksep/=2,jt(t.edges(),function(n){var i=t.edge(n);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function FH(t){jt(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var i=t.node(e.v),s=t.node(e.w),o={rank:(s.rank-i.rank)/2+i.rank,e};iu(t,"edge-proxy",o,"_ep")}})}function PH(t){var e=0;jt(t.nodes(),function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=Il(e,i.maxRank))}),t.graph().maxRank=e}function VH(t){jt(t.nodes(),function(e){var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function $H(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,s=0,o=t.graph(),l=o.marginx||0,h=o.marginy||0;function f(g){var y=g.x,b=g.y,x=g.width,k=g.height;e=Math.min(e,y-x/2),n=Math.max(n,y+x/2),i=Math.min(i,b-k/2),s=Math.max(s,b+k/2)}jt(t.nodes(),function(g){f(t.node(g))}),jt(t.edges(),function(g){var y=t.edge(g);En(y,"x")&&f(y)}),e-=l,i-=h,jt(t.nodes(),function(g){var y=t.node(g);y.x-=e,y.y-=i}),jt(t.edges(),function(g){var y=t.edge(g);jt(y.points,function(b){b.x-=e,b.y-=i}),En(y,"x")&&(y.x-=e),En(y,"y")&&(y.y-=i)}),o.width=n-e+l,o.height=s-i+h}function YH(t){jt(t.edges(),function(e){var n=t.edge(e),i=t.node(e.v),s=t.node(e.w),o,l;n.points?(o=n.points[0],l=n.points[n.points.length-1]):(n.points=[],o=s,l=i),n.points.unshift(Px(i,o)),n.points.push(Px(s,l))})}function UH(t){jt(t.edges(),function(e){var n=t.edge(e);if(En(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function zH(t){jt(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function HH(t){jt(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),s=t.node(n.borderBottom),o=t.node(Z1(n.borderLeft)),l=t.node(Z1(n.borderRight));n.width=Math.abs(l.x-o.x),n.height=Math.abs(s.y-i.y),n.x=o.x+n.width/2,n.y=i.y+n.height/2}}),jt(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function WH(t){jt(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function jH(t){var e=t0(t);jt(e,function(n){var i=0;jt(n,function(s,o){var l=t.node(s);l.order=o+i,jt(l.selfEdges,function(h){iu(t,"selfedge",{width:h.label.width,height:h.label.height,rank:l.rank,order:o+ ++i,e:h.e,label:h.label},"_se")}),delete l.selfEdges})})}function qH(t){jt(t.nodes(),function(e){var n=t.node(e);if(n.dummy==="selfedge"){var i=t.node(n.e.v),s=i.x+i.width/2,o=i.y,l=n.x-s,h=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:s+2*l/3,y:o-h},{x:s+5*l/6,y:o-h},{x:s+l,y:o},{x:s+5*l/6,y:o+h},{x:s+2*l/3,y:o+h}],n.label.x=n.x,n.label.y=n.y}})}function t2(t,e){return Q1(Ph(t,e),Number)}function e2(t){var e={};return jt(t,function(n,i){e[i.toLowerCase()]=n}),e}function GH(t){t.graph().dummyChains=[],jt(t.edges(),function(e){XH(t,e)})}function XH(t,e){var n=e.v,i=t.node(n).rank,s=e.w,o=t.node(s).rank,l=e.name,h=t.edge(e),f=h.labelRank;if(o!==i+1){t.removeEdge(e);var g,y,b;for(b=0,++i;i<o;++b,++i)h.points=[],y={width:0,height:0,edgeLabel:h,edgeObj:e,rank:i},g=iu(t,"edge",y,"_d"),i===f&&(y.width=h.width,y.height=h.height,y.dummy="edge-label",y.labelpos=h.labelpos),t.setEdge(n,g,{weight:h.weight},l),b===0&&t.graph().dummyChains.push(g),n=g;t.setEdge(n,s,{weight:h.weight},l)}}function KH(t){jt(t.graph().dummyChains,function(e){var n=t.node(e),i=n.edgeLabel,s;for(t.setEdge(n.edgeObj,i);n.dummy;)s=t.successors(e)[0],t.removeNode(e),i.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),e=s,n=t.node(e)})}function n2(t){var e={};function n(i){var s=t.node(i);if(En(e,i))return s.rank;e[i]=!0;var o=Fh(Wr(t.outEdges(i),function(l){return n(l.w)-t.edge(l).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),s.rank=o}jt(t.sources(),n)}function Uh(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function Kx(t){var e=new jr({directed:!1}),n=t.nodes()[0],i=t.nodeCount();e.setNode(n,{});for(var s,o;ZH(e,t)<i;)s=QH(e,t),o=e.hasNode(s.v)?Uh(t,s):-Uh(t,s),JH(e,t,o);return e}function ZH(t,e){function n(i){jt(e.nodeEdges(i),function(s){var o=s.v,l=i===o?s.w:o;!t.hasNode(l)&&!Uh(e,s)&&(t.setNode(l,{}),t.setEdge(i,l,{}),n(l))})}return jt(t.nodes(),n),t.nodeCount()}function QH(t,e){return Gm(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return Uh(e,n)})}function JH(t,e,n){jt(t.nodes(),function(i){e.node(i).rank+=n})}function Zx(t,e,n){Hr(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),s=[],o={};return jt(e,function(l){if(!t.hasNode(l))throw new Error("Graph does not have node: "+l);Qx(t,l,n==="post",o,i,s)}),s}function Qx(t,e,n,i,s,o){En(i,e)||(i[e]=!0,n||o.push(e),jt(s(e),function(l){Qx(t,l,n,i,s,o)}),n&&o.push(e))}function tW(t,e){return Zx(t,e,"post")}function eW(t,e){return Zx(t,e,"pre")}Fl.initLowLimValues=i2,Fl.initCutValues=r2,Fl.calcCutValue=Jx,Fl.leaveEdge=ek,Fl.enterEdge=nk,Fl.exchangeEdges=rk;function Fl(t){t=Oz(t),n2(t);var e=Kx(t);i2(e),r2(e,t);for(var n,i;n=ek(e);)i=nk(e,t,n),rk(e,t,n,i)}function r2(t,e){var n=tW(t,t.nodes());n=n.slice(0,n.length-1),jt(n,function(i){nW(t,e,i)})}function nW(t,e,n){var i=t.node(n),s=i.parent;t.edge(n,s).cutvalue=Jx(t,e,n)}function Jx(t,e,n){var i=t.node(n),s=i.parent,o=!0,l=e.edge(n,s),h=0;return l||(o=!1,l=e.edge(s,n)),h=l.weight,jt(e.nodeEdges(n),function(f){var g=f.v===n,y=g?f.w:f.v;if(y!==s){var b=g===o,x=e.edge(f).weight;if(h+=b?x:-x,iW(t,n,y)){var k=t.edge(n,y).cutvalue;h+=b?-k:k}}}),h}function i2(t,e){arguments.length<2&&(e=t.nodes()[0]),tk(t,{},1,e)}function tk(t,e,n,i,s){var o=n,l=t.node(i);return e[i]=!0,jt(t.neighbors(i),function(h){En(e,h)||(n=tk(t,e,n,h,i))}),l.low=o,l.lim=n++,s?l.parent=s:delete l.parent,n}function ek(t){return Wm(t.edges(),function(e){return t.edge(e).cutvalue<0})}function nk(t,e,n){var i=n.v,s=n.w;e.hasEdge(i,s)||(i=n.w,s=n.v);var o=t.node(i),l=t.node(s),h=o,f=!1;o.lim>l.lim&&(h=l,f=!0);var g=Za(e.edges(),function(y){return f===ik(t,t.node(y.v),h)&&f!==ik(t,t.node(y.w),h)});return Gm(g,function(y){return Uh(e,y)})}function rk(t,e,n,i){var s=n.v,o=n.w;t.removeEdge(s,o),t.setEdge(i.v,i.w,{}),i2(t),r2(t,e),rW(t,e)}function rW(t,e){var n=Wm(t.nodes(),function(s){return!e.node(s).parent}),i=eW(t,n);i=i.slice(1),jt(i,function(s){var o=t.node(s).parent,l=e.edge(s,o),h=!1;l||(l=e.edge(o,s),h=!0),e.node(s).rank=e.node(o).rank+(h?l.minlen:-l.minlen)})}function iW(t,e,n){return t.hasEdge(e,n)}function ik(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function sW(t){switch(t.graph().ranker){case"network-simplex":sk(t);break;case"tight-tree":oW(t);break;case"longest-path":aW(t);break;default:sk(t)}}var aW=n2;function oW(t){n2(t),Kx(t)}function sk(t){Fl(t)}let ak=0;const lW=function(t,e,n,i,s){const o=function(V){switch(V){case s.db.relationType.AGGREGATION:return"aggregation";case s.db.relationType.EXTENSION:return"extension";case s.db.relationType.COMPOSITION:return"composition";case s.db.relationType.DEPENDENCY:return"dependency";case s.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter(V=>!Number.isNaN(V.y));const l=e.points,h=Dc().x(function(V){return V.x}).y(function(V){return V.y}).curve(Ic),f=t.append("path").attr("d",h(l)).attr("id","edge"+ak).attr("class","relation");let g="";i.arrowMarkerAbsolute&&(g=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,g=g.replace(/\(/g,"\\("),g=g.replace(/\)/g,"\\)")),n.relation.lineType==1&&f.attr("class","relation dashed-line"),n.relation.lineType==10&&f.attr("class","relation dotted-line"),n.relation.type1!=="none"&&f.attr("marker-start","url("+g+"#"+o(n.relation.type1)+"Start)"),n.relation.type2!=="none"&&f.attr("marker-end","url("+g+"#"+o(n.relation.type2)+"End)");let y,b;const x=e.points.length;let k=kn.calcLabelPosition(e.points);y=k.x,b=k.y;let O,I,R,Y;if(x%2!==0&&x>1){let V=kn.calcCardinalityPosition(n.relation.type1!=="none",e.points,e.points[0]),X=kn.calcCardinalityPosition(n.relation.type2!=="none",e.points,e.points[x-1]);E.debug("cardinality_1_point "+JSON.stringify(V)),E.debug("cardinality_2_point "+JSON.stringify(X)),O=V.x,I=V.y,R=X.x,Y=X.y}if(n.title!==void 0){const V=t.append("g").attr("class","classLabel"),X=V.append("text").attr("class","label").attr("x",y).attr("y",b).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=X;const J=X.node().getBBox();V.insert("rect",":first-child").attr("class","box").attr("x",J.x-i.padding/2).attr("y",J.y-i.padding/2).attr("width",J.width+i.padding).attr("height",J.height+i.padding)}E.info("Rendering relation "+JSON.stringify(n)),n.relationTitle1!==void 0&&n.relationTitle1!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",O).attr("y",I).attr("fill","black").attr("font-size","6").text(n.relationTitle1),n.relationTitle2!==void 0&&n.relationTitle2!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",R).attr("y",Y).attr("fill","black").attr("font-size","6").text(n.relationTitle2),ak++},cW=function(t,e,n,i){E.debug("Rendering class ",e,n);const s=e.id,o={id:s,label:e.id,width:0,height:0},l=t.append("g").attr("id",i.db.lookUpDomId(s)).attr("class","classGroup");let h;e.link?h=l.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):h=l.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let f=!0;e.annotations.forEach(function(st){const lt=h.append("tspan").text("\xAB"+st+"\xBB");f||lt.attr("dy",n.textHeight),f=!1});let g=e.id;e.type!==void 0&&e.type!==""&&(g+="<"+e.type+">");const y=h.append("tspan").text(g).attr("class","title");f||y.attr("dy",n.textHeight);const b=h.node().getBBox().height,x=l.append("line").attr("x1",0).attr("y1",n.padding+b+n.dividerMargin/2).attr("y2",n.padding+b+n.dividerMargin/2),k=l.append("text").attr("x",n.padding).attr("y",b+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");f=!0,e.members.forEach(function(st){ok(k,st,f,n),f=!1});const O=k.node().getBBox(),I=l.append("line").attr("x1",0).attr("y1",n.padding+b+n.dividerMargin+O.height).attr("y2",n.padding+b+n.dividerMargin+O.height),R=l.append("text").attr("x",n.padding).attr("y",b+2*n.dividerMargin+O.height+n.textHeight).attr("fill","white").attr("class","classText");f=!0,e.methods.forEach(function(st){ok(R,st,f,n),f=!1});const Y=l.node().getBBox();var V=" ";e.cssClasses.length>0&&(V=V+e.cssClasses.join(" "));const J=l.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",Y.width+2*n.padding).attr("height",Y.height+n.padding+.5*n.dividerMargin).attr("class",V).node().getBBox().width;return h.node().childNodes.forEach(function(st){st.setAttribute("x",(J-st.getBBox().width)/2)}),e.tooltip&&h.insert("title").text(e.tooltip),x.attr("x2",J),I.attr("x2",J),o.width=J,o.height=Y.height+n.padding+.5*n.dividerMargin,o},uW=function(t,e,n,i){E.debug("Rendering note ",e,n);const s=e.id,o={id:s,text:e.text,width:0,height:0},l=t.append("g").attr("id",s).attr("class","classGroup");let h=l.append("text").attr("y",n.textHeight+n.padding).attr("x",0);const f=JSON.parse(`"${e.text}"`).split(`
`);f.forEach(function(x){E.debug(`Adding line: ${x}`),h.append("tspan").text(x).attr("class","title").attr("dy",n.textHeight)});const g=l.node().getBBox(),b=l.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",g.width+2*n.padding).attr("height",g.height+f.length*n.textHeight+n.padding+.5*n.dividerMargin).node().getBBox().width;return h.node().childNodes.forEach(function(x){x.setAttribute("x",(b-x.getBBox().width)/2)}),o.width=b,o.height=g.height+f.length*n.textHeight+n.padding+.5*n.dividerMargin,o},e0=function(t){const e=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,n=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let i=t.match(e),s=t.match(n);return i&&!s?hW(i):s?dW(s):fW(t)},hW=function(t){let e="",n="";try{let i=t[1]?t[1].trim():"",s=t[2]?t[2].trim():"",o=t[3]?Lo(t[3].trim()):"",l=t[4]?t[4].trim():"",h=t[5]?t[5].trim():"";n=i+s+o+" "+l,e=s2(h)}catch{n=t}return{displayText:n,cssStyle:e}},dW=function(t){let e="",n="";try{let i=t[1]?t[1].trim():"",s=t[2]?t[2].trim():"",o=t[3]?Lo(t[3].trim()):"",l=t[4]?t[4].trim():"",h=t[5]?" : "+Lo(t[5]).trim():"";n=i+s+"("+o+")"+h,e=s2(l)}catch{n=t}return{displayText:n,cssStyle:e}},fW=function(t){let e="",n="",i="",s=t.indexOf("("),o=t.indexOf(")");if(s>1&&o>s&&o<=t.length){let l="",h="",f=t.substring(0,1);f.match(/\w/)?h=t.substring(0,s).trim():(f.match(/[#+~-]/)&&(l=f),h=t.substring(1,s).trim());const g=t.substring(s+1,o);t.substring(o+1,1),n=s2(t.substring(o+1,o+2)),e=l+h+"("+Lo(g.trim())+")",o<t.length&&(i=t.substring(o+2).trim(),i!==""&&(i=" : "+Lo(i),e+=i))}else e=Lo(t);return{displayText:e,cssStyle:n}},ok=function(t,e,n,i){let s=e0(e);const o=t.append("tspan").attr("x",i.padding).text(s.displayText);s.cssStyle!==""&&o.attr("style",s.cssStyle),n||o.attr("dy",i.textHeight)},s2=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},a2={drawClass:cW,drawEdge:lW,drawNote:uW,parseMember:e0};let n0={};const r0=20,zh=function(t){const e=Object.entries(n0).find(n=>n[1].label===t);if(e)return e[0]},pW=function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},gW={draw:function(t,e,n,i){const s=ht().class;n0={},E.info("Rendering diagram "+t);const o=ht().securityLevel;let l;o==="sandbox"&&(l=re("#i"+e));const h=re(o==="sandbox"?l.nodes()[0].contentDocument.body:"body"),f=h.select(`[id='${e}']`);pW(f);const g=new jr({multigraph:!0});g.setGraph({isMultiGraph:!0}),g.setDefaultEdgeLabel(function(){return{}});const y=i.db.getClasses(),b=Object.keys(y);for(const V of b){const X=y[V],J=a2.drawClass(f,X,s,i);n0[J.id]=J,g.setNode(J.id,J),E.info("Org height: "+J.height)}i.db.getRelations().forEach(function(V){E.info("tjoho"+zh(V.id1)+zh(V.id2)+JSON.stringify(V)),g.setEdge(zh(V.id1),zh(V.id2),{relation:V},V.title||"DEFAULT")}),i.db.getNotes().forEach(function(V){E.debug(`Adding note: ${JSON.stringify(V)}`);const X=a2.drawNote(f,V,s,i);n0[X.id]=X,g.setNode(X.id,X),V.class&&V.class in y&&g.setEdge(V.id,zh(V.class),{relation:{id1:V.id,id2:V.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),su(g),g.nodes().forEach(function(V){V!==void 0&&g.node(V)!==void 0&&(E.debug("Node "+V+": "+JSON.stringify(g.node(V))),h.select("#"+(i.db.lookUpDomId(V)||V)).attr("transform","translate("+(g.node(V).x-g.node(V).width/2)+","+(g.node(V).y-g.node(V).height/2)+" )"))}),g.edges().forEach(function(V){V!==void 0&&g.edge(V)!==void 0&&(E.debug("Edge "+V.v+" -> "+V.w+": "+JSON.stringify(g.edge(V))),a2.drawEdge(f,g.edge(V),g.edge(V).relation,s,i))});const O=f.node().getBBox(),I=O.width+r0*2,R=O.height+r0*2;Fs(f,R,I,s.useMaxWidth);const Y=`${O.x-r0} ${O.y-r0} ${I} ${R}`;E.debug(`viewBox ${Y}`),f.attr("viewBox",Y)}};function Ja(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:mW(t),edges:yW(t)};return Pr(t.graph())||(e.value=NY(t.graph())),e}function mW(t){return Wr(t.nodes(),function(e){var n=t.node(e),i=t.parent(e),s={v:e};return Pr(n)||(s.value=n),Pr(i)||(s.parent=i),s})}function yW(t){return Wr(t.edges(),function(e){var n=t.edge(e),i={v:e.v,w:e.w};return Pr(e.name)||(i.name=e.name),Pr(n)||(i.value=n),i})}const _W=(t,e,n,i)=>{e.forEach(s=>{bW[s](t,n,i)})},bW={extension:(t,e,n)=>{E.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(t,e)=>{t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(t,e)=>{t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(t,e)=>{t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},vW=_W;function xW(t,e){e&&t.attr("style",e)}function kW(t){const e=re(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),i=t.label,s=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+s+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>"),xW(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}const Gi=(t,e,n,i)=>{let s=t||"";if(typeof s=="object"&&(s=s[0]),oi(ht().flowchart.htmlLabels)){s=s.replace(/\\n|\n/g,"<br />"),E.info("vertexText"+s);const o={isNode:i,label:by(s).replace(/fa[blrs]?:fa-[\w-]+/g,h=>`<i class='${h.replace(":"," ")}'></i>`),labelStyle:e.replace("fill:","color:")};return kW(o)}else{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",e.replace("color:","fill:"));let l=[];typeof s=="string"?l=s.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(s)?l=s:l=[];for(const h of l){const f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.setAttribute("dy","1em"),f.setAttribute("x","0"),n?f.setAttribute("class","title-row"):f.setAttribute("class","row"),f.textContent=h.trim(),o.appendChild(f)}return o}},Ti=(t,e,n,i)=>{let s;n?s=n:s="node default";const o=t.insert("g").attr("class",s).attr("id",e.domId||e.id),l=o.insert("g").attr("class","label").attr("style",e.labelStyle);let h;e.labelText===void 0?h="":h=typeof e.labelText=="string"?e.labelText:e.labelText[0];const f=l.node().appendChild(Gi(Ds(by(h),ht()),e.labelStyle,!1,i));let g=f.getBBox();if(oi(ht().flowchart.htmlLabels)){const b=f.children[0],x=re(f);g=b.getBoundingClientRect(),x.attr("width",g.width),x.attr("height",g.height)}const y=e.padding/2;return l.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),{shapeSvg:o,bbox:g,halfPadding:y,label:l}},Vr=(t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height};function to(t,e,n,i){return t.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}let $n={},js={},lk={};const wW=()=>{js={},lk={},$n={}},i0=(t,e)=>(E.trace("In isDecendant",e," ",t," = ",js[e].includes(t)),!!js[e].includes(t)),TW=(t,e)=>(E.info("Decendants of ",e," is ",js[e]),E.info("Edge is ",t),t.v===e||t.w===e?!1:js[e]?js[e].includes(t.v)||i0(t.v,e)||i0(t.w,e)||js[e].includes(t.w):(E.debug("Tilt, ",e,",not in decendants"),!1)),ck=(t,e,n,i)=>{E.warn("Copying children of ",t,"root",i,"data",e.node(t),i);const s=e.children(t)||[];t!==i&&s.push(t),E.warn("Copying (nodes) clusterId",t,"nodes",s),s.forEach(o=>{if(e.children(o).length>0)ck(o,e,n,i);else{const l=e.node(o);E.info("cp ",o," to ",i," with parent ",t),n.setNode(o,l),i!==e.parent(o)&&(E.warn("Setting parent",o,e.parent(o)),n.setParent(o,e.parent(o))),t!==i&&o!==t?(E.debug("Setting parent",o,t),n.setParent(o,t)):(E.info("In copy ",t,"root",i,"data",e.node(t),i),E.debug("Not Setting parent for node=",o,"cluster!==rootId",t!==i,"node!==clusterId",o!==t));const h=e.edges(o);E.debug("Copying Edges",h),h.forEach(f=>{E.info("Edge",f);const g=e.edge(f.v,f.w,f.name);E.info("Edge data",g,i);try{TW(f,i)?(E.info("Copying as ",f.v,f.w,g,f.name),n.setEdge(f.v,f.w,g,f.name),E.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):E.info("Skipping copy of edge ",f.v,"-->",f.w," rootId: ",i," clusterId:",t)}catch(y){E.error(y)}})}E.debug("Removing node",o),e.removeNode(o)})},uk=(t,e)=>{const n=e.children(t);let i=[...n];for(const s of n)lk[s]=t,i=[...i,...uk(s,e)];return i},Hh=(t,e)=>{E.trace("Searching",t);const n=e.children(t);if(E.trace("Searching children of id ",t,n),n.length<1)return E.trace("This is a valid node",t),t;for(const i of n){const s=Hh(i,e);if(s)return E.trace("Found replacement for",t," => ",s),s}},s0=t=>!$n[t]||!$n[t].externalConnections?t:$n[t]?$n[t].id:t,EW=(t,e)=>{if(!t||e>10){E.debug("Opting out, no graph ");return}else E.debug("Opting in, graph ");t.nodes().forEach(function(n){t.children(n).length>0&&(E.warn("Cluster identified",n," Replacement id in edges: ",Hh(n,t)),js[n]=uk(n,t),$n[n]={id:Hh(n,t),clusterData:t.node(n)})}),t.nodes().forEach(function(n){const i=t.children(n),s=t.edges();i.length>0?(E.debug("Cluster identified",n,js),s.forEach(o=>{if(o.v!==n&&o.w!==n){const l=i0(o.v,n),h=i0(o.w,n);l^h&&(E.warn("Edge: ",o," leaves cluster ",n),E.warn("Decendants of XXX ",n,": ",js[n]),$n[n].externalConnections=!0)}})):E.debug("Not a cluster ",n,js)}),t.edges().forEach(function(n){const i=t.edge(n);E.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(n)),E.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(t.edge(n)));let s=n.v,o=n.w;if(E.warn("Fix XXX",$n,"ids:",n.v,n.w,"Translating: ",$n[n.v]," --- ",$n[n.w]),$n[n.v]&&$n[n.w]&&$n[n.v]===$n[n.w]){E.warn("Fixing and trixing link to self - removing XXX",n.v,n.w,n.name),E.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),s=s0(n.v),o=s0(n.w),t.removeEdge(n.v,n.w,n.name);const l=n.w+"---"+n.v;t.setNode(l,{domId:l,id:l,labelStyle:"",labelText:i.label,padding:0,shape:"labelRect",style:""});const h=JSON.parse(JSON.stringify(i)),f=JSON.parse(JSON.stringify(i));h.label="",h.arrowTypeEnd="none",f.label="",h.fromCluster=n.v,f.toCluster=n.v,t.setEdge(s,l,h,n.name+"-cyclic-special"),t.setEdge(l,o,f,n.name+"-cyclic-special")}else($n[n.v]||$n[n.w])&&(E.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),s=s0(n.v),o=s0(n.w),t.removeEdge(n.v,n.w,n.name),s!==n.v&&(i.fromCluster=n.v),o!==n.w&&(i.toCluster=n.w),E.warn("Fix Replacing with XXX",s,o,n.name),t.setEdge(s,o,i,n.name))}),E.warn("Adjusted Graph",Ja(t)),hk(t,0),E.trace($n)},hk=(t,e)=>{if(E.warn("extractor - ",e,Ja(t),t.children("D")),e>10){E.error("Bailing out");return}let n=t.nodes(),i=!1;for(const s of n){const o=t.children(s);i=i||o.length>0}if(!i){E.debug("Done, no node has children",t.nodes());return}E.debug("Nodes = ",n,e);for(const s of n)if(E.debug("Extracting node",s,$n,$n[s]&&!$n[s].externalConnections,!t.parent(s),t.node(s),t.children("D")," Depth ",e),!$n[s])E.debug("Not a cluster",s,e);else if(!$n[s].externalConnections&&t.children(s)&&t.children(s).length>0){E.warn("Cluster without external connections, without a parent and with children",s,e);let l=t.graph().rankdir==="TB"?"LR":"TB";$n[s]&&$n[s].clusterData&&$n[s].clusterData.dir&&(l=$n[s].clusterData.dir,E.warn("Fixing dir",$n[s].clusterData.dir,l));const h=new jr({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});E.warn("Old graph before copy",Ja(t)),ck(s,t,h,s),t.setNode(s,{clusterNode:!0,id:s,clusterData:$n[s].clusterData,labelText:$n[s].labelText,graph:h}),E.warn("New graph after copy node: (",s,")",Ja(h)),E.debug("Old graph after copy",Ja(t))}else E.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!$n[s].externalConnections," no parent: ",!t.parent(s)," children ",t.children(s)&&t.children(s).length>0,t.children("D"),e),E.debug($n);n=t.nodes(),E.warn("New list of nodes",n);for(const s of n){const o=t.node(s);E.warn(" Now next level",s,o),o.clusterNode&&hk(o.graph,e+1)}},dk=(t,e)=>{if(e.length===0)return[];let n=Object.assign(e);return e.forEach(i=>{const s=t.children(i),o=dk(t,s);n=[...n,...o]}),n},CW=t=>dk(t,t.children());function SW(t,e){return t.intersect(e)}function fk(t,e,n,i){var s=t.x,o=t.y,l=s-i.x,h=o-i.y,f=Math.sqrt(e*e*h*h+n*n*l*l),g=Math.abs(e*n*l/f);i.x<s&&(g=-g);var y=Math.abs(e*n*h/f);return i.y<o&&(y=-y),{x:s+g,y:o+y}}function AW(t,e,n){return fk(t,e,e,n)}function LW(t,e,n,i){var s,o,l,h,f,g,y,b,x,k,O,I,R,Y,V;if(s=e.y-t.y,l=t.x-e.x,f=e.x*t.y-t.x*e.y,x=s*n.x+l*n.y+f,k=s*i.x+l*i.y+f,!(x!==0&&k!==0&&pk(x,k))&&(o=i.y-n.y,h=n.x-i.x,g=i.x*n.y-n.x*i.y,y=o*t.x+h*t.y+g,b=o*e.x+h*e.y+g,!(y!==0&&b!==0&&pk(y,b))&&(O=s*h-o*l,O!==0)))return I=Math.abs(O/2),R=l*g-h*f,Y=R<0?(R-I)/O:(R+I)/O,R=o*f-s*g,V=R<0?(R-I)/O:(R+I)/O,{x:Y,y:V}}function pk(t,e){return t*e>0}function OW(t,e,n){var i=t.x,s=t.y,o=[],l=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(O){l=Math.min(l,O.x),h=Math.min(h,O.y)}):(l=Math.min(l,e.x),h=Math.min(h,e.y));for(var f=i-t.width/2-l,g=s-t.height/2-h,y=0;y<e.length;y++){var b=e[y],x=e[y<e.length-1?y+1:0],k=LW(t,n,{x:f+b.x,y:g+b.y},{x:f+x.x,y:g+x.y});k&&o.push(k)}return o.length?(o.length>1&&o.sort(function(O,I){var R=O.x-n.x,Y=O.y-n.y,V=Math.sqrt(R*R+Y*Y),X=I.x-n.x,J=I.y-n.y,st=Math.sqrt(X*X+J*J);return V<st?-1:V===st?0:1}),o[0]):t}const Wh=(t,e)=>{var n=t.x,i=t.y,s=e.x-n,o=e.y-i,l=t.width/2,h=t.height/2,f,g;return Math.abs(o)*l>Math.abs(s)*h?(o<0&&(h=-h),f=o===0?0:h*s/o,g=h):(s<0&&(l=-l),f=l,g=s===0?0:l*o/s),{x:n+f,y:i+g}},Lr={node:SW,circle:AW,ellipse:fk,polygon:OW,rect:Wh},MW=(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:s}=Ti(t,e,"node "+e.classes,!0);E.info("Classes = ",e.classes);const o=n.insert("rect",":first-child");return o.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-s).attr("y",-i.height/2-s).attr("width",i.width+e.padding).attr("height",i.height+e.padding),Vr(e,o),e.intersect=function(l){return Lr.rect(e,l)},n},NW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=s+o,h=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];E.info("Question main (Circle)");const f=to(n,l,l,h);return f.attr("style",e.style),Vr(e,f),e.intersect=function(g){return E.warn("Intersect called"),Lr.polygon(e,h,g)},n},DW=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=28,s=[{x:0,y:i/2},{x:i/2,y:0},{x:0,y:-i/2},{x:-i/2,y:0}];return n.insert("polygon",":first-child").attr("points",s.map(function(l){return l.x+","+l.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(l){return Lr.circle(e,14,l)},n},IW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=4,o=i.height+e.padding,l=o/s,h=i.width+2*l+e.padding,f=[{x:l,y:0},{x:h-l,y:0},{x:h,y:-o/2},{x:h-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}],g=to(n,h,o,f);return g.attr("style",e.style),Vr(e,g),e.intersect=function(y){return Lr.polygon(e,f,y)},n},RW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:-o/2,y:0},{x:s,y:0},{x:s,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}];return to(n,s,o,l).attr("style",e.style),e.width=s+o,e.height=o,e.intersect=function(f){return Lr.polygon(e,l,f)},n},BW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:-2*o/6,y:0},{x:s-o/6,y:0},{x:s+2*o/6,y:-o},{x:o/6,y:-o}],h=to(n,s,o,l);return h.attr("style",e.style),Vr(e,h),e.intersect=function(f){return Lr.polygon(e,l,f)},n},FW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:2*o/6,y:0},{x:s+o/6,y:0},{x:s-2*o/6,y:-o},{x:-o/6,y:-o}],h=to(n,s,o,l);return h.attr("style",e.style),Vr(e,h),e.intersect=function(f){return Lr.polygon(e,l,f)},n},PW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:-2*o/6,y:0},{x:s+2*o/6,y:0},{x:s-o/6,y:-o},{x:o/6,y:-o}],h=to(n,s,o,l);return h.attr("style",e.style),Vr(e,h),e.intersect=function(f){return Lr.polygon(e,l,f)},n},VW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:o/6,y:0},{x:s-o/6,y:0},{x:s+2*o/6,y:-o},{x:-2*o/6,y:-o}],h=to(n,s,o,l);return h.attr("style",e.style),Vr(e,h),e.intersect=function(f){return Lr.polygon(e,l,f)},n},$W=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:0,y:0},{x:s+o/2,y:0},{x:s,y:-o/2},{x:s+o/2,y:-o},{x:0,y:-o}],h=to(n,s,o,l);return h.attr("style",e.style),Vr(e,h),e.intersect=function(f){return Lr.polygon(e,l,f)},n},YW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.width+e.padding,o=s/2,l=o/(2.5+s/50),h=i.height+l+e.padding,f="M 0,"+l+" a "+o+","+l+" 0,0,0 "+s+" 0 a "+o+","+l+" 0,0,0 "+-s+" 0 l 0,"+h+" a "+o+","+l+" 0,0,0 "+s+" 0 l 0,"+-h,g=n.attr("label-offset-y",l).insert("path",":first-child").attr("style",e.style).attr("d",f).attr("transform","translate("+-s/2+","+-(h/2+l)+")");return Vr(e,g),e.intersect=function(y){const b=Lr.rect(e,y),x=b.x-e.x;if(o!=0&&(Math.abs(x)<e.width/2||Math.abs(x)==e.width/2&&Math.abs(b.y-e.y)>e.height/2-l)){let k=l*l*(1-x*x/(o*o));k!=0&&(k=Math.sqrt(k)),k=l-k,y.y-e.y>0&&(k=-k),b.y+=k}return b},n},UW=(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:s}=Ti(t,e,"node "+e.classes,!0);E.trace("Classes = ",e.classes);const o=n.insert("rect",":first-child"),l=i.width+e.padding,h=i.height+e.padding;if(o.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-s).attr("y",-i.height/2-s).attr("width",l).attr("height",h),e.props){const f=new Set(Object.keys(e.props));e.props.borders&&(gk(o,e.props.borders,l,h),f.delete("borders")),f.forEach(g=>{E.warn(`Unknown node property ${g}`)})}return Vr(e,o),e.intersect=function(f){return Lr.rect(e,f)},n},zW=(t,e)=>{const{shapeSvg:n}=Ti(t,e,"label",!0);E.trace("Classes = ",e.classes);const i=n.insert("rect",":first-child"),s=0,o=0;if(i.attr("width",s).attr("height",o),n.attr("class","label edgeLabel"),e.props){const l=new Set(Object.keys(e.props));e.props.borders&&(gk(i,e.props.borders,s,o),l.delete("borders")),l.forEach(h=>{E.warn(`Unknown node property ${h}`)})}return Vr(e,i),e.intersect=function(l){return Lr.rect(e,l)},n};function gk(t,e,n,i){const s=[],o=h=>{s.push(h,0)},l=h=>{s.push(0,h)};e.includes("t")?(E.debug("add top border"),o(n)):l(n),e.includes("r")?(E.debug("add right border"),o(i)):l(i),e.includes("b")?(E.debug("add bottom border"),o(n)):l(n),e.includes("l")?(E.debug("add left border"),o(i)):l(i),t.attr("stroke-dasharray",s.join(" "))}const HW=(t,e)=>{let n;e.classes?n="node "+e.classes:n="node default";const i=t.insert("g").attr("class",n).attr("id",e.domId||e.id),s=i.insert("rect",":first-child"),o=i.insert("line"),l=i.insert("g").attr("class","label"),h=e.labelText.flat?e.labelText.flat():e.labelText;let f="";typeof h=="object"?f=h[0]:f=h,E.info("Label text abc79",f,h,typeof h=="object");const g=l.node().appendChild(Gi(f,e.labelStyle,!0,!0));let y={width:0,height:0};if(oi(ht().flowchart.htmlLabels)){const I=g.children[0],R=re(g);y=I.getBoundingClientRect(),R.attr("width",y.width),R.attr("height",y.height)}E.info("Text 2",h);const b=h.slice(1,h.length);let x=g.getBBox();const k=l.node().appendChild(Gi(b.join?b.join("<br/>"):b,e.labelStyle,!0,!0));if(oi(ht().flowchart.htmlLabels)){const I=k.children[0],R=re(k);y=I.getBoundingClientRect(),R.attr("width",y.width),R.attr("height",y.height)}const O=e.padding/2;return re(k).attr("transform","translate( "+(y.width>x.width?0:(x.width-y.width)/2)+", "+(x.height+O+5)+")"),re(g).attr("transform","translate( "+(y.width<x.width?0:-(x.width-y.width)/2)+", "+0+")"),y=l.node().getBBox(),l.attr("transform","translate("+-y.width/2+", "+(-y.height/2-O+3)+")"),s.attr("class","outer title-state").attr("x",-y.width/2-O).attr("y",-y.height/2-O).attr("width",y.width+e.padding).attr("height",y.height+e.padding),o.attr("class","divider").attr("x1",-y.width/2-O).attr("x2",y.width/2+O).attr("y1",-y.height/2-O+x.height+O).attr("y2",-y.height/2-O+x.height+O),Vr(e,s),e.intersect=function(I){return Lr.rect(e,I)},i},WW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.height+e.padding,o=i.width+s/4+e.padding,l=n.insert("rect",":first-child").attr("style",e.style).attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return Vr(e,l),e.intersect=function(h){return Lr.rect(e,h)},n},jW=(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:s}=Ti(t,e,void 0,!0),o=n.insert("circle",":first-child");return o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+s).attr("width",i.width+e.padding).attr("height",i.height+e.padding),E.info("Circle main"),Vr(e,o),e.intersect=function(l){return E.info("Circle intersect",e,i.width/2+s,l),Lr.circle(e,i.width/2+s,l)},n},qW=(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:s}=Ti(t,e,void 0,!0),o=5,l=n.insert("g",":first-child"),h=l.insert("circle"),f=l.insert("circle");return h.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+s+o).attr("width",i.width+e.padding+o*2).attr("height",i.height+e.padding+o*2),f.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+s).attr("width",i.width+e.padding).attr("height",i.height+e.padding),E.info("DoubleCircle main"),Vr(e,h),e.intersect=function(g){return E.info("DoubleCircle intersect",e,i.width/2+s+o,g),Lr.circle(e,i.width/2+s+o,g)},n},GW=(t,e)=>{const{shapeSvg:n,bbox:i}=Ti(t,e,void 0,!0),s=i.width+e.padding,o=i.height+e.padding,l=[{x:0,y:0},{x:s,y:0},{x:s,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],h=to(n,s,o,l);return h.attr("style",e.style),Vr(e,h),e.intersect=function(f){return Lr.polygon(e,l,f)},n},XW=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Vr(e,i),e.intersect=function(s){return Lr.circle(e,7,s)},n},mk=(t,e,n)=>{const i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s=70,o=10;n==="LR"&&(s=10,o=70);const l=i.append("rect").attr("x",-1*s/2).attr("y",-1*o/2).attr("width",s).attr("height",o).attr("class","fork-join");return Vr(e,l),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(h){return Lr.rect(e,h)},i},yk={question:NW,rect:UW,labelRect:zW,rectWithTitle:HW,choice:DW,circle:jW,doublecircle:qW,stadium:WW,hexagon:IW,rect_left_inv_arrow:RW,lean_right:BW,lean_left:FW,trapezoid:PW,inv_trapezoid:VW,rect_right_inv_arrow:$W,cylinder:YW,start:XW,end:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=n.insert("circle",":first-child"),s=n.insert("circle",":first-child");return s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),i.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Vr(e,s),e.intersect=function(o){return Lr.circle(e,7,o)},n},note:MW,subroutine:GW,fork:mk,join:mk,class_box:(t,e)=>{const n=e.padding/2,i=4,s=8;let o;e.classes?o="node "+e.classes:o="node default";const l=t.insert("g").attr("class",o).attr("id",e.domId||e.id),h=l.insert("rect",":first-child"),f=l.insert("line"),g=l.insert("line");let y=0,b=i;const x=l.insert("g").attr("class","label");let k=0;const O=e.classData.annotations&&e.classData.annotations[0],I=e.classData.annotations[0]?"\xAB"+e.classData.annotations[0]+"\xBB":"",R=x.node().appendChild(Gi(I,e.labelStyle,!0,!0));let Y=R.getBBox();if(oi(ht().flowchart.htmlLabels)){const at=R.children[0],q=re(R);Y=at.getBoundingClientRect(),q.attr("width",Y.width),q.attr("height",Y.height)}e.classData.annotations[0]&&(b+=Y.height+i,y+=Y.width);let V=e.classData.id;e.classData.type!==void 0&&e.classData.type!==""&&(ht().flowchart.htmlLabels?V+="&lt;"+e.classData.type+"&gt;":V+="<"+e.classData.type+">");const X=x.node().appendChild(Gi(V,e.labelStyle,!0,!0));re(X).attr("class","classTitle");let J=X.getBBox();if(oi(ht().flowchart.htmlLabels)){const at=X.children[0],q=re(X);J=at.getBoundingClientRect(),q.attr("width",J.width),q.attr("height",J.height)}b+=J.height+i,J.width>y&&(y=J.width);const st=[];e.classData.members.forEach(at=>{const q=e0(at);let z=q.displayText;ht().flowchart.htmlLabels&&(z=z.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const $=x.node().appendChild(Gi(z,q.cssStyle?q.cssStyle:e.labelStyle,!0,!0));let N=$.getBBox();if(oi(ht().flowchart.htmlLabels)){const j=$.children[0],A=re($);N=j.getBoundingClientRect(),A.attr("width",N.width),A.attr("height",N.height)}N.width>y&&(y=N.width),b+=N.height+i,st.push($)}),b+=s;const lt=[];if(e.classData.methods.forEach(at=>{const q=e0(at);let z=q.displayText;ht().flowchart.htmlLabels&&(z=z.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const $=x.node().appendChild(Gi(z,q.cssStyle?q.cssStyle:e.labelStyle,!0,!0));let N=$.getBBox();if(oi(ht().flowchart.htmlLabels)){const j=$.children[0],A=re($);N=j.getBoundingClientRect(),A.attr("width",N.width),A.attr("height",N.height)}N.width>y&&(y=N.width),b+=N.height+i,lt.push($)}),b+=s,O){let at=(y-Y.width)/2;re(R).attr("transform","translate( "+(-1*y/2+at)+", "+-1*b/2+")"),k=Y.height+i}let tt=(y-J.width)/2;return re(X).attr("transform","translate( "+(-1*y/2+tt)+", "+(-1*b/2+k)+")"),k+=J.height+i,f.attr("class","divider").attr("x1",-y/2-n).attr("x2",y/2+n).attr("y1",-b/2-n+s+k).attr("y2",-b/2-n+s+k),k+=s,st.forEach(at=>{re(at).attr("transform","translate( "+-y/2+", "+(-1*b/2+k+s/2)+")"),k+=J.height+i}),k+=s,g.attr("class","divider").attr("x1",-y/2-n).attr("x2",y/2+n).attr("y1",-b/2-n+s+k).attr("y2",-b/2-n+s+k),k+=s,lt.forEach(at=>{re(at).attr("transform","translate( "+-y/2+", "+(-1*b/2+k)+")"),k+=J.height+i}),h.attr("class","outer title-state").attr("x",-y/2-n).attr("y",-(b/2)-n).attr("width",y+e.padding).attr("height",b+e.padding),Vr(e,h),e.intersect=function(at){return Lr.rect(e,at)},l}};let au={};const KW=(t,e,n)=>{let i,s;if(e.link){let o;ht().securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),i=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o),s=yk[e.shape](i,e,n)}else s=yk[e.shape](t,e,n),i=s;e.tooltip&&s.attr("title",e.tooltip),e.class&&s.attr("class","node default "+e.class),au[e.id]=i,e.haveCallback&&au[e.id].attr("class",au[e.id].attr("class")+" clickable")},ZW=(t,e)=>{au[e.id]=t},QW=()=>{au={}},_k=t=>{const e=au[t.id];E.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,i=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+i-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),i},JW={rect:(t,e)=>{E.trace("Creating subgraph rect for ",e.id,e);const n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),i=n.insert("rect",":first-child"),s=n.insert("g").attr("class","cluster-label"),o=s.node().appendChild(Gi(e.labelText,e.labelStyle,void 0,!0));let l=o.getBBox();if(oi(ht().flowchart.htmlLabels)){const b=o.children[0],x=re(o);l=b.getBoundingClientRect(),x.attr("width",l.width),x.attr("height",l.height)}const h=0*e.padding,f=h/2,g=e.width<=l.width+h?l.width+h:e.width;e.width<=l.width+h?e.diff=(l.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,E.trace("Data ",e,JSON.stringify(e)),i.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-g/2).attr("y",e.y-e.height/2-f).attr("width",g).attr("height",e.height+h),s.attr("transform","translate("+(e.x-l.width/2)+", "+(e.y-e.height/2)+")");const y=i.node().getBBox();return e.width=y.width,e.height=y.height,e.intersect=function(b){return Wh(e,b)},n},roundedWithTitle:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),i=n.insert("rect",":first-child"),s=n.insert("g").attr("class","cluster-label"),o=n.append("rect"),l=s.node().appendChild(Gi(e.labelText,e.labelStyle,void 0,!0));let h=l.getBBox();if(oi(ht().flowchart.htmlLabels)){const x=l.children[0],k=re(l);h=x.getBoundingClientRect(),k.attr("width",h.width),k.attr("height",h.height)}h=l.getBBox();const f=0*e.padding,g=f/2,y=e.width<=h.width+e.padding?h.width+e.padding:e.width;e.width<=h.width+e.padding?e.diff=(h.width+e.padding*0-e.width)/2:e.diff=-e.padding/2,i.attr("class","outer").attr("x",e.x-y/2-g).attr("y",e.y-e.height/2-g).attr("width",y+f).attr("height",e.height+f),o.attr("class","inner").attr("x",e.x-y/2-g).attr("y",e.y-e.height/2-g+h.height-1).attr("width",y+f).attr("height",e.height+f-h.height-3),s.attr("transform","translate("+(e.x-h.width/2)+", "+(e.y-e.height/2-e.padding/3+(oi(ht().flowchart.htmlLabels)?5:3))+")");const b=i.node().getBBox();return e.height=b.height,e.intersect=function(x){return Wh(e,x)},n},noteGroup:(t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),i=n.insert("rect",":first-child"),s=0*e.padding,o=s/2;i.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2-o).attr("width",e.width+s).attr("height",e.height+s).attr("fill","none");const l=i.node().getBBox();return e.width=l.width,e.height=l.height,e.intersect=function(h){return Wh(e,h)},n},divider:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),i=n.insert("rect",":first-child"),s=0*e.padding,o=s/2;i.attr("class","divider").attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2).attr("width",e.width+s).attr("height",e.height+s);const l=i.node().getBBox();return e.width=l.width,e.height=l.height,e.diff=-e.padding/2,e.intersect=function(h){return Wh(e,h)},n}};let bk={};const tj=(t,e)=>{E.trace("Inserting cluster");const n=e.shape||"rect";bk[e.id]=JW[n](t,e)},ej=()=>{bk={}};let a0={},fi={};const nj=()=>{a0={},fi={}},rj=(t,e)=>{const n=Gi(e.label,e.labelStyle),i=t.insert("g").attr("class","edgeLabel"),s=i.insert("g").attr("class","label");s.node().appendChild(n);let o=n.getBBox();if(oi(ht().flowchart.htmlLabels)){const h=n.children[0],f=re(n);o=h.getBoundingClientRect(),f.attr("width",o.width),f.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),a0[e.id]=i,e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const h=Gi(e.startLabelLeft,e.labelStyle),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");l=g.node().appendChild(h);const y=h.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),fi[e.id]||(fi[e.id]={}),fi[e.id].startLeft=f,o0(l,e.startLabelLeft)}if(e.startLabelRight){const h=Gi(e.startLabelRight,e.labelStyle),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");l=f.node().appendChild(h),g.node().appendChild(h);const y=h.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),fi[e.id]||(fi[e.id]={}),fi[e.id].startRight=f,o0(l,e.startLabelRight)}if(e.endLabelLeft){const h=Gi(e.endLabelLeft,e.labelStyle),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");l=g.node().appendChild(h);const y=h.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),f.node().appendChild(h),fi[e.id]||(fi[e.id]={}),fi[e.id].endLeft=f,o0(l,e.endLabelLeft)}if(e.endLabelRight){const h=Gi(e.endLabelRight,e.labelStyle),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");l=g.node().appendChild(h);const y=h.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),f.node().appendChild(h),fi[e.id]||(fi[e.id]={}),fi[e.id].endRight=f,o0(l,e.endLabelRight)}};function o0(t,e){ht().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}const ij=(t,e)=>{E.info("Moving label abc78 ",t.id,t.label,a0[t.id]);let n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){const i=a0[t.id];let s=t.x,o=t.y;if(n){const l=kn.calcLabelPosition(n);E.info("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc78"),e.updatedPath&&(s=l.x,o=l.y)}i.attr("transform","translate("+s+", "+o+")")}if(t.startLabelLeft){const i=fi[t.id].startLeft;let s=t.x,o=t.y;if(n){const l=kn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);s=l.x,o=l.y}i.attr("transform","translate("+s+", "+o+")")}if(t.startLabelRight){const i=fi[t.id].startRight;let s=t.x,o=t.y;if(n){const l=kn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);s=l.x,o=l.y}i.attr("transform","translate("+s+", "+o+")")}if(t.endLabelLeft){const i=fi[t.id].endLeft;let s=t.x,o=t.y;if(n){const l=kn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);s=l.x,o=l.y}i.attr("transform","translate("+s+", "+o+")")}if(t.endLabelRight){const i=fi[t.id].endRight;let s=t.x,o=t.y;if(n){const l=kn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);s=l.x,o=l.y}i.attr("transform","translate("+s+", "+o+")")}},sj=(t,e)=>{const n=t.x,i=t.y,s=Math.abs(e.x-n),o=Math.abs(e.y-i),l=t.width/2,h=t.height/2;return s>=l||o>=h},aj=(t,e,n)=>{E.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const i=t.x,s=t.y,o=Math.abs(i-n.x),l=t.width/2;let h=n.x<e.x?l-o:l+o;const f=t.height/2,g=Math.abs(e.y-n.y),y=Math.abs(e.x-n.x);if(Math.abs(s-e.y)*l>Math.abs(i-e.x)*f){let b=n.y<e.y?e.y-f-s:s-f-e.y;h=y*b/g;const x={x:n.x<e.x?n.x+h:n.x-y+h,y:n.y<e.y?n.y+g-b:n.y-g+b};return h===0&&(x.x=e.x,x.y=e.y),y===0&&(x.x=e.x),g===0&&(x.y=e.y),E.warn(`abc89 topp/bott calc, Q ${g}, q ${b}, R ${y}, r ${h}`,x),x}else{n.x<e.x?h=e.x-l-i:h=i-l-e.x;let b=g*h/y,x=n.x<e.x?n.x+y-h:n.x-y+h,k=n.y<e.y?n.y+b:n.y-b;return E.warn(`sides calc abc89, Q ${g}, q ${b}, R ${y}, r ${h}`,{_x:x,_y:k}),h===0&&(x=e.x,k=e.y),y===0&&(x=e.x),g===0&&(k=e.y),{x,y:k}}},vk=(t,e)=>{E.warn("abc88 cutPathAtIntersect",t,e);let n=[],i=t[0],s=!1;return t.forEach(o=>{if(E.info("abc88 checking point",o,e),!sj(e,o)&&!s){const l=aj(e,i,o);E.warn("abc88 inside",o,i,l),E.warn("abc88 intersection",l);let h=!1;n.forEach(f=>{h=h||f.x===l.x&&f.y===l.y}),n.some(f=>f.x===l.x&&f.y===l.y)?E.warn("abc88 no intersect",l,n):n.push(l),s=!0}else E.warn("abc88 outside",o,i),i=o,s||n.push(o)}),E.warn("abc88 returning points",n),n},oj=function(t,e,n,i,s,o){let l=n.points,h=!1;const f=o.node(e.v);var g=o.node(e.w);E.info("abc88 InsertEdge: ",n),g.intersect&&f.intersect&&(l=l.slice(1,n.points.length-1),l.unshift(f.intersect(l[0])),E.info("Last point",l[l.length-1],g,g.intersect(l[l.length-1])),l.push(g.intersect(l[l.length-1]))),n.toCluster&&(E.info("to cluster abc88",i[n.toCluster]),l=vk(n.points,i[n.toCluster].node),h=!0),n.fromCluster&&(E.info("from cluster abc88",i[n.fromCluster]),l=vk(l.reverse(),i[n.fromCluster].node).reverse(),h=!0);const y=l.filter(Y=>!Number.isNaN(Y.y));let b;s==="graph"||s==="flowchart"?b=n.curve||Ic:b=Ic;const x=Dc().x(function(Y){return Y.x}).y(function(Y){return Y.y}).curve(b);let k;switch(n.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;default:k=""}switch(n.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break}const O=t.append("path").attr("d",x(y)).attr("id",n.id).attr("class"," "+k+(n.classes?" "+n.classes:"")).attr("style",n.style);let I="";switch((ht().flowchart.arrowMarkerAbsolute||ht().state.arrowMarkerAbsolute)&&(I=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,I=I.replace(/\(/g,"\\("),I=I.replace(/\)/g,"\\)")),E.info("arrowTypeStart",n.arrowTypeStart),E.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":O.attr("marker-start","url("+I+"#"+s+"-crossStart)");break;case"arrow_point":O.attr("marker-start","url("+I+"#"+s+"-pointStart)");break;case"arrow_barb":O.attr("marker-start","url("+I+"#"+s+"-barbStart)");break;case"arrow_circle":O.attr("marker-start","url("+I+"#"+s+"-circleStart)");break;case"aggregation":O.attr("marker-start","url("+I+"#"+s+"-aggregationStart)");break;case"extension":O.attr("marker-start","url("+I+"#"+s+"-extensionStart)");break;case"composition":O.attr("marker-start","url("+I+"#"+s+"-compositionStart)");break;case"dependency":O.attr("marker-start","url("+I+"#"+s+"-dependencyStart)");break;case"lollipop":O.attr("marker-start","url("+I+"#"+s+"-lollipopStart)");break}switch(n.arrowTypeEnd){case"arrow_cross":O.attr("marker-end","url("+I+"#"+s+"-crossEnd)");break;case"arrow_point":O.attr("marker-end","url("+I+"#"+s+"-pointEnd)");break;case"arrow_barb":O.attr("marker-end","url("+I+"#"+s+"-barbEnd)");break;case"arrow_circle":O.attr("marker-end","url("+I+"#"+s+"-circleEnd)");break;case"aggregation":O.attr("marker-end","url("+I+"#"+s+"-aggregationEnd)");break;case"extension":O.attr("marker-end","url("+I+"#"+s+"-extensionEnd)");break;case"composition":O.attr("marker-end","url("+I+"#"+s+"-compositionEnd)");break;case"dependency":O.attr("marker-end","url("+I+"#"+s+"-dependencyEnd)");break;case"lollipop":O.attr("marker-end","url("+I+"#"+s+"-lollipopEnd)");break}let R={};return h&&(R.updatedPath=l),R.originalPath=n.points,R},xk=(t,e,n,i)=>{E.info("Graph in recursive render: XXX",Ja(e),i);const s=e.graph().rankdir;E.trace("Dir in recursive render - dir:",s);const o=t.insert("g").attr("class","root");e.nodes()?E.info("Recursive render XXX",e.nodes()):E.info("No nodes found for",e),e.edges().length>0&&E.trace("Recursive edges",e.edge(e.edges()[0]));const l=o.insert("g").attr("class","clusters"),h=o.insert("g").attr("class","edgePaths"),f=o.insert("g").attr("class","edgeLabels"),g=o.insert("g").attr("class","nodes");e.nodes().forEach(function(b){const x=e.node(b);if(i!==void 0){const k=JSON.parse(JSON.stringify(i.clusterData));E.info("Setting data for cluster XXX (",b,") ",k,i),e.setNode(i.id,k),e.parent(b)||(E.trace("Setting parent",b,i.id),e.setParent(b,i.id,k))}if(E.info("(Insert) Node XXX"+b+": "+JSON.stringify(e.node(b))),x&&x.clusterNode){E.info("Cluster identified",b,x.width,e.node(b));const k=xk(g,x.graph,n,e.node(b)),O=k.elem;Vr(x,O),x.diff=k.diff||0,E.info("Node bounds (abc123)",b,x,x.width,x.x,x.y),ZW(O,x),E.warn("Recursive render complete ",O,x)}else e.children(b).length>0?(E.info("Cluster - the non recursive path XXX",b,x.id,x,e),E.info(Hh(x.id,e)),$n[x.id]={id:Hh(x.id,e),node:x}):(E.info("Node - the non recursive path",b,x.id,x),KW(g,e.node(b),s))}),e.edges().forEach(function(b){const x=e.edge(b.v,b.w,b.name);E.info("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(b)),E.info("Edge "+b.v+" -> "+b.w+": ",b," ",JSON.stringify(e.edge(b))),E.info("Fix",$n,"ids:",b.v,b.w,"Translateing: ",$n[b.v],$n[b.w]),rj(f,x)}),e.edges().forEach(function(b){E.info("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(b))}),E.info("#############################################"),E.info("###                Layout                 ###"),E.info("#############################################"),E.info(e),su(e),E.info("Graph after layout:",Ja(e));let y=0;return CW(e).forEach(function(b){const x=e.node(b);E.info("Position "+b+": "+JSON.stringify(e.node(b))),E.info("Position "+b+": ("+x.x,","+x.y,") width: ",x.width," height: ",x.height),x&&x.clusterNode?_k(x):e.children(b).length>0?(tj(l,x),$n[x.id].node=x):_k(x)}),e.edges().forEach(function(b){const x=e.edge(b);E.info("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(x),x);const k=oj(h,b,x,$n,n,e);ij(x,k)}),e.nodes().forEach(function(b){const x=e.node(b);E.info(b,x.type,x.diff),x.type==="group"&&(y=x.diff)}),{elem:o,diff:y}},o2=(t,e,n,i,s)=>{vW(t,n,i,s),QW(),nj(),ej(),wW(),E.warn("Graph at first:",Ja(e)),EW(e),E.warn("Graph after:",Ja(e)),xk(t,e,i)},kk=t=>gn.sanitizeText(t,ht());let wk={dividerMargin:10,padding:5,textHeight:10};const lj=function(t,e,n,i){const s=Object.keys(t);E.info("keys:",s),E.info(t),s.forEach(function(o){const l=t[o];let h="";l.cssClasses.length>0&&(h=h+" "+l.cssClasses.join(" "));const f={labelStyle:""};let g=l.text!==void 0?l.text:l.id,y=0,b="";switch(l.type){case"class":b="class_box";break;default:b="class_box"}e.setNode(l.id,{labelStyle:f.labelStyle,shape:b,labelText:kk(g),classData:l,rx:y,ry:y,class:h,style:f.style,id:l.id,domId:l.domId,tooltip:i.db.getTooltip(l.id)||"",haveCallback:l.haveCallback,link:l.link,width:l.type==="group"?500:void 0,type:l.type,padding:ht().flowchart.padding}),E.info("setNode",{labelStyle:f.labelStyle,shape:b,labelText:g,rx:y,ry:y,class:h,style:f.style,id:l.id,width:l.type==="group"?500:void 0,type:l.type,padding:ht().flowchart.padding})})},cj=function(t,e,n,i){E.info(t),t.forEach(function(s,o){const l=s;let h="";const f={labelStyle:"",style:""};let g=l.text,y=0,b="note";if(e.setNode(l.id,{labelStyle:f.labelStyle,shape:b,labelText:kk(g),noteData:l,rx:y,ry:y,class:h,style:f.style,id:l.id,domId:l.id,tooltip:"",type:"note",padding:ht().flowchart.padding}),E.info("setNode",{labelStyle:f.labelStyle,shape:b,labelText:g,rx:y,ry:y,style:f.style,id:l.id,type:"note",padding:ht().flowchart.padding}),!l.class||!(l.class in i))return;const x=n+o,k={};k.classes="relation",k.pattern="dotted",k.id=`edgeNote${x}`,k.arrowhead="none",E.info(`Note edge: ${JSON.stringify(k)}, ${JSON.stringify(l)}`),k.startLabelRight="",k.endLabelLeft="",k.arrowTypeStart="none",k.arrowTypeEnd="none";let O="fill:none",I="";k.style=O,k.labelStyle=I,k.curve=Rs(wk.curve,Ji),e.setEdge(l.id,l.class,k,x)})},uj=function(t,e){const n=ht().flowchart;let i=0;t.forEach(function(s){i++;const o={};o.classes="relation",o.pattern=s.relation.lineType==1?"dashed":"solid",o.id="id"+i,s.type==="arrow_open"?o.arrowhead="none":o.arrowhead="normal",E.info(o,s),o.startLabelRight=s.relationTitle1==="none"?"":s.relationTitle1,o.endLabelLeft=s.relationTitle2==="none"?"":s.relationTitle2,o.arrowTypeStart=Tk(s.relation.type1),o.arrowTypeEnd=Tk(s.relation.type2);let l="",h="";if(s.style!==void 0){const f=Io(s.style);l=f.style,h=f.labelStyle}else l="fill:none";o.style=l,o.labelStyle=h,s.interpolate!==void 0?o.curve=Rs(s.interpolate,Ji):t.defaultInterpolate!==void 0?o.curve=Rs(t.defaultInterpolate,Ji):o.curve=Rs(n.curve,Ji),s.text=s.title,s.text===void 0?s.style!==void 0&&(o.arrowheadStyle="fill: #333"):(o.arrowheadStyle="fill: #333",o.labelpos="c",ht().flowchart.htmlLabels?(o.labelType="html",o.label='<span class="edgeLabel">'+s.text+"</span>"):(o.labelType="text",o.label=s.text.replace(gn.lineBreakRegex,`
`),s.style===void 0&&(o.style=o.style||"stroke: #333; stroke-width: 1.5px;fill:none"),o.labelStyle=o.labelStyle.replace("color:","fill:"))),e.setEdge(s.id1,s.id2,o,i)})},hj=function(t){Object.keys(t).forEach(function(n){wk[n]=t[n]})},dj=function(t,e,n,i){E.info("Drawing class - ",e);const s=ht().flowchart,o=ht().securityLevel;E.info("config:",s);const l=s.nodeSpacing||50,h=s.rankSpacing||50,f=new jr({multigraph:!0,compound:!0}).setGraph({rankdir:i.db.getDirection(),nodesep:l,ranksep:h,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),g=i.db.getClasses(),y=i.db.getRelations(),b=i.db.getNotes();E.info(y),lj(g,f,e,i),uj(y,f),cj(b,f,y.length+1,g);let x;o==="sandbox"&&(x=re("#i"+e));const k=re(o==="sandbox"?x.nodes()[0].contentDocument.body:"body"),O=k.select(`[id="${e}"]`),I=k.select("#"+e+" g");if(o2(I,f,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),kn.insertTitle(O,"classTitleText",s.titleTopMargin,i.db.getDiagramTitle()),b1(f,O,s.diagramPadding,s.useMaxWidth),!s.htmlLabels){const R=o==="sandbox"?x.nodes()[0].contentDocument:document,Y=R.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const V of Y){const X=V.getBBox(),J=R.createElementNS("http://www.w3.org/2000/svg","rect");J.setAttribute("rx",0),J.setAttribute("ry",0),J.setAttribute("width",X.width),J.setAttribute("height",X.height),V.insertBefore(J,V.firstChild)}}};function Tk(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const fj={setConf:hj,draw:dj};var l2=function(){var t=function(q,z,$,N){for($=$||{},N=q.length;N--;$[q[N]]=z);return $},e=[1,2],n=[1,5],i=[6,9,11,23,25,27,29,30,31,49],s=[1,17],o=[1,18],l=[1,19],h=[1,20],f=[1,21],g=[1,22],y=[1,25],b=[1,30],x=[1,31],k=[1,32],O=[1,33],I=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],R=[1,45],Y=[30,31,46,47],V=[4,6,9,11,23,25,27,29,30,31,49],X=[42,43,44,45],J=[22,37],st=[1,64],lt={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(z,$,N,j,A,gt,L){var Dt=gt.length-1;switch(A){case 1:break;case 3:this.$=[];break;case 4:gt[Dt-1].push(gt[Dt]),this.$=gt[Dt-1];break;case 5:case 6:this.$=gt[Dt];break;case 7:case 8:this.$=[];break;case 12:j.addEntity(gt[Dt-4]),j.addEntity(gt[Dt-2]),j.addRelationship(gt[Dt-4],gt[Dt],gt[Dt-2],gt[Dt-3]);break;case 13:j.addEntity(gt[Dt-3]),j.addAttributes(gt[Dt-3],gt[Dt-1]);break;case 14:j.addEntity(gt[Dt-2]);break;case 15:j.addEntity(gt[Dt]);break;case 16:case 17:this.$=gt[Dt].trim(),j.setAccTitle(this.$);break;case 18:case 19:this.$=gt[Dt].trim(),j.setAccDescription(this.$);break;case 20:case 41:this.$=gt[Dt];break;case 21:case 39:case 40:this.$=gt[Dt].replace(/"/g,"");break;case 22:this.$=[gt[Dt]];break;case 23:gt[Dt].push(gt[Dt-1]),this.$=gt[Dt];break;case 24:this.$={attributeType:gt[Dt-1],attributeName:gt[Dt]};break;case 25:this.$={attributeType:gt[Dt-2],attributeName:gt[Dt-1],attributeKeyType:gt[Dt]};break;case 26:this.$={attributeType:gt[Dt-2],attributeName:gt[Dt-1],attributeComment:gt[Dt]};break;case 27:this.$={attributeType:gt[Dt-3],attributeName:gt[Dt-2],attributeKeyType:gt[Dt-1],attributeComment:gt[Dt]};break;case 28:case 29:case 30:this.$=gt[Dt];break;case 31:this.$=gt[Dt].replace(/"/g,"");break;case 32:this.$={cardA:gt[Dt],relType:gt[Dt-1],cardB:gt[Dt-2]};break;case 33:this.$=j.Cardinality.ZERO_OR_ONE;break;case 34:this.$=j.Cardinality.ZERO_OR_MORE;break;case 35:this.$=j.Cardinality.ONE_OR_MORE;break;case 36:this.$=j.Cardinality.ONLY_ONE;break;case 37:this.$=j.Identification.NON_IDENTIFYING;break;case 38:this.$=j.Identification.IDENTIFYING;break;case 42:j.parseDirective("%%{","open_directive");break;case 43:j.parseDirective(gt[Dt],"type_directive");break;case 44:gt[Dt]=gt[Dt].trim().replace(/'/g,'"'),j.parseDirective(gt[Dt],"arg_directive");break;case 45:j.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:e,7:3,12:4,49:n},{1:[3]},t(i,[2,3],{5:6}),{3:7,4:e,7:3,12:4,49:n},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:s,25:o,27:l,29:h,30:f,31:g,49:n},{1:[2,2]},{14:23,15:[1,24],52:y},t([15,52],[2,43]),t(i,[2,8],{1:[2,1]}),t(i,[2,4]),{7:15,10:26,12:4,17:16,23:s,25:o,27:l,29:h,30:f,31:g,49:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,11]),t(i,[2,15],{18:27,40:29,20:[1,28],42:b,43:x,44:k,45:O}),{24:[1,34]},{26:[1,35]},{28:[1,36]},t(i,[2,19]),t(I,[2,20]),t(I,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},t(i,[2,5]),{17:40,30:f,31:g},{21:41,22:[1,42],32:43,33:44,37:R},{41:46,46:[1,47],47:[1,48]},t(Y,[2,33]),t(Y,[2,34]),t(Y,[2,35]),t(Y,[2,36]),t(i,[2,16]),t(i,[2,17]),t(i,[2,18]),t(V,[2,9]),{14:49,52:y},{52:[2,44]},{15:[1,50]},{22:[1,51]},t(i,[2,14]),{21:52,22:[2,22],32:43,33:44,37:R},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:b,43:x,44:k,45:O},t(X,[2,37]),t(X,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},t(i,[2,13]),{22:[2,23]},t(J,[2,24],{35:61,36:62,38:[1,63],39:st}),t([22,37,38,39],[2,29]),t([30,31],[2,32]),t(V,[2,10]),t(i,[2,12]),t(i,[2,39]),t(i,[2,40]),t(i,[2,41]),t(J,[2,25],{36:65,39:st}),t(J,[2,26]),t([22,37,39],[2,30]),t(J,[2,31]),t(J,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(z,$){if($.recoverable)this.trace(z);else{var N=new Error(z);throw N.hash=$,N}},parse:function(z){var $=this,N=[0],j=[],A=[null],gt=[],L=this.table,Dt="",ue=0,qt=0,ut=2,Ct=1,vt=gt.slice.call(arguments,1),xt=Object.create(this.lexer),Ot={yy:{}};for(var Ht in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ht)&&(Ot.yy[Ht]=this.yy[Ht]);xt.setInput(z,Ot.yy),Ot.yy.lexer=xt,Ot.yy.parser=this,typeof xt.yylloc=="undefined"&&(xt.yylloc={});var ft=xt.yylloc;gt.push(ft);var _e=xt.options&&xt.options.ranges;typeof Ot.yy.parseError=="function"?this.parseError=Ot.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function et(){var bt;return bt=j.pop()||xt.lex()||Ct,typeof bt!="number"&&(bt instanceof Array&&(j=bt,bt=j.pop()),bt=$.symbols_[bt]||bt),bt}for(var it,dt,Q,G,U={},yt,B,It,rt;;){if(dt=N[N.length-1],this.defaultActions[dt]?Q=this.defaultActions[dt]:((it===null||typeof it=="undefined")&&(it=et()),Q=L[dt]&&L[dt][it]),typeof Q=="undefined"||!Q.length||!Q[0]){var Ae="";rt=[];for(yt in L[dt])this.terminals_[yt]&&yt>ut&&rt.push("'"+this.terminals_[yt]+"'");xt.showPosition?Ae="Parse error on line "+(ue+1)+`:
`+xt.showPosition()+`
Expecting `+rt.join(", ")+", got '"+(this.terminals_[it]||it)+"'":Ae="Parse error on line "+(ue+1)+": Unexpected "+(it==Ct?"end of input":"'"+(this.terminals_[it]||it)+"'"),this.parseError(Ae,{text:xt.match,token:this.terminals_[it]||it,line:xt.yylineno,loc:ft,expected:rt})}if(Q[0]instanceof Array&&Q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+dt+", token: "+it);switch(Q[0]){case 1:N.push(it),A.push(xt.yytext),gt.push(xt.yylloc),N.push(Q[1]),it=null,qt=xt.yyleng,Dt=xt.yytext,ue=xt.yylineno,ft=xt.yylloc;break;case 2:if(B=this.productions_[Q[1]][1],U.$=A[A.length-B],U._$={first_line:gt[gt.length-(B||1)].first_line,last_line:gt[gt.length-1].last_line,first_column:gt[gt.length-(B||1)].first_column,last_column:gt[gt.length-1].last_column},_e&&(U._$.range=[gt[gt.length-(B||1)].range[0],gt[gt.length-1].range[1]]),G=this.performAction.apply(U,[Dt,qt,ue,Ot.yy,Q[1],A,gt].concat(vt)),typeof G!="undefined")return G;B&&(N=N.slice(0,-1*B*2),A=A.slice(0,-1*B),gt=gt.slice(0,-1*B)),N.push(this.productions_[Q[1]][0]),A.push(U.$),gt.push(U._$),It=L[N[N.length-2]][N[N.length-1]],N.push(It);break;case 3:return!0}}return!0}},tt=function(){var q={EOF:1,parseError:function($,N){if(this.yy.parser)this.yy.parser.parseError($,N);else throw new Error($)},setInput:function(z,$){return this.yy=$||this.yy||{},this._input=z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var z=this._input[0];this.yytext+=z,this.yyleng++,this.offset++,this.match+=z,this.matched+=z;var $=z.match(/(?:\r\n?|\n).*/g);return $?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),z},unput:function(z){var $=z.length,N=z.split(/(?:\r\n?|\n)/g);this._input=z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var j=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var A=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===j.length?this.yylloc.first_column:0)+j[j.length-N.length].length-N[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[A[0],A[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(z){this.unput(this.match.slice(z))},pastInput:function(){var z=this.matched.substr(0,this.matched.length-this.match.length);return(z.length>20?"...":"")+z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var z=this.match;return z.length<20&&(z+=this._input.substr(0,20-z.length)),(z.substr(0,20)+(z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var z=this.pastInput(),$=new Array(z.length+1).join("-");return z+this.upcomingInput()+`
`+$+"^"},test_match:function(z,$){var N,j,A;if(this.options.backtrack_lexer&&(A={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(A.yylloc.range=this.yylloc.range.slice(0))),j=z[0].match(/(?:\r\n?|\n).*/g),j&&(this.yylineno+=j.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:j?j[j.length-1].length-j[j.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length},this.yytext+=z[0],this.match+=z[0],this.matches=z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(z[0].length),this.matched+=z[0],N=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var gt in A)this[gt]=A[gt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var z,$,N,j;this._more||(this.yytext="",this.match="");for(var A=this._currentRules(),gt=0;gt<A.length;gt++)if(N=this._input.match(this.rules[A[gt]]),N&&(!$||N[0].length>$[0].length)){if($=N,j=gt,this.options.backtrack_lexer){if(z=this.test_match(N,A[gt]),z!==!1)return z;if(this._backtrack){$=!1;continue}else return!1}else if(!this.options.flex)break}return $?(z=this.test_match($,A[j]),z!==!1?z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var $=this.next();return $||this.lex()},begin:function($){this.conditionStack.push($)},popState:function(){var $=this.conditionStack.length-1;return $>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function($){return $=this.conditionStack.length-1-Math.abs($||0),$>=0?this.conditionStack[$]:"INITIAL"},pushState:function($){this.begin($)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function($,N,j,A){switch(j){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return N.yytext[0];case 29:return 42;case 30:return 44;case 31:return 44;case 32:return 44;case 33:return 42;case 34:return 42;case 35:return 43;case 36:return 43;case 37:return 43;case 38:return 43;case 39:return 43;case 40:return 44;case 41:return 43;case 42:return 44;case 43:return 45;case 44:return 45;case 45:return 45;case 46:return 45;case 47:return 42;case 48:return 43;case 49:return 44;case 50:return 46;case 51:return 47;case 52:return 47;case 53:return 46;case 54:return 46;case 55:return 46;case 56:return 30;case 57:return N.yytext[0];case 58:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}};return q}();lt.lexer=tt;function at(){this.yy={}}return at.prototype=lt,lt.Parser=at,new at}();l2.parser=l2;const pj=l2,gj=t=>t.match(/^\s*erDiagram/)!==null;let jh={},c2=[];const mj={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},yj={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},_j=function(t,e,n){Tr.parseDirective(this,t,e,n)},Ek=function(t){return jh[t]===void 0&&(jh[t]={attributes:[]},E.info("Added new entity :",t)),jh[t]},bj={Cardinality:mj,Identification:yj,parseDirective:_j,getConfig:()=>ht().er,addEntity:Ek,addAttributes:function(t,e){let n=Ek(t),i;for(i=e.length-1;i>=0;i--)n.attributes.push(e[i]),E.debug("Added attribute ",e[i].attributeName)},getEntities:()=>jh,addRelationship:function(t,e,n,i){let s={entityA:t,roleA:e,entityB:n,relSpec:i};c2.push(s),E.debug("Added new relationship :",s)},getRelationships:()=>c2,clear:function(){jh={},c2=[],Ps()},setAccTitle:vs,getAccTitle:Vs,setAccDescription:$s,getAccDescription:Ys,setDiagramTitle:Ga,getDiagramTitle:Xa},eo={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},no={ERMarkers:eo,insertMarkers:function(t,e){let n;t.append("defs").append("marker").attr("id",eo.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",eo.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",eo.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",eo.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",eo.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",eo.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=t.append("defs").append("marker").attr("id",eo.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=t.append("defs").append("marker").attr("id",eo.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}};let l0;const vj=new Uint8Array(16);function xj(){if(!l0&&(l0=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!l0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l0(vj)}const pi=[];for(let t=0;t<256;++t)pi.push((t+256).toString(16).slice(1));function kj(t,e=0){return(pi[t[e+0]]+pi[t[e+1]]+pi[t[e+2]]+pi[t[e+3]]+"-"+pi[t[e+4]]+pi[t[e+5]]+"-"+pi[t[e+6]]+pi[t[e+7]]+"-"+pi[t[e+8]]+pi[t[e+9]]+"-"+pi[t[e+10]]+pi[t[e+11]]+pi[t[e+12]]+pi[t[e+13]]+pi[t[e+14]]+pi[t[e+15]]).toLowerCase()}const Ck={randomUUID:typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function wj(t,e,n){if(Ck.randomUUID&&!e&&!t)return Ck.randomUUID();t=t||{};const i=t.random||(t.rng||xj)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=i[s];return e}return kj(i)}const Tj=/[^\dA-Za-z](\W)*/g;let Jr={},qh=new Map;const Ej=function(t){const e=Object.keys(t);for(const n of e)Jr[n]=t[n]},Cj=(t,e,n)=>{const i=Jr.entityPadding/3,s=Jr.entityPadding/3,o=Jr.fontSize*.85,l=e.node().getBBox(),h=[];let f=!1,g=!1,y=0,b=0,x=0,k=0,O=l.height+i*2,I=1;n.forEach(X=>{X.attributeKeyType!==void 0&&(f=!0),X.attributeComment!==void 0&&(g=!0)}),n.forEach(X=>{const J=`${e.node().id}-attr-${I}`;let st=0;const lt=Lo(X.attributeType),tt=t.append("text").classed("er entityLabel",!0).attr("id",`${J}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",o+"px").text(lt),at=t.append("text").classed("er entityLabel",!0).attr("id",`${J}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",o+"px").text(X.attributeName),q={};q.tn=tt,q.nn=at;const z=tt.node().getBBox(),$=at.node().getBBox();if(y=Math.max(y,z.width),b=Math.max(b,$.width),st=Math.max(z.height,$.height),f){const N=t.append("text").classed("er entityLabel",!0).attr("id",`${J}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",o+"px").text(X.attributeKeyType||"");q.kn=N;const j=N.node().getBBox();x=Math.max(x,j.width),st=Math.max(st,j.height)}if(g){const N=t.append("text").classed("er entityLabel",!0).attr("id",`${J}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",o+"px").text(X.attributeComment||"");q.cn=N;const j=N.node().getBBox();k=Math.max(k,j.width),st=Math.max(st,j.height)}q.height=st,h.push(q),O+=st+i*2,I+=1});let R=4;f&&(R+=2),g&&(R+=2);const Y=y+b+x+k,V={width:Math.max(Jr.minEntityWidth,Math.max(l.width+Jr.entityPadding*2,Y+s*R)),height:n.length>0?O:Math.max(Jr.minEntityHeight,l.height+Jr.entityPadding*2)};if(n.length>0){const X=Math.max(0,(V.width-Y-s*R)/(R/2));e.attr("transform","translate("+V.width/2+","+(i+l.height/2)+")");let J=l.height+i*2,st="attributeBoxOdd";h.forEach(lt=>{const tt=J+i+lt.height/2;lt.tn.attr("transform","translate("+s+","+tt+")");const at=t.insert("rect","#"+lt.tn.node().id).classed(`er ${st}`,!0).attr("x",0).attr("y",J).attr("width",y+s*2+X).attr("height",lt.height+i*2),q=parseFloat(at.attr("x"))+parseFloat(at.attr("width"));lt.nn.attr("transform","translate("+(q+s)+","+tt+")");const z=t.insert("rect","#"+lt.nn.node().id).classed(`er ${st}`,!0).attr("x",q).attr("y",J).attr("width",b+s*2+X).attr("height",lt.height+i*2);let $=parseFloat(z.attr("x"))+parseFloat(z.attr("width"));if(f){lt.kn.attr("transform","translate("+($+s)+","+tt+")");const N=t.insert("rect","#"+lt.kn.node().id).classed(`er ${st}`,!0).attr("x",$).attr("y",J).attr("width",x+s*2+X).attr("height",lt.height+i*2);$=parseFloat(N.attr("x"))+parseFloat(N.attr("width"))}g&&(lt.cn.attr("transform","translate("+($+s)+","+tt+")"),t.insert("rect","#"+lt.cn.node().id).classed(`er ${st}`,"true").attr("x",$).attr("y",J).attr("width",k+s*2+X).attr("height",lt.height+i*2)),J+=lt.height+i*2,st=st==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else V.height=Math.max(Jr.minEntityHeight,O),e.attr("transform","translate("+V.width/2+","+V.height/2+")");return V},Sj=function(t,e,n){const i=Object.keys(e);let s;return i.forEach(function(o){const l=Nj(o,"entity");qh.set(o,l);const h=t.append("g").attr("id",l);s=s===void 0?l:s;const f="text-"+l,g=h.append("text").classed("er entityLabel",!0).attr("id",f).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",ht().fontFamily).style("font-size",Jr.fontSize+"px").text(o),{width:y,height:b}=Cj(h,g,e[o].attributes),k=h.insert("rect","#"+f).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",y).attr("height",b).node().getBBox();n.setNode(l,{width:k.width,height:k.height,shape:"rect",id:l})}),s},Aj=function(t,e){e.nodes().forEach(function(n){n!==void 0&&e.node(n)!==void 0&&t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )")})},Sk=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},Lj=function(t,e){return t.forEach(function(n){e.setEdge(qh.get(n.entityA),qh.get(n.entityB),{relationship:n},Sk(n))}),t};let Ak=0;const Oj=function(t,e,n,i,s){Ak++;const o=n.edge(qh.get(e.entityA),qh.get(e.entityB),Sk(e)),l=Dc().x(function(O){return O.x}).y(function(O){return O.y}).curve(Ic),h=t.insert("path","#"+i).classed("er relationshipLine",!0).attr("d",l(o.points)).style("stroke",Jr.stroke).style("fill","none");e.relSpec.relType===s.db.Identification.NON_IDENTIFYING&&h.attr("stroke-dasharray","8,8");let f="";switch(Jr.arrowMarkerAbsolute&&(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,f=f.replace(/\(/g,"\\("),f=f.replace(/\)/g,"\\)")),e.relSpec.cardA){case s.db.Cardinality.ZERO_OR_ONE:h.attr("marker-end","url("+f+"#"+no.ERMarkers.ZERO_OR_ONE_END+")");break;case s.db.Cardinality.ZERO_OR_MORE:h.attr("marker-end","url("+f+"#"+no.ERMarkers.ZERO_OR_MORE_END+")");break;case s.db.Cardinality.ONE_OR_MORE:h.attr("marker-end","url("+f+"#"+no.ERMarkers.ONE_OR_MORE_END+")");break;case s.db.Cardinality.ONLY_ONE:h.attr("marker-end","url("+f+"#"+no.ERMarkers.ONLY_ONE_END+")");break}switch(e.relSpec.cardB){case s.db.Cardinality.ZERO_OR_ONE:h.attr("marker-start","url("+f+"#"+no.ERMarkers.ZERO_OR_ONE_START+")");break;case s.db.Cardinality.ZERO_OR_MORE:h.attr("marker-start","url("+f+"#"+no.ERMarkers.ZERO_OR_MORE_START+")");break;case s.db.Cardinality.ONE_OR_MORE:h.attr("marker-start","url("+f+"#"+no.ERMarkers.ONE_OR_MORE_START+")");break;case s.db.Cardinality.ONLY_ONE:h.attr("marker-start","url("+f+"#"+no.ERMarkers.ONLY_ONE_START+")");break}const g=h.node().getTotalLength(),y=h.node().getPointAtLength(g*.5),b="rel"+Ak,k=t.append("text").classed("er relationshipLabel",!0).attr("id",b).attr("x",y.x).attr("y",y.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",ht().fontFamily).style("font-size",Jr.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+b).classed("er relationshipLabelBox",!0).attr("x",y.x-k.width/2).attr("y",y.y-k.height/2).attr("width",k.width).attr("height",k.height)},Mj=function(t,e,n,i){Jr=ht().er,E.info("Drawing ER diagram");const s=ht().securityLevel;let o;s==="sandbox"&&(o=re("#i"+e));const h=re(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);no.insertMarkers(h,Jr);let f;f=new jr({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Jr.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const g=Sj(h,i.db.getEntities(),f),y=Lj(i.db.getRelationships(),f);su(f),Aj(h,f),y.forEach(function(I){Oj(h,I,f,g,i)});const b=Jr.diagramPadding;kn.insertTitle(h,"entityTitleText",Jr.titleTopMargin,i.db.getDiagramTitle());const x=h.node().getBBox(),k=x.width+b*2,O=x.height+b*2;Fs(h,O,k,Jr.useMaxWidth),h.attr("viewBox",`${x.x-b} ${x.y-b} ${k} ${O}`)};function Nj(t="",e=""){const n=t.replace(Tj,"");return`${Lk(e)}${Lk(n)}${wj()}`}function Lk(t=""){return t.length>0?`${t}-`:""}const Dj={setConf:Ej,draw:Mj};var u2=function(){var t=function(Ki,$e,tn,un){for(tn=tn||{},un=Ki.length;un--;tn[Ki[un]]=$e);return tn},e=[1,9],n=[1,7],i=[1,6],s=[1,8],o=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],l=[2,10],h=[1,20],f=[1,21],g=[1,22],y=[1,23],b=[1,30],x=[1,32],k=[1,33],O=[1,34],I=[1,62],R=[1,48],Y=[1,52],V=[1,36],X=[1,37],J=[1,38],st=[1,39],lt=[1,40],tt=[1,56],at=[1,63],q=[1,51],z=[1,53],$=[1,55],N=[1,59],j=[1,60],A=[1,41],gt=[1,42],L=[1,43],Dt=[1,44],ue=[1,61],qt=[1,50],ut=[1,54],Ct=[1,57],vt=[1,58],xt=[1,49],Ot=[1,66],Ht=[1,71],ft=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],_e=[1,75],et=[1,74],it=[1,76],dt=[20,21,23,81,82],Q=[1,99],G=[1,104],U=[1,107],yt=[1,108],B=[1,101],It=[1,106],rt=[1,109],Ae=[1,102],bt=[1,114],de=[1,113],Jt=[1,103],$t=[1,105],te=[1,110],Xt=[1,111],Ft=[1,112],wt=[1,115],dn=[20,21,22,23,81,82],We=[20,21,22,23,53,81,82],Ue=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],je=[20,21,23],Ve=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Un=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Fe=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],Le=[1,149],Ee=[1,157],Wt=[1,158],Bt=[1,159],oe=[1,160],zt=[1,144],Oe=[1,145],Et=[1,141],on=[1,152],Rt=[1,153],nn=[1,154],vn=[1,155],Cn=[1,156],Sn=[1,161],On=[1,162],ze=[1,147],ln=[1,150],wn=[1,146],Ze=[1,143],Xs=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],is=[1,165],nr=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],cn=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],hr=[12,21,22,24],pr=[22,106],mr=[1,250],yr=[1,245],dr=[1,246],Nr=[1,254],qr=[1,251],Me=[1,248],pt=[1,247],ie=[1,249],fe=[1,252],xn=[1,253],rr=[1,255],Qn=[1,273],Sr=[20,21,23,106],Ln=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],ur={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function($e,tn,un,xe,_r,ct,Ul){var _t=ct.length-1;switch(_r){case 5:xe.parseDirective("%%{","open_directive");break;case 6:xe.parseDirective(ct[_t],"type_directive");break;case 7:ct[_t]=ct[_t].trim().replace(/'/g,'"'),xe.parseDirective(ct[_t],"arg_directive");break;case 8:xe.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(ct[_t])||ct[_t].length>0)&&ct[_t-1].push(ct[_t]),this.$=ct[_t-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=ct[_t];break;case 19:xe.setDirection("TB"),this.$="TB";break;case 20:xe.setDirection(ct[_t-1]),this.$=ct[_t-1];break;case 35:this.$=ct[_t-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=xe.addSubGraph(ct[_t-6],ct[_t-1],ct[_t-4]);break;case 42:this.$=xe.addSubGraph(ct[_t-3],ct[_t-1],ct[_t-3]);break;case 43:this.$=xe.addSubGraph(void 0,ct[_t-1],void 0);break;case 45:this.$=ct[_t].trim(),xe.setAccTitle(this.$);break;case 46:case 47:this.$=ct[_t].trim(),xe.setAccDescription(this.$);break;case 51:xe.addLink(ct[_t-2].stmt,ct[_t],ct[_t-1]),this.$={stmt:ct[_t],nodes:ct[_t].concat(ct[_t-2].nodes)};break;case 52:xe.addLink(ct[_t-3].stmt,ct[_t-1],ct[_t-2]),this.$={stmt:ct[_t-1],nodes:ct[_t-1].concat(ct[_t-3].nodes)};break;case 53:this.$={stmt:ct[_t-1],nodes:ct[_t-1]};break;case 54:this.$={stmt:ct[_t],nodes:ct[_t]};break;case 55:this.$=[ct[_t]];break;case 56:this.$=ct[_t-4].concat(ct[_t]);break;case 57:this.$=[ct[_t-2]],xe.setClass(ct[_t-2],ct[_t]);break;case 58:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"square");break;case 59:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"doublecircle");break;case 60:this.$=ct[_t-5],xe.addVertex(ct[_t-5],ct[_t-2],"circle");break;case 61:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"ellipse");break;case 62:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"stadium");break;case 63:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"subroutine");break;case 64:this.$=ct[_t-7],xe.addVertex(ct[_t-7],ct[_t-1],"rect",void 0,void 0,void 0,Object.fromEntries([[ct[_t-5],ct[_t-3]]]));break;case 65:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"cylinder");break;case 66:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"round");break;case 67:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"diamond");break;case 68:this.$=ct[_t-5],xe.addVertex(ct[_t-5],ct[_t-2],"hexagon");break;case 69:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"odd");break;case 70:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"trapezoid");break;case 71:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"inv_trapezoid");break;case 72:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"lean_right");break;case 73:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"lean_left");break;case 74:this.$=ct[_t],xe.addVertex(ct[_t]);break;case 75:ct[_t-1].text=ct[_t],this.$=ct[_t-1];break;case 76:case 77:ct[_t-2].text=ct[_t-1],this.$=ct[_t-2];break;case 78:this.$=ct[_t];break;case 79:var Ci=xe.destructLink(ct[_t],ct[_t-2]);this.$={type:Ci.type,stroke:Ci.stroke,length:Ci.length,text:ct[_t-1]};break;case 80:var Ci=xe.destructLink(ct[_t]);this.$={type:Ci.type,stroke:Ci.stroke,length:Ci.length};break;case 81:this.$=ct[_t-1];break;case 83:case 97:case 153:this.$=ct[_t-1]+""+ct[_t];break;case 98:case 99:this.$=ct[_t-4],xe.addClass(ct[_t-2],ct[_t]);break;case 100:this.$=ct[_t-4],xe.setClass(ct[_t-2],ct[_t]);break;case 101:case 109:this.$=ct[_t-1],xe.setClickEvent(ct[_t-1],ct[_t]);break;case 102:case 110:this.$=ct[_t-3],xe.setClickEvent(ct[_t-3],ct[_t-2]),xe.setTooltip(ct[_t-3],ct[_t]);break;case 103:this.$=ct[_t-2],xe.setClickEvent(ct[_t-2],ct[_t-1],ct[_t]);break;case 104:this.$=ct[_t-4],xe.setClickEvent(ct[_t-4],ct[_t-3],ct[_t-2]),xe.setTooltip(ct[_t-4],ct[_t]);break;case 105:case 111:this.$=ct[_t-1],xe.setLink(ct[_t-1],ct[_t]);break;case 106:case 112:this.$=ct[_t-3],xe.setLink(ct[_t-3],ct[_t-2]),xe.setTooltip(ct[_t-3],ct[_t]);break;case 107:case 113:this.$=ct[_t-3],xe.setLink(ct[_t-3],ct[_t-2],ct[_t]);break;case 108:case 114:this.$=ct[_t-5],xe.setLink(ct[_t-5],ct[_t-4],ct[_t]),xe.setTooltip(ct[_t-5],ct[_t-2]);break;case 115:this.$=ct[_t-4],xe.addVertex(ct[_t-2],void 0,void 0,ct[_t]);break;case 116:case 118:this.$=ct[_t-4],xe.updateLink(ct[_t-2],ct[_t]);break;case 117:this.$=ct[_t-4],xe.updateLink([ct[_t-2]],ct[_t]);break;case 119:this.$=ct[_t-8],xe.updateLinkInterpolate([ct[_t-6]],ct[_t-2]),xe.updateLink([ct[_t-6]],ct[_t]);break;case 120:this.$=ct[_t-8],xe.updateLinkInterpolate(ct[_t-6],ct[_t-2]),xe.updateLink(ct[_t-6],ct[_t]);break;case 121:this.$=ct[_t-6],xe.updateLinkInterpolate([ct[_t-4]],ct[_t]);break;case 122:this.$=ct[_t-6],xe.updateLinkInterpolate(ct[_t-4],ct[_t]);break;case 123:case 125:this.$=[ct[_t]];break;case 124:case 126:ct[_t-2].push(ct[_t]),this.$=ct[_t-2];break;case 128:this.$=ct[_t-1]+ct[_t];break;case 150:this.$=ct[_t];break;case 151:this.$=ct[_t-1]+""+ct[_t];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:i,24:s},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:i,24:s},t(o,l,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:i,24:s},{16:15,21:n,22:i,24:s},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:h,21:f,22:g,23:y,32:24,33:25,34:26,35:27,36:28,37:29,38:b,43:31,44:x,46:k,48:O,50:35,51:45,52:I,54:46,66:R,67:Y,86:V,87:X,88:J,89:st,90:lt,91:tt,95:at,105:q,106:z,109:$,111:N,112:j,116:47,118:A,119:gt,120:L,121:Dt,122:ue,123:qt,124:ut,125:Ct,126:vt,127:xt},{8:64,10:[1,65],15:Ot},t([10,15],[2,6]),t(o,[2,17]),t(o,[2,18]),t(o,[2,19]),{20:[1,68],21:[1,69],22:Ht,27:67,30:70},t(ft,[2,11]),t(ft,[2,12]),t(ft,[2,13]),t(ft,[2,14]),t(ft,[2,15]),t(ft,[2,16]),{9:72,20:_e,21:et,23:it,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:_e,21:et,23:it},{9:81,20:_e,21:et,23:it},{9:82,20:_e,21:et,23:it},{9:83,20:_e,21:et,23:it},{9:84,20:_e,21:et,23:it},{9:86,20:_e,21:et,22:[1,85],23:it},t(ft,[2,44]),{45:[1,87]},{47:[1,88]},t(ft,[2,47]),t(dt,[2,54],{30:89,22:Ht}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:Q,52:G,66:U,67:yt,84:[1,97],91:B,97:96,98:[1,94],100:[1,95],105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:98,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(ft,[2,158]),t(ft,[2,159]),t(ft,[2,160]),t(ft,[2,161]),t(dn,[2,55],{53:[1,116]}),t(We,[2,74],{116:129,40:[1,117],52:I,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:R,67:Y,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:tt,95:at,105:q,106:z,109:$,111:N,112:j,122:ue,123:qt,124:ut,125:Ct,126:vt,127:xt}),t(Ue,[2,150]),t(Ue,[2,175]),t(Ue,[2,176]),t(Ue,[2,177]),t(Ue,[2,178]),t(Ue,[2,179]),t(Ue,[2,180]),t(Ue,[2,181]),t(Ue,[2,182]),t(Ue,[2,183]),t(Ue,[2,184]),t(Ue,[2,185]),t(Ue,[2,186]),t(Ue,[2,187]),t(Ue,[2,188]),t(Ue,[2,189]),t(Ue,[2,190]),{9:130,20:_e,21:et,23:it},{11:131,14:[1,132]},t(je,[2,8]),t(o,[2,20]),t(o,[2,26]),t(o,[2,27]),{21:[1,133]},t(Ve,[2,34],{30:134,22:Ht}),t(ft,[2,35]),{50:135,51:45,52:I,54:46,66:R,67:Y,91:tt,95:at,105:q,106:z,109:$,111:N,112:j,116:47,122:ue,123:qt,124:ut,125:Ct,126:vt,127:xt},t(Un,[2,48]),t(Un,[2,49]),t(Un,[2,50]),t(Fe,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:Le,24:Ee,26:Wt,38:Bt,39:139,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(ft,[2,36]),t(ft,[2,37]),t(ft,[2,38]),t(ft,[2,39]),t(ft,[2,40]),{22:Le,24:Ee,26:Wt,38:Bt,39:163,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(Xs,l,{17:164}),t(ft,[2,45]),t(ft,[2,46]),t(dt,[2,53],{52:is}),{26:Q,52:G,66:U,67:yt,91:B,97:166,102:[1,167],105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:98,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{95:[1,168],103:169,105:[1,170]},{26:Q,52:G,66:U,67:yt,91:B,95:[1,171],97:172,105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:98,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{26:Q,52:G,66:U,67:yt,91:B,97:173,105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:98,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(je,[2,101],{22:[1,174],99:[1,175]}),t(je,[2,105],{22:[1,176]}),t(je,[2,109],{115:100,117:178,22:[1,177],26:Q,52:G,66:U,67:yt,91:B,105:It,106:rt,109:Ae,111:bt,112:de,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt}),t(je,[2,111],{22:[1,179]}),t(nr,[2,152]),t(nr,[2,154]),t(nr,[2,155]),t(nr,[2,156]),t(nr,[2,157]),t(cn,[2,162]),t(cn,[2,163]),t(cn,[2,164]),t(cn,[2,165]),t(cn,[2,166]),t(cn,[2,167]),t(cn,[2,168]),t(cn,[2,169]),t(cn,[2,170]),t(cn,[2,171]),t(cn,[2,172]),t(cn,[2,173]),t(cn,[2,174]),{52:I,54:180,66:R,67:Y,91:tt,95:at,105:q,106:z,109:$,111:N,112:j,116:47,122:ue,123:qt,124:ut,125:Ct,126:vt,127:xt},{22:Le,24:Ee,26:Wt,38:Bt,39:181,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:182,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:184,42:oe,52:G,57:[1,183],66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:185,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:186,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:187,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{66:[1,188]},{22:Le,24:Ee,26:Wt,38:Bt,39:189,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:190,42:oe,52:G,66:U,67:yt,71:[1,191],73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:192,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:193,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:194,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(Ue,[2,151]),t(hr,[2,3]),{8:195,15:Ot},{15:[2,7]},t(o,[2,28]),t(Ve,[2,33]),t(dt,[2,51],{30:196,22:Ht}),t(Fe,[2,75],{22:[1,197]}),{22:[1,198]},{22:Le,24:Ee,26:Wt,38:Bt,39:199,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,82:[1,200],83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(cn,[2,82]),t(cn,[2,84]),t(cn,[2,140]),t(cn,[2,141]),t(cn,[2,142]),t(cn,[2,143]),t(cn,[2,144]),t(cn,[2,145]),t(cn,[2,146]),t(cn,[2,147]),t(cn,[2,148]),t(cn,[2,149]),t(cn,[2,85]),t(cn,[2,86]),t(cn,[2,87]),t(cn,[2,88]),t(cn,[2,89]),t(cn,[2,90]),t(cn,[2,91]),t(cn,[2,92]),t(cn,[2,93]),t(cn,[2,94]),t(cn,[2,95]),{9:203,20:_e,21:et,22:Le,23:it,24:Ee,26:Wt,38:Bt,40:[1,202],42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{18:18,19:19,20:h,21:f,22:g,23:y,32:24,33:25,34:26,35:27,36:28,37:29,38:b,42:[1,204],43:31,44:x,46:k,48:O,50:35,51:45,52:I,54:46,66:R,67:Y,86:V,87:X,88:J,89:st,90:lt,91:tt,95:at,105:q,106:z,109:$,111:N,112:j,116:47,118:A,119:gt,120:L,121:Dt,122:ue,123:qt,124:ut,125:Ct,126:vt,127:xt},{22:Ht,30:205},{22:[1,206],26:Q,52:G,66:U,67:yt,91:B,105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:178,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t(pr,[2,123]),{22:[1,211]},{22:[1,212],26:Q,52:G,66:U,67:yt,91:B,105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:178,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:[1,213],26:Q,52:G,66:U,67:yt,91:B,105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:178,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{84:[1,214]},t(je,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(nr,[2,153]),{84:[1,219],101:[1,220]},t(dn,[2,57],{116:129,52:I,66:R,67:Y,91:tt,95:at,105:q,106:z,109:$,111:N,112:j,122:ue,123:qt,124:ut,125:Ct,126:vt,127:xt}),{22:Le,24:Ee,26:Wt,38:Bt,41:[1,221],42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,56:[1,222],66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:223,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,58:[1,224],66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,60:[1,225],66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,62:[1,226],66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,64:[1,227],66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{67:[1,228]},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,66:U,67:yt,70:[1,229],73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,66:U,67:yt,72:[1,230],73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,39:231,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,41:[1,232],42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,66:U,67:yt,73:zt,75:[1,233],77:[1,234],81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,66:U,67:yt,73:zt,75:[1,236],77:[1,235],81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{9:237,20:_e,21:et,23:it},t(dt,[2,52],{52:is}),t(Fe,[2,77]),t(Fe,[2,76]),{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,66:U,67:yt,68:[1,238],73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(Fe,[2,79]),t(cn,[2,83]),{22:Le,24:Ee,26:Wt,38:Bt,39:239,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(Xs,l,{17:240}),t(ft,[2,43]),{51:241,52:I,54:46,66:R,67:Y,91:tt,95:at,105:q,106:z,109:$,111:N,112:j,116:47,122:ue,123:qt,124:ut,125:Ct,126:vt,127:xt},{22:mr,66:yr,67:dr,86:Nr,96:242,102:qr,105:Me,107:243,108:244,109:pt,110:ie,111:fe,112:xn,113:rr},{22:mr,66:yr,67:dr,86:Nr,96:256,102:qr,105:Me,107:243,108:244,109:pt,110:ie,111:fe,112:xn,113:rr},{22:mr,66:yr,67:dr,86:Nr,96:257,102:qr,104:[1,258],105:Me,107:243,108:244,109:pt,110:ie,111:fe,112:xn,113:rr},{22:mr,66:yr,67:dr,86:Nr,96:259,102:qr,104:[1,260],105:Me,107:243,108:244,109:pt,110:ie,111:fe,112:xn,113:rr},{105:[1,261]},{22:mr,66:yr,67:dr,86:Nr,96:262,102:qr,105:Me,107:243,108:244,109:pt,110:ie,111:fe,112:xn,113:rr},{22:mr,66:yr,67:dr,86:Nr,96:263,102:qr,105:Me,107:243,108:244,109:pt,110:ie,111:fe,112:xn,113:rr},{26:Q,52:G,66:U,67:yt,91:B,97:264,105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:98,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(je,[2,102]),{84:[1,265]},t(je,[2,106],{22:[1,266]}),t(je,[2,107]),t(je,[2,110]),t(je,[2,112],{22:[1,267]}),t(je,[2,113]),t(We,[2,58]),t(We,[2,59]),{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,58:[1,268],66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(We,[2,66]),t(We,[2,61]),t(We,[2,62]),t(We,[2,63]),{66:[1,269]},t(We,[2,65]),t(We,[2,67]),{22:Le,24:Ee,26:Wt,38:Bt,42:oe,52:G,66:U,67:yt,72:[1,270],73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(We,[2,69]),t(We,[2,70]),t(We,[2,72]),t(We,[2,71]),t(We,[2,73]),t(hr,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:Le,24:Ee,26:Wt,38:Bt,41:[1,271],42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{18:18,19:19,20:h,21:f,22:g,23:y,32:24,33:25,34:26,35:27,36:28,37:29,38:b,42:[1,272],43:31,44:x,46:k,48:O,50:35,51:45,52:I,54:46,66:R,67:Y,86:V,87:X,88:J,89:st,90:lt,91:tt,95:at,105:q,106:z,109:$,111:N,112:j,116:47,118:A,119:gt,120:L,121:Dt,122:ue,123:qt,124:ut,125:Ct,126:vt,127:xt},t(dn,[2,56]),t(je,[2,115],{106:Qn}),t(Sr,[2,125],{108:274,22:mr,66:yr,67:dr,86:Nr,102:qr,105:Me,109:pt,110:ie,111:fe,112:xn,113:rr}),t(Ln,[2,127]),t(Ln,[2,129]),t(Ln,[2,130]),t(Ln,[2,131]),t(Ln,[2,132]),t(Ln,[2,133]),t(Ln,[2,134]),t(Ln,[2,135]),t(Ln,[2,136]),t(Ln,[2,137]),t(Ln,[2,138]),t(Ln,[2,139]),t(je,[2,116],{106:Qn}),t(je,[2,117],{106:Qn}),{22:[1,275]},t(je,[2,118],{106:Qn}),{22:[1,276]},t(pr,[2,124]),t(je,[2,98],{106:Qn}),t(je,[2,99],{106:Qn}),t(je,[2,100],{115:100,117:178,26:Q,52:G,66:U,67:yt,91:B,105:It,106:rt,109:Ae,111:bt,112:de,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt}),t(je,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:_e,21:et,23:it},t(ft,[2,42]),{22:mr,66:yr,67:dr,86:Nr,102:qr,105:Me,107:283,108:244,109:pt,110:ie,111:fe,112:xn,113:rr},t(Ln,[2,128]),{26:Q,52:G,66:U,67:yt,91:B,97:284,105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:98,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{26:Q,52:G,66:U,67:yt,91:B,97:285,105:It,106:rt,109:Ae,111:bt,112:de,115:100,117:98,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(je,[2,108]),t(je,[2,114]),t(We,[2,60]),{22:Le,24:Ee,26:Wt,38:Bt,39:286,42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:140,84:Et,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},t(We,[2,68]),t(Xs,l,{17:287}),t(Sr,[2,126],{108:274,22:mr,66:yr,67:dr,86:Nr,102:qr,105:Me,109:pt,110:ie,111:fe,112:xn,113:rr}),t(je,[2,121],{115:100,117:178,22:[1,288],26:Q,52:G,66:U,67:yt,91:B,105:It,106:rt,109:Ae,111:bt,112:de,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt}),t(je,[2,122],{115:100,117:178,22:[1,289],26:Q,52:G,66:U,67:yt,91:B,105:It,106:rt,109:Ae,111:bt,112:de,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt}),{22:Le,24:Ee,26:Wt,38:Bt,41:[1,290],42:oe,52:G,66:U,67:yt,73:zt,81:Oe,83:201,85:151,86:on,87:Rt,88:nn,89:vn,90:Cn,91:Sn,92:On,94:142,95:ze,105:It,106:rt,109:ln,111:bt,112:de,113:wn,114:Ze,115:148,122:Jt,123:$t,124:te,125:Xt,126:Ft,127:wt},{18:18,19:19,20:h,21:f,22:g,23:y,32:24,33:25,34:26,35:27,36:28,37:29,38:b,42:[1,291],43:31,44:x,46:k,48:O,50:35,51:45,52:I,54:46,66:R,67:Y,86:V,87:X,88:J,89:st,90:lt,91:tt,95:at,105:q,106:z,109:$,111:N,112:j,116:47,118:A,119:gt,120:L,121:Dt,122:ue,123:qt,124:ut,125:Ct,126:vt,127:xt},{22:mr,66:yr,67:dr,86:Nr,96:292,102:qr,105:Me,107:243,108:244,109:pt,110:ie,111:fe,112:xn,113:rr},{22:mr,66:yr,67:dr,86:Nr,96:293,102:qr,105:Me,107:243,108:244,109:pt,110:ie,111:fe,112:xn,113:rr},t(We,[2,64]),t(ft,[2,41]),t(je,[2,119],{106:Qn}),t(je,[2,120],{106:Qn})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function($e,tn){if(tn.recoverable)this.trace($e);else{var un=new Error($e);throw un.hash=tn,un}},parse:function($e){var tn=this,un=[0],xe=[],_r=[null],ct=[],Ul=this.table,_t="",Ci=0,R0=0,xy=2,B0=1,F0=ct.slice.call(arguments,1),Gr=Object.create(this.lexer),Ca={yy:{}};for(var Sa in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Sa)&&(Ca.yy[Sa]=this.yy[Sa]);Gr.setInput($e,Ca.yy),Ca.yy.lexer=Gr,Ca.yy.parser=this,typeof Gr.yylloc=="undefined"&&(Gr.yylloc={});var zl=Gr.yylloc;ct.push(zl);var pd=Gr.options&&Gr.options.ranges;typeof Ca.yy.parseError=="function"?this.parseError=Ca.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function P0(){var as;return as=xe.pop()||Gr.lex()||B0,typeof as!="number"&&(as instanceof Array&&(xe=as,as=xe.pop()),as=tn.symbols_[as]||as),as}for(var gi,qn,Pi,ho,Ks={},fo,ss,gd,_u;;){if(qn=un[un.length-1],this.defaultActions[qn]?Pi=this.defaultActions[qn]:((gi===null||typeof gi=="undefined")&&(gi=P0()),Pi=Ul[qn]&&Ul[qn][gi]),typeof Pi=="undefined"||!Pi.length||!Pi[0]){var Hl="";_u=[];for(fo in Ul[qn])this.terminals_[fo]&&fo>xy&&_u.push("'"+this.terminals_[fo]+"'");Gr.showPosition?Hl="Parse error on line "+(Ci+1)+`:
`+Gr.showPosition()+`
Expecting `+_u.join(", ")+", got '"+(this.terminals_[gi]||gi)+"'":Hl="Parse error on line "+(Ci+1)+": Unexpected "+(gi==B0?"end of input":"'"+(this.terminals_[gi]||gi)+"'"),this.parseError(Hl,{text:Gr.match,token:this.terminals_[gi]||gi,line:Gr.yylineno,loc:zl,expected:_u})}if(Pi[0]instanceof Array&&Pi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+qn+", token: "+gi);switch(Pi[0]){case 1:un.push(gi),_r.push(Gr.yytext),ct.push(Gr.yylloc),un.push(Pi[1]),gi=null,R0=Gr.yyleng,_t=Gr.yytext,Ci=Gr.yylineno,zl=Gr.yylloc;break;case 2:if(ss=this.productions_[Pi[1]][1],Ks.$=_r[_r.length-ss],Ks._$={first_line:ct[ct.length-(ss||1)].first_line,last_line:ct[ct.length-1].last_line,first_column:ct[ct.length-(ss||1)].first_column,last_column:ct[ct.length-1].last_column},pd&&(Ks._$.range=[ct[ct.length-(ss||1)].range[0],ct[ct.length-1].range[1]]),ho=this.performAction.apply(Ks,[_t,R0,Ci,Ca.yy,Pi[1],_r,ct].concat(F0)),typeof ho!="undefined")return ho;ss&&(un=un.slice(0,-1*ss*2),_r=_r.slice(0,-1*ss),ct=ct.slice(0,-1*ss)),un.push(this.productions_[Pi[1]][0]),_r.push(Ks.$),ct.push(Ks._$),gd=Ul[un[un.length-2]][un[un.length-1]],un.push(gd);break;case 3:return!0}}return!0}},zo=function(){var Ki={EOF:1,parseError:function(tn,un){if(this.yy.parser)this.yy.parser.parseError(tn,un);else throw new Error(tn)},setInput:function($e,tn){return this.yy=tn||this.yy||{},this._input=$e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var $e=this._input[0];this.yytext+=$e,this.yyleng++,this.offset++,this.match+=$e,this.matched+=$e;var tn=$e.match(/(?:\r\n?|\n).*/g);return tn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$e},unput:function($e){var tn=$e.length,un=$e.split(/(?:\r\n?|\n)/g);this._input=$e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-tn),this.offset-=tn;var xe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),un.length-1&&(this.yylineno-=un.length-1);var _r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:un?(un.length===xe.length?this.yylloc.first_column:0)+xe[xe.length-un.length].length-un[0].length:this.yylloc.first_column-tn},this.options.ranges&&(this.yylloc.range=[_r[0],_r[0]+this.yyleng-tn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function($e){this.unput(this.match.slice($e))},pastInput:function(){var $e=this.matched.substr(0,this.matched.length-this.match.length);return($e.length>20?"...":"")+$e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var $e=this.match;return $e.length<20&&($e+=this._input.substr(0,20-$e.length)),($e.substr(0,20)+($e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var $e=this.pastInput(),tn=new Array($e.length+1).join("-");return $e+this.upcomingInput()+`
`+tn+"^"},test_match:function($e,tn){var un,xe,_r;if(this.options.backtrack_lexer&&(_r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_r.yylloc.range=this.yylloc.range.slice(0))),xe=$e[0].match(/(?:\r\n?|\n).*/g),xe&&(this.yylineno+=xe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xe?xe[xe.length-1].length-xe[xe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$e[0].length},this.yytext+=$e[0],this.match+=$e[0],this.matches=$e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($e[0].length),this.matched+=$e[0],un=this.performAction.call(this,this.yy,this,tn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),un)return un;if(this._backtrack){for(var ct in _r)this[ct]=_r[ct];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var $e,tn,un,xe;this._more||(this.yytext="",this.match="");for(var _r=this._currentRules(),ct=0;ct<_r.length;ct++)if(un=this._input.match(this.rules[_r[ct]]),un&&(!tn||un[0].length>tn[0].length)){if(tn=un,xe=ct,this.options.backtrack_lexer){if($e=this.test_match(un,_r[ct]),$e!==!1)return $e;if(this._backtrack){tn=!1;continue}else return!1}else if(!this.options.flex)break}return tn?($e=this.test_match(tn,_r[xe]),$e!==!1?$e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var tn=this.next();return tn||this.lex()},begin:function(tn){this.conditionStack.push(tn)},popState:function(){var tn=this.conditionStack.length-1;return tn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(tn){return tn=this.conditionStack.length-1-Math.abs(tn||0),tn>=0?this.conditionStack[tn]:"INITIAL"},pushState:function(tn){this.begin(tn)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(tn,un,xe,_r){switch(xe){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return tn.lex.firstGraph()&&this.begin("dir"),24;case 36:return tn.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 81;case 70:return 81;case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:return 125;case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};return Ki}();ur.lexer=zo;function Ho(){this.yy={}}return Ho.prototype=ur,ur.Parser=Ho,new Ho}();u2.parser=u2;const Ok=u2,Ij=(t,e)=>{var n;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*graph/)!==null},Rj=(t,e)=>{var n;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"&&t.match(/^\s*graph/)!==null?!0:t.match(/^\s*flowchart/)!==null},Bj="flowchart-";let Mk=0,h2=ht(),wr={},Pl=[],ou={},ro=[],c0={},d2={},u0=0,f2=!0,va,h0,d0=[];const f0=t=>gn.sanitizeText(t,h2),Fj=function(t,e,n){Tr.parseDirective(this,t,e,n)},p0=function(t){const e=Object.keys(wr);for(const n of e)if(wr[n].id===t)return wr[n].domId;return t},Pj=function(t,e,n,i,s,o,l={}){let h,f=t;f!==void 0&&f.trim().length!==0&&(wr[f]===void 0&&(wr[f]={id:f,domId:Bj+f+"-"+Mk,styles:[],classes:[]}),Mk++,e!==void 0?(h2=ht(),h=f0(e.trim()),h[0]==='"'&&h[h.length-1]==='"'&&(h=h.substring(1,h.length-1)),wr[f].text=h):wr[f].text===void 0&&(wr[f].text=t),n!==void 0&&(wr[f].type=n),i!=null&&i.forEach(function(g){wr[f].styles.push(g)}),s!=null&&s.forEach(function(g){wr[f].classes.push(g)}),o!==void 0&&(wr[f].dir=o),wr[f].props===void 0?wr[f].props=l:l!==void 0&&Object.assign(wr[f].props,l))},Vj=function(t,e,n,i){const l={start:t,end:e,type:void 0,text:""};i=n.text,i!==void 0&&(l.text=f0(i.trim()),l.text[0]==='"'&&l.text[l.text.length-1]==='"'&&(l.text=l.text.substring(1,l.text.length-1))),n!==void 0&&(l.type=n.type,l.stroke=n.stroke,l.length=n.length),Pl.push(l)},$j=function(t,e,n,i){let s,o;for(s=0;s<t.length;s++)for(o=0;o<e.length;o++)Vj(t[s],e[o],n,i)},Yj=function(t,e){t.forEach(function(n){n==="default"?Pl.defaultInterpolate=e:Pl[n].interpolate=e})},Uj=function(t,e){t.forEach(function(n){n==="default"?Pl.defaultStyle=e:(kn.isSubstringInArray("fill",e)===-1&&e.push("fill:none"),Pl[n].style=e)})},zj=function(t,e){ou[t]===void 0&&(ou[t]={id:t,styles:[],textStyles:[]}),e!=null&&e.forEach(function(n){if(n.match("color")){const s=n.replace("fill","bgFill").replace("color","fill");ou[t].textStyles.push(s)}ou[t].styles.push(n)})},Hj=function(t){va=t,va.match(/.*</)&&(va="RL"),va.match(/.*\^/)&&(va="BT"),va.match(/.*>/)&&(va="LR"),va.match(/.*v/)&&(va="TB")},p2=function(t,e){t.split(",").forEach(function(n){let i=n;wr[i]!==void 0&&wr[i].classes.push(e),c0[i]!==void 0&&c0[i].classes.push(e)})},Wj=function(t,e){t.split(",").forEach(function(n){e!==void 0&&(d2[h0==="gen-1"?p0(n):n]=f0(e))})},jj=function(t,e,n){let i=p0(t);if(ht().securityLevel!=="loose"||e===void 0)return;let s=[];if(typeof n=="string"){s=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<s.length;o++){let l=s[o].trim();l.charAt(0)==='"'&&l.charAt(l.length-1)==='"'&&(l=l.substr(1,l.length-2)),s[o]=l}}s.length===0&&s.push(t),wr[t]!==void 0&&(wr[t].haveCallback=!0,d0.push(function(){const o=document.querySelector(`[id="${i}"]`);o!==null&&o.addEventListener("click",function(){kn.runFunc(e,...s)},!1)}))},qj=function(t,e,n){t.split(",").forEach(function(i){wr[i]!==void 0&&(wr[i].link=kn.formatUrl(e,h2),wr[i].linkTarget=n)}),p2(t,"clickable")},Gj=function(t){return d2[t]},Xj=function(t,e,n){t.split(",").forEach(function(i){jj(i,e,n)}),p2(t,"clickable")},Kj=function(t){d0.forEach(function(e){e(t)})},Zj=function(){return va.trim()},Qj=function(){return wr},Jj=function(){return Pl},tq=function(){return ou},Nk=function(t){let e=re(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=re("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),re(t).select("svg").selectAll("g.node").on("mouseover",function(){const s=re(this);if(s.attr("title")===null)return;const l=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(s.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),re(this).classed("hover",!1)})};d0.push(Nk);const eq=function(t="gen-1"){wr={},ou={},Pl=[],d0=[Nk],ro=[],c0={},u0=0,d2=[],f2=!0,h0=t,Ps()},nq=t=>{h0=t||"gen-1"},rq=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},iq=function(t,e,n){let i=t.trim(),s=n;t===n&&n.match(/\s/)&&(i=void 0);function o(y){const b={boolean:{},number:{},string:{}},x=[];let k;return{nodeList:y.filter(function(I){const R=typeof I;return I.stmt&&I.stmt==="dir"?(k=I.value,!1):I.trim()===""?!1:R in b?b[R].hasOwnProperty(I)?!1:b[R][I]=!0:x.includes(I)?!1:x.push(I)}),dir:k}}let l=[];const{nodeList:h,dir:f}=o(l.concat.apply(l,e));if(l=h,h0==="gen-1")for(let y=0;y<l.length;y++)l[y]=p0(l[y]);i=i||"subGraph"+u0,s=s||"",s=f0(s),u0=u0+1;const g={id:i,nodes:l,title:s.trim(),classes:[],dir:f};return E.info("Adding",g.id,g.nodes,g.dir),g.nodes=Bk(g,ro).nodes,ro.push(g),c0[i]=g,i},sq=function(t){for(const[e,n]of ro.entries())if(n.id===t)return e;return-1};let Gh=-1;const Dk=[],Ik=function(t,e){const n=ro[e].nodes;if(Gh=Gh+1,Gh>2e3)return;if(Dk[Gh]=e,ro[e].id===t)return{result:!0,count:0};let i=0,s=1;for(;i<n.length;){const o=sq(n[i]);if(o>=0){const l=Ik(t,o);if(l.result)return{result:!0,count:s+l.count};s=s+l.count}i=i+1}return{result:!1,count:s}},aq=function(t){return Dk[t]},oq=function(){Gh=-1,ro.length>0&&Ik("none",ro.length-1)},lq=function(){return ro},cq=()=>f2?(f2=!1,!0):!1,uq=t=>{let e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1);break}let i="normal";return e.includes("=")&&(i="thick"),e.includes(".")&&(i="dotted"),{type:n,stroke:i}},hq=(t,e)=>{const n=e.length;let i=0;for(let s=0;s<n;++s)e[s]===t&&++i;return i},dq=t=>{const e=t.trim();let n=e.slice(0,-1),i="arrow_open";switch(e.slice(-1)){case"x":i="arrow_cross",e[0]==="x"&&(i="double_"+i,n=n.slice(1));break;case">":i="arrow_point",e[0]==="<"&&(i="double_"+i,n=n.slice(1));break;case"o":i="arrow_circle",e[0]==="o"&&(i="double_"+i,n=n.slice(1));break}let s="normal",o=n.length-1;n[0]==="="&&(s="thick");let l=hq(".",n);return l&&(s="dotted",o=l),{type:i,stroke:s,length:o}},fq=(t,e)=>{const n=dq(t);let i;if(e){if(i=uq(e),i.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if(i.type==="arrow_open")i.type=n.type;else{if(i.type!==n.type)return{type:"INVALID",stroke:"INVALID"};i.type="double_"+i.type}return i.type==="double_arrow"&&(i.type="double_arrow_point"),i.length=n.length,i}return n},Rk=(t,e)=>{let n=!1;return t.forEach(i=>{i.nodes.indexOf(e)>=0&&(n=!0)}),n},Bk=(t,e)=>{const n=[];return t.nodes.forEach((i,s)=>{Rk(e,i)||n.push(t.nodes[s])}),{nodes:n}},io={parseDirective:Fj,defaultConfig:()=>Wc.flowchart,setAccTitle:vs,getAccTitle:Vs,getAccDescription:Ys,setAccDescription:$s,addVertex:Pj,lookUpDomId:p0,addLink:$j,updateLinkInterpolate:Yj,updateLink:Uj,addClass:zj,setDirection:Hj,setClass:p2,setTooltip:Wj,getTooltip:Gj,setClickEvent:Xj,setLink:qj,bindFunctions:Kj,getDirection:Zj,getVertices:Qj,getEdges:Jj,getClasses:tq,clear:eq,setGen:nq,defaultStyle:rq,addSubGraph:iq,getDepthFirstPos:aq,indexNodes:oq,getSubGraphs:lq,destructLink:fq,lex:{firstGraph:cq},exists:Rk,makeUniq:Bk,setDiagramTitle:Ga,getDiagramTitle:Xa};function Fk(t,e){return!!t.children(e).length}function Pk(t){return g2(t.v)+":"+g2(t.w)+":"+g2(t.name)}var pq=/:/g;function g2(t){return t?String(t).replace(pq,"\\:"):""}function xa(t,e){e&&t.attr("style",e)}function Vk(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function qs(t,e){var n=e.graph();if(H5(n)){var i=n.transition;if($c(i))return i(t)}return t}var m2={normal:mq,vee:yq,undirected:_q};function gq(t){m2=t}function mq(t,e,n,i){var s=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=s.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");xa(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}function yq(t,e,n,i){var s=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=s.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");xa(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}function _q(t,e,n,i){var s=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=s.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");xa(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}function y2(t,e){var n=t.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var s=e.label;switch(typeof s){case"function":i.insert(s);break;case"object":i.insert(function(){return s});break;default:i.html(s)}xa(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var o=i.node().getBoundingClientRect();return n.attr("width",o.width).attr("height",o.height),n}function bq(t,e){var n=t;return n.node().appendChild(e.label),xa(n,e.labelStyle),n}function vq(t,e){for(var n=t.append("text"),i=xq(e.label).split(`
`),s=0;s<i.length;s++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[s]);return xa(n,e.labelStyle),n}function xq(t){for(var e="",n=!1,i,s=0;s<t.length;++s)if(i=t[s],n){switch(i){case"n":e+=`
`;break;default:e+=i}n=!1}else i==="\\"?n=!0:e+=i;return e}function _2(t,e,n){var i=e.label,s=t.append("g");e.labelType==="svg"?bq(s,e):typeof i!="string"||e.labelType==="html"?y2(s,e):vq(s,e);var o=s.node().getBBox(),l;switch(n){case"top":l=-e.height/2;break;case"bottom":l=e.height/2-o.height;break;default:l=-o.height/2}return s.attr("transform","translate("+-o.width/2+","+l+")"),s}var b2=function(t,e){var n=e.nodes().filter(function(o){return Fk(e,o)}),i=t.selectAll("g.cluster").data(n,function(o){return o});qs(i.exit(),e).style("opacity",0).remove();var s=i.enter().append("g").attr("class","cluster").attr("id",function(o){var l=e.node(o);return l.id}).style("opacity",0).each(function(o){var l=e.node(o),h=re(this);re(this).append("rect");var f=h.append("g").attr("class","label");_2(f,l,l.clusterLabelPos)});return i=i.merge(s),i=qs(i,e).style("opacity",1),i.selectAll("rect").each(function(o){var l=e.node(o),h=re(this);xa(h,l.style)}),i};function kq(t){b2=t}let v2=function(t,e){var n=t.selectAll("g.edgeLabel").data(e.edges(),function(s){return Pk(s)}).classed("update",!0);n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n=t.selectAll("g.edgeLabel"),n.each(function(s){var o=re(this);o.select(".label").remove();var l=e.edge(s),h=_2(o,e.edge(s),0).classed("label",!0),f=h.node().getBBox();l.labelId&&h.attr("id",l.labelId),En(l,"width")||(l.width=f.width),En(l,"height")||(l.height=f.height)});var i;return n.exit?i=n.exit():i=n.selectAll(null),qs(i,e).style("opacity",0).remove(),n};function wq(t){v2=t}function $k(t,e){return t.intersect(e)}var x2=function(t,e,n){var i=t.selectAll("g.edgePath").data(e.edges(),function(l){return Pk(l)}).classed("update",!0),s=Aq(i,e);Lq(i,e);var o=i.merge!==void 0?i.merge(s):i;return qs(o,e).style("opacity",1),o.each(function(l){var h=re(this),f=e.edge(l);f.elem=this,f.id&&h.attr("id",f.id),Vk(h,f.class,(h.classed("update")?"update ":"")+"edgePath")}),o.selectAll("path.path").each(function(l){var h=e.edge(l);h.arrowheadId=J1("arrowhead");var f=re(this).attr("marker-end",function(){return"url("+Eq(location.href,h.arrowheadId)+")"}).style("fill","none");qs(f,e).attr("d",function(g){return Cq(e,g)}),xa(f,h.style)}),o.selectAll("defs *").remove(),o.selectAll("defs").each(function(l){var h=e.edge(l),f=n[h.arrowhead];f(re(this),h.arrowheadId,h,"arrowhead")}),o};function Tq(t){x2=t}function Eq(t,e){var n=t.split("#")[0];return n+"#"+e}function Cq(t,e){var n=t.edge(e),i=t.node(e.v),s=t.node(e.w),o=n.points.slice(1,n.points.length-1);return o.unshift($k(i,o[0])),o.push($k(s,o[o.length-1])),Yk(n,o)}function Yk(t,e){var n=(Dc||OL.line)().x(function(i){return i.x}).y(function(i){return i.y});return(n.curve||n.interpolate)(t.curve),n(e)}function Sq(t){var e=t.getBBox(),n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:n.e,y:n.f}}function Aq(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",function(i){var s=e.edge(i),o=e.node(i.v).elem,l=Rl(s.points.length).map(function(){return Sq(o)});return Yk(s,l)}),n.append("defs"),n}function Lq(t,e){var n=t.exit();qs(n,e).style("opacity",0).remove()}var k2=function(t,e,n){var i=e.nodes().filter(function(l){return!Fk(e,l)}),s=t.selectAll("g.node").data(i,function(l){return l}).classed("update",!0);s.exit().remove(),s.enter().append("g").attr("class","node").style("opacity",0),s=t.selectAll("g.node"),s.each(function(l){var h=e.node(l),f=re(this);Vk(f,h.class,(f.classed("update")?"update ":"")+"node"),f.select("g.label").remove();var g=f.append("g").attr("class","label"),y=_2(g,h),b=n[h.shape],x=Ph(y.node().getBBox(),"width","height");h.elem=this,h.id&&f.attr("id",h.id),h.labelId&&g.attr("id",h.labelId),En(h,"width")&&(x.width=h.width),En(h,"height")&&(x.height=h.height),x.width+=h.paddingLeft+h.paddingRight,x.height+=h.paddingTop+h.paddingBottom,g.attr("transform","translate("+(h.paddingLeft-h.paddingRight)/2+","+(h.paddingTop-h.paddingBottom)/2+")");var k=re(this);k.select(".label-container").remove();var O=b(k,x,h).classed("label-container",!0);xa(O,h.style);var I=O.node().getBBox();h.width=I.width,h.height=I.height});var o;return s.exit?o=s.exit():o=s.selectAll(null),qs(o,e).style("opacity",0).remove(),s};function Oq(t){k2=t}function Mq(t,e){var n=t.filter(function(){return!re(this).classed("update")});function i(s){var o=e.node(s);return"translate("+o.x+","+o.y+")"}n.attr("transform",i),qs(t,e).style("opacity",1).attr("transform",i),qs(n.selectAll("rect"),e).attr("width",function(s){return e.node(s).width}).attr("height",function(s){return e.node(s).height}).attr("x",function(s){var o=e.node(s);return-o.width/2}).attr("y",function(s){var o=e.node(s);return-o.height/2})}function Nq(t,e){var n=t.filter(function(){return!re(this).classed("update")});function i(s){var o=e.edge(s);return En(o,"x")?"translate("+o.x+","+o.y+")":""}n.attr("transform",i),qs(t,e).style("opacity",1).attr("transform",i)}function Dq(t,e){var n=t.filter(function(){return!re(this).classed("update")});function i(s){var o=e.node(s);return"translate("+o.x+","+o.y+")"}n.attr("transform",i),qs(t,e).style("opacity",1).attr("transform",i)}function Uk(t,e,n,i){var s=t.x,o=t.y,l=s-i.x,h=o-i.y,f=Math.sqrt(e*e*h*h+n*n*l*l),g=Math.abs(e*n*l/f);i.x<s&&(g=-g);var y=Math.abs(e*n*h/f);return i.y<o&&(y=-y),{x:s+g,y:o+y}}function Iq(t,e,n){return Uk(t,e,e,n)}function Rq(t,e,n,i){var s,o,l,h,f,g,y,b,x,k,O,I,R,Y,V;if(s=e.y-t.y,l=t.x-e.x,f=e.x*t.y-t.x*e.y,x=s*n.x+l*n.y+f,k=s*i.x+l*i.y+f,!(x!==0&&k!==0&&zk(x,k))&&(o=i.y-n.y,h=n.x-i.x,g=i.x*n.y-n.x*i.y,y=o*t.x+h*t.y+g,b=o*e.x+h*e.y+g,!(y!==0&&b!==0&&zk(y,b))&&(O=s*h-o*l,O!==0)))return I=Math.abs(O/2),R=l*g-h*f,Y=R<0?(R-I)/O:(R+I)/O,R=o*f-s*g,V=R<0?(R-I)/O:(R+I)/O,{x:Y,y:V}}function zk(t,e){return t*e>0}function ka(t,e,n){var i=t.x,s=t.y,o=[],l=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;e.forEach(function(O){l=Math.min(l,O.x),h=Math.min(h,O.y)});for(var f=i-t.width/2-l,g=s-t.height/2-h,y=0;y<e.length;y++){var b=e[y],x=e[y<e.length-1?y+1:0],k=Rq(t,n,{x:f+b.x,y:g+b.y},{x:f+x.x,y:g+x.y});k&&o.push(k)}return o.length?(o.length>1&&o.sort(function(O,I){var R=O.x-n.x,Y=O.y-n.y,V=Math.sqrt(R*R+Y*Y),X=I.x-n.x,J=I.y-n.y,st=Math.sqrt(X*X+J*J);return V<st?-1:V===st?0:1}),o[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}function w2(t,e){var n=t.x,i=t.y,s=e.x-n,o=e.y-i,l=t.width/2,h=t.height/2,f,g;return Math.abs(o)*l>Math.abs(s)*h?(o<0&&(h=-h),f=o===0?0:h*s/o,g=h):(s<0&&(l=-l),f=l,g=s===0?0:l*o/s),{x:n+f,y:i+g}}var T2={rect:Fq,ellipse:Pq,circle:Vq,diamond:$q};function Bq(t){T2=t}function Fq(t,e,n){var i=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(s){return w2(n,s)},i}function Pq(t,e,n){var i=e.width/2,s=e.height/2,o=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",i).attr("ry",s);return n.intersect=function(l){return Uk(n,i,s,l)},o}function Vq(t,e,n){var i=Math.max(e.width,e.height)/2,s=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",i);return n.intersect=function(o){return Iq(n,i,o)},s}function $q(t,e,n){var i=e.width*Math.SQRT2/2,s=e.height*Math.SQRT2/2,o=[{x:0,y:-s},{x:-i,y:0},{x:0,y:s},{x:i,y:0}],l=t.insert("polygon",":first-child").attr("points",o.map(function(h){return h.x+","+h.y}).join(" "));return n.intersect=function(h){return ka(n,o,h)},l}function Yq(){var t=function(e,n){Hq(n);var i=Xh(e,"output"),s=Xh(i,"clusters"),o=Xh(i,"edgePaths"),l=v2(Xh(i,"edgeLabels"),n),h=k2(Xh(i,"nodes"),n,T2);su(n),Dq(h,n),Nq(l,n),x2(o,n,m2);var f=b2(s,n);Mq(f,n),Wq(n)};return t.createNodes=function(e){return arguments.length?(Oq(e),t):k2},t.createClusters=function(e){return arguments.length?(kq(e),t):b2},t.createEdgeLabels=function(e){return arguments.length?(wq(e),t):v2},t.createEdgePaths=function(e){return arguments.length?(Tq(e),t):x2},t.shapes=function(e){return arguments.length?(Bq(e),t):T2},t.arrows=function(e){return arguments.length?(gq(e),t):m2},t}var Uq={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},zq={arrowhead:"normal",curve:Ji};function Hq(t){t.nodes().forEach(function(e){var n=t.node(e);!En(n,"label")&&!t.children(e).length&&(n.label=e),En(n,"paddingX")&&nu(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),En(n,"paddingY")&&nu(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),En(n,"padding")&&nu(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),nu(n,Uq),jt(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(i){n[i]=Number(n[i])}),En(n,"width")&&(n._prevWidth=n.width),En(n,"height")&&(n._prevHeight=n.height)}),t.edges().forEach(function(e){var n=t.edge(e);En(n,"label")||(n.label=""),nu(n,zq)})}function Wq(t){jt(t.nodes(),function(e){var n=t.node(e);En(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,En(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}function Xh(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}function Hk(t,e,n){const i=e.width,s=e.height,o=(i+s)*.9,l=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}],h=so(t,o,o,l);return n.intersect=function(f){return ka(n,l,f)},h}function Wk(t,e,n){const s=e.height,o=s/4,l=e.width+2*o,h=[{x:o,y:0},{x:l-o,y:0},{x:l,y:-s/2},{x:l-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}],f=so(t,l,s,h);return n.intersect=function(g){return ka(n,h,g)},f}function jk(t,e,n){const i=e.width,s=e.height,o=[{x:-s/2,y:0},{x:i,y:0},{x:i,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}],l=so(t,i,s,o);return n.intersect=function(h){return ka(n,o,h)},l}function qk(t,e,n){const i=e.width,s=e.height,o=[{x:-2*s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:s/6,y:-s}],l=so(t,i,s,o);return n.intersect=function(h){return ka(n,o,h)},l}function Gk(t,e,n){const i=e.width,s=e.height,o=[{x:2*s/6,y:0},{x:i+s/6,y:0},{x:i-2*s/6,y:-s},{x:-s/6,y:-s}],l=so(t,i,s,o);return n.intersect=function(h){return ka(n,o,h)},l}function Xk(t,e,n){const i=e.width,s=e.height,o=[{x:-2*s/6,y:0},{x:i+2*s/6,y:0},{x:i-s/6,y:-s},{x:s/6,y:-s}],l=so(t,i,s,o);return n.intersect=function(h){return ka(n,o,h)},l}function Kk(t,e,n){const i=e.width,s=e.height,o=[{x:s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:-2*s/6,y:-s}],l=so(t,i,s,o);return n.intersect=function(h){return ka(n,o,h)},l}function Zk(t,e,n){const i=e.width,s=e.height,o=[{x:0,y:0},{x:i+s/2,y:0},{x:i,y:-s/2},{x:i+s/2,y:-s},{x:0,y:-s}],l=so(t,i,s,o);return n.intersect=function(h){return ka(n,o,h)},l}function Qk(t,e,n){const i=e.height,s=e.width+i/4,o=t.insert("rect",":first-child").attr("rx",i/2).attr("ry",i/2).attr("x",-s/2).attr("y",-i/2).attr("width",s).attr("height",i);return n.intersect=function(l){return w2(n,l)},o}function Jk(t,e,n){const i=e.width,s=e.height,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],l=so(t,i,s,o);return n.intersect=function(h){return ka(n,o,h)},l}function tw(t,e,n){const i=e.width,s=i/2,o=s/(2.5+i/50),l=e.height+o,h="M 0,"+o+" a "+s+","+o+" 0,0,0 "+i+" 0 a "+s+","+o+" 0,0,0 "+-i+" 0 l 0,"+l+" a "+s+","+o+" 0,0,0 "+i+" 0 l 0,"+-l,f=t.attr("label-offset-y",o).insert("path",":first-child").attr("d",h).attr("transform","translate("+-i/2+","+-(l/2+o)+")");return n.intersect=function(g){const y=w2(n,g),b=y.x-n.x;if(s!=0&&(Math.abs(b)<n.width/2||Math.abs(b)==n.width/2&&Math.abs(y.y-n.y)>n.height/2-o)){let x=o*o*(1-b*b/(s*s));x!=0&&(x=Math.sqrt(x)),x=o-x,g.y-n.y>0&&(x=-x),y.y+=x}return y},f}function jq(t){t.shapes().question=Hk,t.shapes().hexagon=Wk,t.shapes().stadium=Qk,t.shapes().subroutine=Jk,t.shapes().cylinder=tw,t.shapes().rect_left_inv_arrow=jk,t.shapes().lean_right=qk,t.shapes().lean_left=Gk,t.shapes().trapezoid=Xk,t.shapes().inv_trapezoid=Kk,t.shapes().rect_right_inv_arrow=Zk}function qq(t){t({question:Hk}),t({hexagon:Wk}),t({stadium:Qk}),t({subroutine:Jk}),t({cylinder:tw}),t({rect_left_inv_arrow:jk}),t({lean_right:qk}),t({lean_left:Gk}),t({trapezoid:Xk}),t({inv_trapezoid:Kk}),t({rect_right_inv_arrow:Zk})}function so(t,e,n,i){return t.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("transform","translate("+-e/2+","+n/2+")")}const Gq={addToRender:jq,addToRenderV2:qq},ew={},Xq=function(t){const e=Object.keys(t);for(const n of e)ew[n]=t[n]},nw=function(t,e,n,i,s,o){const l=i?i.select(`[id="${n}"]`):re(`[id="${n}"]`),h=s||document;Object.keys(t).forEach(function(g){const y=t[g];let b="default";y.classes.length>0&&(b=y.classes.join(" "));const x=Io(y.styles);let k=y.text!==void 0?y.text:y.id,O;if(oi(ht().flowchart.htmlLabels)){const Y={label:k.replace(/fa[blrs]?:fa-[\w-]+/g,V=>`<i class='${V.replace(":"," ")}'></i>`)};O=y2(l,Y).node(),O.parentNode.removeChild(O)}else{const Y=h.createElementNS("http://www.w3.org/2000/svg","text");Y.setAttribute("style",x.labelStyle.replace("color:","fill:"));const V=k.split(gn.lineBreakRegex);for(const X of V){const J=h.createElementNS("http://www.w3.org/2000/svg","tspan");J.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),J.setAttribute("dy","1em"),J.setAttribute("x","1"),J.textContent=X,Y.appendChild(J)}O=Y}let I=0,R="";switch(y.type){case"round":I=5,R="rect";break;case"square":R="rect";break;case"diamond":R="question";break;case"hexagon":R="hexagon";break;case"odd":R="rect_left_inv_arrow";break;case"lean_right":R="lean_right";break;case"lean_left":R="lean_left";break;case"trapezoid":R="trapezoid";break;case"inv_trapezoid":R="inv_trapezoid";break;case"odd_right":R="rect_left_inv_arrow";break;case"circle":R="circle";break;case"ellipse":R="ellipse";break;case"stadium":R="stadium";break;case"subroutine":R="subroutine";break;case"cylinder":R="cylinder";break;case"group":R="rect";break;default:R="rect"}E.warn("Adding node",y.id,y.domId),e.setNode(o.db.lookUpDomId(y.id),{labelType:"svg",labelStyle:x.labelStyle,shape:R,label:O,rx:I,ry:I,class:b,style:x.style,id:o.db.lookUpDomId(y.id)})})},rw=function(t,e,n){let i=0,s,o;if(t.defaultStyle!==void 0){const l=Io(t.defaultStyle);s=l.style,o=l.labelStyle}t.forEach(function(l){i++;var h="L-"+l.start+"-"+l.end,f="LS-"+l.start,g="LE-"+l.end;const y={};l.type==="arrow_open"?y.arrowhead="none":y.arrowhead="normal";let b="",x="";if(l.style!==void 0){const k=Io(l.style);b=k.style,x=k.labelStyle}else switch(l.stroke){case"normal":b="fill:none",s!==void 0&&(b=s),o!==void 0&&(x=o);break;case"dotted":b="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":b=" stroke-width: 3.5px;fill:none";break}y.style=b,y.labelStyle=x,l.interpolate!==void 0?y.curve=Rs(l.interpolate,Ji):t.defaultInterpolate!==void 0?y.curve=Rs(t.defaultInterpolate,Ji):y.curve=Rs(ew.curve,Ji),l.text===void 0?l.style!==void 0&&(y.arrowheadStyle="fill: #333"):(y.arrowheadStyle="fill: #333",y.labelpos="c",oi(ht().flowchart.htmlLabels)?(y.labelType="html",y.label=`<span id="L-${h}" class="edgeLabel L-${f}' L-${g}" style="${y.labelStyle}">${l.text.replace(/fa[blrs]?:fa-[\w-]+/g,k=>`<i class='${k.replace(":"," ")}'></i>`)}</span>`):(y.labelType="text",y.label=l.text.replace(gn.lineBreakRegex,`
`),l.style===void 0&&(y.style=y.style||"stroke: #333; stroke-width: 1.5px;fill:none"),y.labelStyle=y.labelStyle.replace("color:","fill:"))),y.id=h,y.class=f+" "+g,y.minlen=l.length||1,e.setEdge(n.db.lookUpDomId(l.start),n.db.lookUpDomId(l.end),y,i)})},Kq={setConf:Xq,addVertices:nw,addEdges:rw,getClasses:function(t,e){E.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(n){return E.error(n),{}}},draw:function(t,e,n,i){E.info("Drawing flowchart"),i.db.clear();const{securityLevel:s,flowchart:o}=ht();let l;s==="sandbox"&&(l=re("#i"+e));const h=re(s==="sandbox"?l.nodes()[0].contentDocument.body:"body"),f=s==="sandbox"?l.nodes()[0].contentDocument:document;try{i.parser.parse(t)}catch{E.debug("Parsing failed")}let g=i.db.getDirection();g===void 0&&(g="TD");const y=o.nodeSpacing||50,b=o.rankSpacing||50,x=new jr({multigraph:!0,compound:!0}).setGraph({rankdir:g,nodesep:y,ranksep:b,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let k;const O=i.db.getSubGraphs();for(let lt=O.length-1;lt>=0;lt--)k=O[lt],i.db.addVertex(k.id,k.title,"group",void 0,k.classes);const I=i.db.getVertices();E.warn("Get vertices",I);const R=i.db.getEdges();let Y=0;for(Y=O.length-1;Y>=0;Y--){k=O[Y],Jp("cluster").append("text");for(let lt=0;lt<k.nodes.length;lt++)E.warn("Setting subgraph",k.nodes[lt],i.db.lookUpDomId(k.nodes[lt]),i.db.lookUpDomId(k.id)),x.setParent(i.db.lookUpDomId(k.nodes[lt]),i.db.lookUpDomId(k.id))}nw(I,x,e,h,f,i),rw(R,x,i);const V=new Yq;Gq.addToRender(V),V.arrows().none=function(tt,at,q,z){const N=tt.append("marker").attr("id",at).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");xa(N,q[z+"Style"])},V.arrows().normal=function(tt,at){tt.append("marker").attr("id",at).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const X=h.select(`[id="${e}"]`),J=h.select("#"+e+" g");for(V(J,x),J.selectAll("g.node").attr("title",function(){return i.db.getTooltip(this.id)}),i.db.indexNodes("subGraph"+Y),Y=0;Y<O.length;Y++)if(k=O[Y],k.title!=="undefined"){const lt=f.querySelectorAll("#"+e+' [id="'+i.db.lookUpDomId(k.id)+'"] rect'),tt=f.querySelectorAll("#"+e+' [id="'+i.db.lookUpDomId(k.id)+'"]'),at=lt[0].x.baseVal.value,q=lt[0].y.baseVal.value,z=lt[0].width.baseVal.value,N=re(tt[0]).select(".label");N.attr("transform",`translate(${at+z/2}, ${q+14})`),N.attr("id",e+"Text");for(let j=0;j<k.classes.length;j++)tt[0].classList.add(k.classes[j])}if(!o.htmlLabels){const lt=f.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const tt of lt){const at=tt.getBBox(),q=f.createElementNS("http://www.w3.org/2000/svg","rect");q.setAttribute("rx",0),q.setAttribute("ry",0),q.setAttribute("width",at.width),q.setAttribute("height",at.height),tt.insertBefore(q,tt.firstChild)}}b1(x,X,o.diagramPadding,o.useMaxWidth),Object.keys(I).forEach(function(lt){const tt=I[lt];if(tt.link){const at=h.select("#"+e+' [id="'+i.db.lookUpDomId(lt)+'"]');if(at){const q=f.createElementNS("http://www.w3.org/2000/svg","a");q.setAttributeNS("http://www.w3.org/2000/svg","class",tt.classes.join(" ")),q.setAttributeNS("http://www.w3.org/2000/svg","href",tt.link),q.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),s==="sandbox"?q.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):tt.linkTarget&&q.setAttributeNS("http://www.w3.org/2000/svg","target",tt.linkTarget);const z=at.insert(function(){return q},":first-child"),$=at.select(".label-container");$&&z.append(function(){return $.node()});const N=at.select(".label");N&&z.append(function(){return N.node()})}}})}},iw={},Zq=function(t){const e=Object.keys(t);for(const n of e)iw[n]=t[n]},sw=function(t,e,n,i,s,o){const l=i.select(`[id="${n}"]`);Object.keys(t).forEach(function(f){const g=t[f];let y="default";g.classes.length>0&&(y=g.classes.join(" "));const b=Io(g.styles);let x=g.text!==void 0?g.text:g.id,k;if(oi(ht().flowchart.htmlLabels)){const R={label:x.replace(/fa[blrs]?:fa-[\w-]+/g,Y=>`<i class='${Y.replace(":"," ")}'></i>`)};k=y2(l,R).node(),k.parentNode.removeChild(k)}else{const R=s.createElementNS("http://www.w3.org/2000/svg","text");R.setAttribute("style",b.labelStyle.replace("color:","fill:"));const Y=x.split(gn.lineBreakRegex);for(const V of Y){const X=s.createElementNS("http://www.w3.org/2000/svg","tspan");X.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),X.setAttribute("dy","1em"),X.setAttribute("x","1"),X.textContent=V,R.appendChild(X)}k=R}let O=0,I="";switch(g.type){case"round":O=5,I="rect";break;case"square":I="rect";break;case"diamond":I="question";break;case"hexagon":I="hexagon";break;case"odd":I="rect_left_inv_arrow";break;case"lean_right":I="lean_right";break;case"lean_left":I="lean_left";break;case"trapezoid":I="trapezoid";break;case"inv_trapezoid":I="inv_trapezoid";break;case"odd_right":I="rect_left_inv_arrow";break;case"circle":I="circle";break;case"ellipse":I="ellipse";break;case"stadium":I="stadium";break;case"subroutine":I="subroutine";break;case"cylinder":I="cylinder";break;case"group":I="rect";break;case"doublecircle":I="doublecircle";break;default:I="rect"}e.setNode(g.id,{labelStyle:b.labelStyle,shape:I,labelText:x,rx:O,ry:O,class:y,style:b.style,id:g.id,link:g.link,linkTarget:g.linkTarget,tooltip:o.db.getTooltip(g.id)||"",domId:o.db.lookUpDomId(g.id),haveCallback:g.haveCallback,width:g.type==="group"?500:void 0,dir:g.dir,type:g.type,props:g.props,padding:ht().flowchart.padding}),E.info("setNode",{labelStyle:b.labelStyle,shape:I,labelText:x,rx:O,ry:O,class:y,style:b.style,id:g.id,domId:o.db.lookUpDomId(g.id),width:g.type==="group"?500:void 0,type:g.type,dir:g.dir,props:g.props,padding:ht().flowchart.padding})})},aw=function(t,e,n){E.info("abc78 edges = ",t);let i=0,s={},o,l;if(t.defaultStyle!==void 0){const h=Io(t.defaultStyle);o=h.style,l=h.labelStyle}t.forEach(function(h){i++;var f="L-"+h.start+"-"+h.end;s[f]===void 0?(s[f]=0,E.info("abc78 new entry",f,s[f])):(s[f]++,E.info("abc78 new entry",f,s[f]));let g=f+"-"+s[f];E.info("abc78 new link id to be used is",f,g,s[f]);var y="LS-"+h.start,b="LE-"+h.end;const x={style:"",labelStyle:""};switch(x.minlen=h.length||1,h.type==="arrow_open"?x.arrowhead="none":x.arrowhead="normal",x.arrowTypeStart="arrow_open",x.arrowTypeEnd="arrow_open",h.type){case"double_arrow_cross":x.arrowTypeStart="arrow_cross";case"arrow_cross":x.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":x.arrowTypeStart="arrow_point";case"arrow_point":x.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":x.arrowTypeStart="arrow_circle";case"arrow_circle":x.arrowTypeEnd="arrow_circle";break}let k="",O="";switch(h.stroke){case"normal":k="fill:none;",o!==void 0&&(k=o),l!==void 0&&(O=l),x.thickness="normal",x.pattern="solid";break;case"dotted":x.thickness="normal",x.pattern="dotted",x.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":x.thickness="thick",x.pattern="solid",x.style="stroke-width: 3.5px;fill:none;";break}if(h.style!==void 0){const I=Io(h.style);k=I.style,O=I.labelStyle}x.style=x.style+=k,x.labelStyle=x.labelStyle+=O,h.interpolate!==void 0?x.curve=Rs(h.interpolate,Ji):t.defaultInterpolate!==void 0?x.curve=Rs(t.defaultInterpolate,Ji):x.curve=Rs(iw.curve,Ji),h.text===void 0?h.style!==void 0&&(x.arrowheadStyle="fill: #333"):(x.arrowheadStyle="fill: #333",x.labelpos="c"),x.labelType="text",x.label=h.text.replace(gn.lineBreakRegex,`
`),h.style===void 0&&(x.style=x.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),x.labelStyle=x.labelStyle.replace("color:","fill:"),x.id=g,x.classes="flowchart-link "+y+" "+b,e.setEdge(h.start,h.end,x,i)})},E2={setConf:Zq,addVertices:sw,addEdges:aw,getClasses:function(t,e){E.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch{return}},draw:function(t,e,n,i){E.info("Drawing flowchart"),i.db.clear(),io.setGen("gen-2"),i.parser.parse(t);let s=i.db.getDirection();s===void 0&&(s="TD");const{securityLevel:o,flowchart:l}=ht(),h=l.nodeSpacing||50,f=l.rankSpacing||50;let g;o==="sandbox"&&(g=re("#i"+e));const y=re(o==="sandbox"?g.nodes()[0].contentDocument.body:"body"),b=o==="sandbox"?g.nodes()[0].contentDocument:document,x=new jr({multigraph:!0,compound:!0}).setGraph({rankdir:s,nodesep:h,ranksep:f,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let k;const O=i.db.getSubGraphs();E.info("Subgraphs - ",O);for(let st=O.length-1;st>=0;st--)k=O[st],E.info("Subgraph - ",k),i.db.addVertex(k.id,k.title,"group",void 0,k.classes,k.dir);const I=i.db.getVertices(),R=i.db.getEdges();E.info(R);let Y=0;for(Y=O.length-1;Y>=0;Y--){k=O[Y],Jp("cluster").append("text");for(let st=0;st<k.nodes.length;st++)E.info("Setting up subgraphs",k.nodes[st],k.id),x.setParent(k.nodes[st],k.id)}sw(I,x,e,y,b,i),aw(R,x);const V=y.select(`[id="${e}"]`),X=y.select("#"+e+" g");if(o2(X,x,["point","circle","cross"],"flowchart",e),kn.insertTitle(V,"flowchartTitleText",l.titleTopMargin,i.db.getDiagramTitle()),b1(x,V,l.diagramPadding,l.useMaxWidth),i.db.indexNodes("subGraph"+Y),!l.htmlLabels){const st=b.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const lt of st){const tt=lt.getBBox(),at=b.createElementNS("http://www.w3.org/2000/svg","rect");at.setAttribute("rx",0),at.setAttribute("ry",0),at.setAttribute("width",tt.width),at.setAttribute("height",tt.height),lt.insertBefore(at,lt.firstChild)}}Object.keys(I).forEach(function(st){const lt=I[st];if(lt.link){const tt=re("#"+e+' [id="'+st+'"]');if(tt){const at=b.createElementNS("http://www.w3.org/2000/svg","a");at.setAttributeNS("http://www.w3.org/2000/svg","class",lt.classes.join(" ")),at.setAttributeNS("http://www.w3.org/2000/svg","href",lt.link),at.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),o==="sandbox"?at.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):lt.linkTarget&&at.setAttributeNS("http://www.w3.org/2000/svg","target",lt.linkTarget);const q=tt.insert(function(){return at},":first-child"),z=tt.select(".label-container");z&&q.append(function(){return z.node()});const $=tt.select(".label");$&&q.append(function(){return $.node()})}}})}};var C2=function(){var t=function(at,q,z,$){for(z=z||{},$=at.length;$--;z[at[$]]=q);return z},e=[1,3],n=[1,5],i=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],s=[1,15],o=[1,16],l=[1,17],h=[1,18],f=[1,19],g=[1,20],y=[1,21],b=[1,22],x=[1,23],k=[1,24],O=[1,25],I=[1,26],R=[1,27],Y=[1,29],V=[1,31],X=[1,34],J=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],st={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(q,z,$,N,j,A,gt){var L=A.length-1;switch(j){case 2:return A[L-1];case 3:this.$=[];break;case 4:A[L-1].push(A[L]),this.$=A[L-1];break;case 5:case 6:this.$=A[L];break;case 7:case 8:this.$=[];break;case 9:N.setDateFormat(A[L].substr(11)),this.$=A[L].substr(11);break;case 10:N.enableInclusiveEndDates(),this.$=A[L].substr(18);break;case 11:N.TopAxis(),this.$=A[L].substr(8);break;case 12:N.setAxisFormat(A[L].substr(11)),this.$=A[L].substr(11);break;case 13:N.setTickInterval(A[L].substr(13)),this.$=A[L].substr(13);break;case 14:N.setExcludes(A[L].substr(9)),this.$=A[L].substr(9);break;case 15:N.setIncludes(A[L].substr(9)),this.$=A[L].substr(9);break;case 16:N.setTodayMarker(A[L].substr(12)),this.$=A[L].substr(12);break;case 17:N.setDiagramTitle(A[L].substr(6)),this.$=A[L].substr(6);break;case 18:this.$=A[L].trim(),N.setAccTitle(this.$);break;case 19:case 20:this.$=A[L].trim(),N.setAccDescription(this.$);break;case 21:N.addSection(A[L].substr(8)),this.$=A[L].substr(8);break;case 23:N.addTask(A[L-1],A[L]),this.$="task";break;case 27:this.$=A[L-1],N.setClickEvent(A[L-1],A[L],null);break;case 28:this.$=A[L-2],N.setClickEvent(A[L-2],A[L-1],A[L]);break;case 29:this.$=A[L-2],N.setClickEvent(A[L-2],A[L-1],null),N.setLink(A[L-2],A[L]);break;case 30:this.$=A[L-3],N.setClickEvent(A[L-3],A[L-2],A[L-1]),N.setLink(A[L-3],A[L]);break;case 31:this.$=A[L-2],N.setClickEvent(A[L-2],A[L],null),N.setLink(A[L-2],A[L-1]);break;case 32:this.$=A[L-3],N.setClickEvent(A[L-3],A[L-1],A[L]),N.setLink(A[L-3],A[L-2]);break;case 33:this.$=A[L-1],N.setLink(A[L-1],A[L]);break;case 34:case 40:this.$=A[L-1]+" "+A[L];break;case 35:case 36:case 38:this.$=A[L-2]+" "+A[L-1]+" "+A[L];break;case 37:case 39:this.$=A[L-3]+" "+A[L-2]+" "+A[L-1]+" "+A[L];break;case 41:N.parseDirective("%%{","open_directive");break;case 42:N.parseDirective(A[L],"type_directive");break;case 43:A[L]=A[L].trim().replace(/'/g,'"'),N.parseDirective(A[L],"arg_directive");break;case 44:N.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:e,30:4,40:n},{1:[3]},{3:6,4:2,5:e,30:4,40:n},t(i,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:s,13:o,14:l,15:h,16:f,17:g,18:y,19:b,20:x,21:k,23:O,25:I,26:R,27:28,28:Y,30:4,35:V,40:n},{32:32,33:[1,33],43:X},t([33,43],[2,42]),t(i,[2,8],{1:[2,2]}),t(i,[2,4]),{4:30,10:35,12:s,13:o,14:l,15:h,16:f,17:g,18:y,19:b,20:x,21:k,23:O,25:I,26:R,27:28,28:Y,30:4,35:V,40:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,9]),t(i,[2,10]),t(i,[2,11]),t(i,[2,12]),t(i,[2,13]),t(i,[2,14]),t(i,[2,15]),t(i,[2,16]),t(i,[2,17]),{22:[1,36]},{24:[1,37]},t(i,[2,20]),t(i,[2,21]),t(i,[2,22]),{29:[1,38]},t(i,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},t(i,[2,5]),t(i,[2,18]),t(i,[2,19]),t(i,[2,23]),t(i,[2,27],{37:[1,44],38:[1,45]}),t(i,[2,33],{36:[1,46]}),t(J,[2,25]),{32:47,43:X},{43:[2,43]},t(i,[2,28],{38:[1,48]}),t(i,[2,29]),t(i,[2,31],{37:[1,49]}),{11:[1,50]},t(i,[2,30]),t(i,[2,32]),t(J,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(q,z){if(z.recoverable)this.trace(q);else{var $=new Error(q);throw $.hash=z,$}},parse:function(q){var z=this,$=[0],N=[],j=[null],A=[],gt=this.table,L="",Dt=0,ue=0,qt=2,ut=1,Ct=A.slice.call(arguments,1),vt=Object.create(this.lexer),xt={yy:{}};for(var Ot in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ot)&&(xt.yy[Ot]=this.yy[Ot]);vt.setInput(q,xt.yy),xt.yy.lexer=vt,xt.yy.parser=this,typeof vt.yylloc=="undefined"&&(vt.yylloc={});var Ht=vt.yylloc;A.push(Ht);var ft=vt.options&&vt.options.ranges;typeof xt.yy.parseError=="function"?this.parseError=xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _e(){var Ae;return Ae=N.pop()||vt.lex()||ut,typeof Ae!="number"&&(Ae instanceof Array&&(N=Ae,Ae=N.pop()),Ae=z.symbols_[Ae]||Ae),Ae}for(var et,it,dt,Q,G={},U,yt,B,It;;){if(it=$[$.length-1],this.defaultActions[it]?dt=this.defaultActions[it]:((et===null||typeof et=="undefined")&&(et=_e()),dt=gt[it]&&gt[it][et]),typeof dt=="undefined"||!dt.length||!dt[0]){var rt="";It=[];for(U in gt[it])this.terminals_[U]&&U>qt&&It.push("'"+this.terminals_[U]+"'");vt.showPosition?rt="Parse error on line "+(Dt+1)+`:
`+vt.showPosition()+`
Expecting `+It.join(", ")+", got '"+(this.terminals_[et]||et)+"'":rt="Parse error on line "+(Dt+1)+": Unexpected "+(et==ut?"end of input":"'"+(this.terminals_[et]||et)+"'"),this.parseError(rt,{text:vt.match,token:this.terminals_[et]||et,line:vt.yylineno,loc:Ht,expected:It})}if(dt[0]instanceof Array&&dt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+it+", token: "+et);switch(dt[0]){case 1:$.push(et),j.push(vt.yytext),A.push(vt.yylloc),$.push(dt[1]),et=null,ue=vt.yyleng,L=vt.yytext,Dt=vt.yylineno,Ht=vt.yylloc;break;case 2:if(yt=this.productions_[dt[1]][1],G.$=j[j.length-yt],G._$={first_line:A[A.length-(yt||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(yt||1)].first_column,last_column:A[A.length-1].last_column},ft&&(G._$.range=[A[A.length-(yt||1)].range[0],A[A.length-1].range[1]]),Q=this.performAction.apply(G,[L,ue,Dt,xt.yy,dt[1],j,A].concat(Ct)),typeof Q!="undefined")return Q;yt&&($=$.slice(0,-1*yt*2),j=j.slice(0,-1*yt),A=A.slice(0,-1*yt)),$.push(this.productions_[dt[1]][0]),j.push(G.$),A.push(G._$),B=gt[$[$.length-2]][$[$.length-1]],$.push(B);break;case 3:return!0}}return!0}},lt=function(){var at={EOF:1,parseError:function(z,$){if(this.yy.parser)this.yy.parser.parseError(z,$);else throw new Error(z)},setInput:function(q,z){return this.yy=z||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var z=q.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},unput:function(q){var z=q.length,$=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var N=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var j=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===N.length?this.yylloc.first_column:0)+N[N.length-$.length].length-$[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[j[0],j[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(q){this.unput(this.match.slice(q))},pastInput:function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var q=this.pastInput(),z=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+z+"^"},test_match:function(q,z){var $,N,j;if(this.options.backtrack_lexer&&(j={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(j.yylloc.range=this.yylloc.range.slice(0))),N=q[0].match(/(?:\r\n?|\n).*/g),N&&(this.yylineno+=N.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N?N[N.length-1].length-N[N.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],$=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var A in j)this[A]=j[A];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,z,$,N;this._more||(this.yytext="",this.match="");for(var j=this._currentRules(),A=0;A<j.length;A++)if($=this._input.match(this.rules[j[A]]),$&&(!z||$[0].length>z[0].length)){if(z=$,N=A,this.options.backtrack_lexer){if(q=this.test_match($,j[A]),q!==!1)return q;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(q=this.test_match(z,j[N]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var z=this.next();return z||this.lex()},begin:function(z){this.conditionStack.push(z)},popState:function(){var z=this.conditionStack.length-1;return z>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(z){return z=this.conditionStack.length-1-Math.abs(z||0),z>=0?this.conditionStack[z]:"INITIAL"},pushState:function(z){this.begin(z)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(z,$,N,j){switch(N){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return at}();st.lexer=lt;function tt(){this.yy={}}return tt.prototype=st,st.Parser=tt,new tt}();C2.parser=C2;const Qq=C2,Jq=t=>t.match(/^\s*gantt/)!==null;let wa="",S2="",A2,L2="",Kh=[],Zh=[],O2={},M2=[],g0=[],lu="";const ow=["active","done","crit","milestone"];let N2=[],Qh=!1,D2=!1,I2=0;const tG=function(t,e,n){Tr.parseDirective(this,t,e,n)},eG=function(){M2=[],g0=[],lu="",N2=[],m0=0,B2=void 0,y0=void 0,ti=[],wa="",S2="",A2=void 0,L2="",Kh=[],Zh=[],Qh=!1,D2=!1,I2=0,O2={},Ps()},nG=function(t){S2=t},rG=function(){return S2},iG=function(t){A2=t},sG=function(){return A2},aG=function(t){L2=t},oG=function(){return L2},lG=function(t){wa=t},cG=function(){Qh=!0},uG=function(){return Qh},hG=function(){D2=!0},dG=function(){return D2},fG=function(){return wa},pG=function(t){Kh=t.toLowerCase().split(/[\s,]+/)},gG=function(){return Kh},mG=function(t){Zh=t.toLowerCase().split(/[\s,]+/)},yG=function(){return Zh},_G=function(){return O2},bG=function(t){lu=t,M2.push(t)},vG=function(){return M2},xG=function(){let t=fw();const e=10;let n=0;for(;!t&&n<e;)t=fw(),n++;return g0=ti,g0},lw=function(t,e,n,i){return i.includes(t.format(e.trim()))?!1:t.isoWeekday()>=6&&n.includes("weekends")||n.includes(t.format("dddd").toLowerCase())?!0:n.includes(t.format(e.trim()))},cw=function(t,e,n,i){if(!n.length||t.manualEndTime)return;let s=S(t.startTime,e,!0);s.add(1,"d");let o=S(t.endTime,e,!0),l=kG(s,o,e,n,i);t.endTime=o.toDate(),t.renderEndTime=l},kG=function(t,e,n,i,s){let o=!1,l=null;for(;t<=e;)o||(l=e.toDate()),o=lw(t,n,i,s),o&&e.add(1,"d"),t.add(1,"d");return l},R2=function(t,e,n){n=n.trim();const s=/^after\s+([\d\w- ]+)/.exec(n.trim());if(s!==null){let l=null;if(s[1].split(" ").forEach(function(h){let f=uu(h);f!==void 0&&(l?f.endTime>l.endTime&&(l=f):l=f)}),l)return l.endTime;{const h=new Date;return h.setHours(0,0,0,0),h}}let o=S(n,e.trim(),!0);if(o.isValid())return o.toDate();{E.debug("Invalid date:"+n),E.debug("With date format:"+e.trim());const l=new Date(n);if(l===void 0||isNaN(l.getTime()))throw new Error("Invalid date:"+n);return l}},uw=function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?S.duration(Number.parseFloat(e[1]),e[2]):S.duration.invalid()},hw=function(t,e,n,i=!1){n=n.trim();let s=S(n,e.trim(),!0);if(s.isValid())return i&&s.add(1,"d"),s.toDate();const o=S(t),l=uw(n);return l.isValid()&&o.add(l),o.toDate()};let m0=0;const cu=function(t){return t===void 0?(m0=m0+1,"task"+m0):t},wG=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const i=n.split(","),s={};mw(i,s,ow);for(let l=0;l<i.length;l++)i[l]=i[l].trim();let o="";switch(i.length){case 1:s.id=cu(),s.startTime=t.endTime,o=i[0];break;case 2:s.id=cu(),s.startTime=R2(void 0,wa,i[0]),o=i[1];break;case 3:s.id=cu(i[0]),s.startTime=R2(void 0,wa,i[1]),o=i[2];break}return o&&(s.endTime=hw(s.startTime,wa,o,Qh),s.manualEndTime=S(o,"YYYY-MM-DD",!0).isValid(),cw(s,wa,Zh,Kh)),s},TG=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const i=n.split(","),s={};mw(i,s,ow);for(let o=0;o<i.length;o++)i[o]=i[o].trim();switch(i.length){case 1:s.id=cu(),s.startTime={type:"prevTaskEnd",id:t},s.endTime={data:i[0]};break;case 2:s.id=cu(),s.startTime={type:"getStartDate",startData:i[0]},s.endTime={data:i[1]};break;case 3:s.id=cu(i[0]),s.startTime={type:"getStartDate",startData:i[1]},s.endTime={data:i[2]};break}return s};let B2,y0,ti=[];const dw={},EG=function(t,e){const n={section:lu,type:lu,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},i=TG(y0,e);n.raw.startTime=i.startTime,n.raw.endTime=i.endTime,n.id=i.id,n.prevTaskId=y0,n.active=i.active,n.done=i.done,n.crit=i.crit,n.milestone=i.milestone,n.order=I2,I2++;const s=ti.push(n);y0=n.id,dw[n.id]=s-1},uu=function(t){const e=dw[t];return ti[e]},CG=function(t,e){const n={section:lu,type:lu,description:t,task:t,classes:[]},i=wG(B2,e);n.startTime=i.startTime,n.endTime=i.endTime,n.id=i.id,n.active=i.active,n.done=i.done,n.crit=i.crit,n.milestone=i.milestone,B2=n,g0.push(n)},fw=function(){const t=function(n){const i=ti[n];let s="";switch(ti[n].raw.startTime.type){case"prevTaskEnd":{const o=uu(i.prevTaskId);i.startTime=o.endTime;break}case"getStartDate":s=R2(void 0,wa,ti[n].raw.startTime.startData),s&&(ti[n].startTime=s);break}return ti[n].startTime&&(ti[n].endTime=hw(ti[n].startTime,wa,ti[n].raw.endTime.data,Qh),ti[n].endTime&&(ti[n].processed=!0,ti[n].manualEndTime=S(ti[n].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),cw(ti[n],wa,Zh,Kh))),ti[n].processed};let e=!0;for(const[n,i]of ti.entries())t(n),e=e&&i.processed;return e},SG=function(t,e){let n=e;ht().securityLevel!=="loose"&&(n=ot(e)),t.split(",").forEach(function(i){uu(i)!==void 0&&(gw(i,()=>{window.open(n,"_self")}),O2[i]=n)}),pw(t,"clickable")},pw=function(t,e){t.split(",").forEach(function(n){let i=uu(n);i!==void 0&&i.classes.push(e)})},AG=function(t,e,n){if(ht().securityLevel!=="loose"||e===void 0)return;let i=[];if(typeof n=="string"){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<i.length;o++){let l=i[o].trim();l.charAt(0)==='"'&&l.charAt(l.length-1)==='"'&&(l=l.substr(1,l.length-2)),i[o]=l}}i.length===0&&i.push(t),uu(t)!==void 0&&gw(t,()=>{kn.runFunc(e,...i)})},gw=function(t,e){N2.push(function(){const n=document.querySelector(`[id="${t}"]`);n!==null&&n.addEventListener("click",function(){e()})},function(){const n=document.querySelector(`[id="${t}-text"]`);n!==null&&n.addEventListener("click",function(){e()})})},F2={parseDirective:tG,getConfig:()=>ht().gantt,clear:eG,setDateFormat:lG,getDateFormat:fG,enableInclusiveEndDates:cG,endDatesAreInclusive:uG,enableTopAxis:hG,topAxisEnabled:dG,setAxisFormat:nG,getAxisFormat:rG,setTickInterval:iG,getTickInterval:sG,setTodayMarker:aG,getTodayMarker:oG,setAccTitle:vs,getAccTitle:Vs,setDiagramTitle:Ga,getDiagramTitle:Xa,setAccDescription:$s,getAccDescription:Ys,addSection:bG,getSections:vG,getTasks:xG,addTask:EG,findTaskById:uu,addTaskOrg:CG,setIncludes:pG,getIncludes:gG,setExcludes:mG,getExcludes:yG,setClickEvent:function(t,e,n){t.split(",").forEach(function(i){AG(i,e,n)}),pw(t,"clickable")},setLink:SG,getLinks:_G,bindFunctions:function(t){N2.forEach(function(e){e(t)})},parseDuration:uw,isInvalidDate:lw};function mw(t,e,n){let i=!0;for(;i;)i=!1,n.forEach(function(s){const o="^\\s*"+s+"\\s*$",l=new RegExp(o);t[0].match(l)&&(e[s]=!0,t.shift(1),i=!0)})}const LG=function(){E.debug("Something is calling, setConf, remove the call")};let ao;const OG={setConf:LG,draw:function(t,e,n,i){const s=ht().gantt,o=ht().securityLevel;let l;o==="sandbox"&&(l=re("#i"+e));const h=re(o==="sandbox"?l.nodes()[0].contentDocument.body:"body"),f=o==="sandbox"?l.nodes()[0].contentDocument:document,g=f.getElementById(e);ao=g.parentElement.offsetWidth,ao===void 0&&(ao=1200),s.useWidth!==void 0&&(ao=s.useWidth);const y=i.db.getTasks(),b=y.length*(s.barHeight+s.barGap)+2*s.topPadding;g.setAttribute("viewBox","0 0 "+ao+" "+b);const x=h.select(`[id="${e}"]`),k=gM().domain([Te(y,function(z){return z.startTime}),De(y,function(z){return z.endTime})]).rangeRound([0,ao-s.leftPadding-s.rightPadding]);let O=[];for(const z of y)O.push(z.type);const I=O;O=tt(O);function R(z,$){const N=z.startTime,j=$.startTime;let A=0;return N>j?A=1:N<j&&(A=-1),A}y.sort(R),Y(y,ao,b),Fs(x,b,ao,s.useMaxWidth),x.append("text").text(i.db.getDiagramTitle()).attr("x",ao/2).attr("y",s.titleTopMargin).attr("class","titleText");function Y(z,$,N){const j=s.barHeight,A=j+s.barGap,gt=s.topPadding,L=s.leftPadding,Dt=Uv().domain([0,O.length]).range(["#00B9FA","#F95002"]).interpolate(fA);X(A,gt,L,$,N,z,i.db.getExcludes(),i.db.getIncludes()),J(L,gt,$,N),V(z,A,gt,L,j,Dt,$),st(A,gt),lt(L,gt,$,N)}function V(z,$,N,j,A,gt,L){x.append("g").selectAll("rect").data(z).enter().append("rect").attr("x",0).attr("y",function(ut,Ct){return Ct=ut.order,Ct*$+N-2}).attr("width",function(){return L-s.rightPadding/2}).attr("height",$).attr("class",function(ut){for(const[Ct,vt]of O.entries())if(ut.type===vt)return"section section"+Ct%s.numberSectionStyles;return"section section0"});const Dt=x.append("g").selectAll("rect").data(z).enter(),ue=i.db.getLinks();if(Dt.append("rect").attr("id",function(ut){return ut.id}).attr("rx",3).attr("ry",3).attr("x",function(ut){return ut.milestone?k(ut.startTime)+j+.5*(k(ut.endTime)-k(ut.startTime))-.5*A:k(ut.startTime)+j}).attr("y",function(ut,Ct){return Ct=ut.order,Ct*$+N}).attr("width",function(ut){return ut.milestone?A:k(ut.renderEndTime||ut.endTime)-k(ut.startTime)}).attr("height",A).attr("transform-origin",function(ut,Ct){return Ct=ut.order,(k(ut.startTime)+j+.5*(k(ut.endTime)-k(ut.startTime))).toString()+"px "+(Ct*$+N+.5*A).toString()+"px"}).attr("class",function(ut){const Ct="task";let vt="";ut.classes.length>0&&(vt=ut.classes.join(" "));let xt=0;for(const[Ht,ft]of O.entries())ut.type===ft&&(xt=Ht%s.numberSectionStyles);let Ot="";return ut.active?ut.crit?Ot+=" activeCrit":Ot=" active":ut.done?ut.crit?Ot=" doneCrit":Ot=" done":ut.crit&&(Ot+=" crit"),Ot.length===0&&(Ot=" task"),ut.milestone&&(Ot=" milestone "+Ot),Ot+=xt,Ot+=" "+vt,Ct+Ot}),Dt.append("text").attr("id",function(ut){return ut.id+"-text"}).text(function(ut){return ut.task}).attr("font-size",s.fontSize).attr("x",function(ut){let Ct=k(ut.startTime),vt=k(ut.renderEndTime||ut.endTime);ut.milestone&&(Ct+=.5*(k(ut.endTime)-k(ut.startTime))-.5*A),ut.milestone&&(vt=Ct+A);const xt=this.getBBox().width;return xt>vt-Ct?vt+xt+1.5*s.leftPadding>L?Ct+j-5:vt+j+5:(vt-Ct)/2+Ct+j}).attr("y",function(ut,Ct){return Ct=ut.order,Ct*$+s.barHeight/2+(s.fontSize/2-2)+N}).attr("text-height",A).attr("class",function(ut){const Ct=k(ut.startTime);let vt=k(ut.endTime);ut.milestone&&(vt=Ct+A);const xt=this.getBBox().width;let Ot="";ut.classes.length>0&&(Ot=ut.classes.join(" "));let Ht=0;for(const[_e,et]of O.entries())ut.type===et&&(Ht=_e%s.numberSectionStyles);let ft="";return ut.active&&(ut.crit?ft="activeCritText"+Ht:ft="activeText"+Ht),ut.done?ut.crit?ft=ft+" doneCritText"+Ht:ft=ft+" doneText"+Ht:ut.crit&&(ft=ft+" critText"+Ht),ut.milestone&&(ft+=" milestoneText"),xt>vt-Ct?vt+xt+1.5*s.leftPadding>L?Ot+" taskTextOutsideLeft taskTextOutside"+Ht+" "+ft:Ot+" taskTextOutsideRight taskTextOutside"+Ht+" "+ft+" width-"+xt:Ot+" taskText taskText"+Ht+" "+ft+" width-"+xt}),ht().securityLevel==="sandbox"){let ut;ut=re("#i"+e);const Ct=ut.nodes()[0].contentDocument;Dt.filter(function(vt){return ue[vt.id]!==void 0}).each(function(vt){var xt=Ct.querySelector("#"+vt.id),Ot=Ct.querySelector("#"+vt.id+"-text");const Ht=xt.parentNode;var ft=Ct.createElement("a");ft.setAttribute("xlink:href",ue[vt.id]),ft.setAttribute("target","_top"),Ht.appendChild(ft),ft.appendChild(xt),ft.appendChild(Ot)})}}function X(z,$,N,j,A,gt,L,Dt){const ue=gt.reduce((Ht,{startTime:ft})=>Ht?Math.min(Ht,ft):ft,0),qt=gt.reduce((Ht,{endTime:ft})=>Ht?Math.max(Ht,ft):ft,0),ut=i.db.getDateFormat();if(!ue||!qt)return;const Ct=[];let vt=null,xt=S(ue);for(;xt.valueOf()<=qt;)i.db.isInvalidDate(xt,ut,L,Dt)?vt?vt.end=xt.clone():vt={start:xt.clone(),end:xt.clone()}:vt&&(Ct.push(vt),vt=null),xt.add(1,"d");x.append("g").selectAll("rect").data(Ct).enter().append("rect").attr("id",function(Ht){return"exclude-"+Ht.start.format("YYYY-MM-DD")}).attr("x",function(Ht){return k(Ht.start)+N}).attr("y",s.gridLineStartPadding).attr("width",function(Ht){const ft=Ht.end.clone().add(1,"day");return k(ft)-k(Ht.start)}).attr("height",A-$-s.gridLineStartPadding).attr("transform-origin",function(Ht,ft){return(k(Ht.start)+N+.5*(k(Ht.end)-k(Ht.start))).toString()+"px "+(ft*z+.5*A).toString()+"px"}).attr("class","exclude-range")}function J(z,$,N,j){let A=ce(k).tickSize(-j+$+s.gridLineStartPadding).tickFormat(Df(i.db.getAxisFormat()||s.axisFormat||"%Y-%m-%d"));const L=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(i.db.getTickInterval()||s.tickInterval);if(L!==null){const Dt=L[1];switch(L[2]){case"minute":A.ticks(Af.every(Dt));break;case"hour":A.ticks(Lf.every(Dt));break;case"day":A.ticks(Sc.every(Dt));break;case"week":A.ticks(Ac.every(Dt));break;case"month":A.ticks(Mf.every(Dt));break}}if(x.append("g").attr("class","grid").attr("transform","translate("+z+", "+(j-50)+")").call(A).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),i.db.topAxisEnabled()||s.topAxis){let Dt=we(k).tickSize(-j+$+s.gridLineStartPadding).tickFormat(Df(i.db.getAxisFormat()||s.axisFormat||"%Y-%m-%d"));if(L!==null){const ue=L[1];switch(L[2]){case"minute":Dt.ticks(Af.every(ue));break;case"hour":Dt.ticks(Lf.every(ue));break;case"day":Dt.ticks(Sc.every(ue));break;case"week":Dt.ticks(Ac.every(ue));break;case"month":Dt.ticks(Mf.every(ue));break}}x.append("g").attr("class","grid").attr("transform","translate("+z+", "+$+")").call(Dt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function st(z,$){const N=[];let j=0;for(const[A,gt]of O.entries())N[A]=[gt,q(gt,I)];x.append("g").selectAll("text").data(N).enter().append(function(A){const gt=A[0].split(gn.lineBreakRegex),L=-(gt.length-1)/2,Dt=f.createElementNS("http://www.w3.org/2000/svg","text");Dt.setAttribute("dy",L+"em");for(const[ue,qt]of gt.entries()){const ut=f.createElementNS("http://www.w3.org/2000/svg","tspan");ut.setAttribute("alignment-baseline","central"),ut.setAttribute("x","10"),ue>0&&ut.setAttribute("dy","1em"),ut.textContent=qt,Dt.appendChild(ut)}return Dt}).attr("x",10).attr("y",function(A,gt){if(gt>0)for(let L=0;L<gt;L++)return j+=N[gt-1][1],A[1]*z/2+j*z+$;else return A[1]*z/2+$}).attr("font-size",s.sectionFontSize).attr("font-size",s.sectionFontSize).attr("class",function(A){for(const[gt,L]of O.entries())if(A[0]===L)return"sectionTitle sectionTitle"+gt%s.numberSectionStyles;return"sectionTitle"})}function lt(z,$,N,j){const A=i.db.getTodayMarker();if(A==="off")return;const gt=x.append("g").attr("class","today"),L=new Date,Dt=gt.append("line");Dt.attr("x1",k(L)+z).attr("x2",k(L)+z).attr("y1",s.titleTopMargin).attr("y2",j-s.titleTopMargin).attr("class","today"),A!==""&&Dt.attr("style",A.replace(/,/g,";"))}function tt(z){const $={},N=[];for(let j=0,A=z.length;j<A;++j)Object.prototype.hasOwnProperty.call($,z[j])||($[z[j]]=!0,N.push(z[j]));return N}function at(z){let $=z.length;const N={};for(;$;)N[z[--$]]=(N[z[$]]||0)+1;return N}function q(z,$){return at($)[z]||0}}};var P2=function(){var t=function(o,l,h,f){for(h=h||{},f=o.length;f--;h[o[f]]=l);return h},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(l,h,f,g,y,b,x){switch(b.length-1,y){case 1:return g;case 4:break;case 6:g.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(l,h){if(h.recoverable)this.trace(l);else{var f=new Error(l);throw f.hash=h,f}},parse:function(l){var h=this,f=[0],g=[],y=[null],b=[],x=this.table,k="",O=0,I=0,R=2,Y=1,V=b.slice.call(arguments,1),X=Object.create(this.lexer),J={yy:{}};for(var st in this.yy)Object.prototype.hasOwnProperty.call(this.yy,st)&&(J.yy[st]=this.yy[st]);X.setInput(l,J.yy),J.yy.lexer=X,J.yy.parser=this,typeof X.yylloc=="undefined"&&(X.yylloc={});var lt=X.yylloc;b.push(lt);var tt=X.options&&X.options.ranges;typeof J.yy.parseError=="function"?this.parseError=J.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function at(){var qt;return qt=g.pop()||X.lex()||Y,typeof qt!="number"&&(qt instanceof Array&&(g=qt,qt=g.pop()),qt=h.symbols_[qt]||qt),qt}for(var q,z,$,N,j={},A,gt,L,Dt;;){if(z=f[f.length-1],this.defaultActions[z]?$=this.defaultActions[z]:((q===null||typeof q=="undefined")&&(q=at()),$=x[z]&&x[z][q]),typeof $=="undefined"||!$.length||!$[0]){var ue="";Dt=[];for(A in x[z])this.terminals_[A]&&A>R&&Dt.push("'"+this.terminals_[A]+"'");X.showPosition?ue="Parse error on line "+(O+1)+`:
`+X.showPosition()+`
Expecting `+Dt.join(", ")+", got '"+(this.terminals_[q]||q)+"'":ue="Parse error on line "+(O+1)+": Unexpected "+(q==Y?"end of input":"'"+(this.terminals_[q]||q)+"'"),this.parseError(ue,{text:X.match,token:this.terminals_[q]||q,line:X.yylineno,loc:lt,expected:Dt})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+z+", token: "+q);switch($[0]){case 1:f.push(q),y.push(X.yytext),b.push(X.yylloc),f.push($[1]),q=null,I=X.yyleng,k=X.yytext,O=X.yylineno,lt=X.yylloc;break;case 2:if(gt=this.productions_[$[1]][1],j.$=y[y.length-gt],j._$={first_line:b[b.length-(gt||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(gt||1)].first_column,last_column:b[b.length-1].last_column},tt&&(j._$.range=[b[b.length-(gt||1)].range[0],b[b.length-1].range[1]]),N=this.performAction.apply(j,[k,I,O,J.yy,$[1],y,b].concat(V)),typeof N!="undefined")return N;gt&&(f=f.slice(0,-1*gt*2),y=y.slice(0,-1*gt),b=b.slice(0,-1*gt)),f.push(this.productions_[$[1]][0]),y.push(j.$),b.push(j._$),L=x[f[f.length-2]][f[f.length-1]],f.push(L);break;case 3:return!0}}return!0}},i=function(){var o={EOF:1,parseError:function(h,f){if(this.yy.parser)this.yy.parser.parseError(h,f);else throw new Error(h)},setInput:function(l,h){return this.yy=h||this.yy||{},this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var h=l.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},unput:function(l){var h=l.length,f=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var g=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),f.length-1&&(this.yylineno-=f.length-1);var y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f?(f.length===g.length?this.yylloc.first_column:0)+g[g.length-f.length].length-f[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[y[0],y[0]+this.yyleng-h]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(l){this.unput(this.match.slice(l))},pastInput:function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var l=this.pastInput(),h=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+h+"^"},test_match:function(l,h){var f,g,y;if(this.options.backtrack_lexer&&(y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(y.yylloc.range=this.yylloc.range.slice(0))),g=l[0].match(/(?:\r\n?|\n).*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],f=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)return f;if(this._backtrack){for(var b in y)this[b]=y[b];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,h,f,g;this._more||(this.yytext="",this.match="");for(var y=this._currentRules(),b=0;b<y.length;b++)if(f=this._input.match(this.rules[y[b]]),f&&(!h||f[0].length>h[0].length)){if(h=f,g=b,this.options.backtrack_lexer){if(l=this.test_match(f,y[b]),l!==!1)return l;if(this._backtrack){h=!1;continue}else return!1}else if(!this.options.flex)break}return h?(l=this.test_match(h,y[g]),l!==!1?l:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var h=this.next();return h||this.lex()},begin:function(h){this.conditionStack.push(h)},popState:function(){var h=this.conditionStack.length-1;return h>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(h){return h=this.conditionStack.length-1-Math.abs(h||0),h>=0?this.conditionStack[h]:"INITIAL"},pushState:function(h){this.begin(h)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(h,f,g,y){switch(g){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return o}();n.lexer=i;function s(){this.yy={}}return s.prototype=n,n.Parser=s,new s}();P2.parser=P2;const MG=P2;var yw="",_w=!1;const NG={setMessage:t=>{E.debug("Setting message to: "+t),yw=t},getMessage:()=>yw,setInfo:t=>{_w=t},getInfo:()=>_w,clear:Ps},DG={draw:(t,e,n)=>{try{E.debug(`Rendering info diagram
`+t);const i=ht().securityLevel;let s;i==="sandbox"&&(s=re("#i"+e));const l=re(i==="sandbox"?s.nodes()[0].contentDocument.body:"body").select("#"+e);l.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+n),l.attr("height",100),l.attr("width",400)}catch(i){E.error("Error while rendering info diagram"),E.error(i.message)}}},IG=t=>t.match(/^\s*info/)!==null;var V2=function(){var t=function(lt,tt,at,q){for(at=at||{},q=lt.length;q--;at[lt[q]]=tt);return at},e=[1,4],n=[1,5],i=[1,6],s=[1,7],o=[1,9],l=[1,11,13,15,17,19,20,26,27,28,29],h=[2,5],f=[1,6,11,13,15,17,19,20,26,27,28,29],g=[26,27,28],y=[2,8],b=[1,18],x=[1,19],k=[1,20],O=[1,21],I=[1,22],R=[1,23],Y=[1,28],V=[6,26,27,28,29],X={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(tt,at,q,z,$,N,j){var A=N.length-1;switch($){case 4:z.setShowData(!0);break;case 7:this.$=N[A-1];break;case 9:z.addSection(N[A-1],z.cleanupValue(N[A]));break;case 10:this.$=N[A].trim(),z.setDiagramTitle(this.$);break;case 11:this.$=N[A].trim(),z.setAccTitle(this.$);break;case 12:case 13:this.$=N[A].trim(),z.setAccDescription(this.$);break;case 14:z.addSection(N[A].substr(8)),this.$=N[A].substr(8);break;case 21:z.parseDirective("%%{","open_directive");break;case 22:z.parseDirective(N[A],"type_directive");break;case 23:N[A]=N[A].trim().replace(/'/g,'"'),z.parseDirective(N[A],"arg_directive");break;case 24:z.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:i,28:s,29:o},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:i,28:s,29:o},{3:11,4:2,5:3,6:e,21:8,26:n,27:i,28:s,29:o},t(l,h,{7:12,8:[1,13]}),t(f,[2,18]),t(f,[2,19]),t(f,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(g,y,{21:8,9:16,10:17,5:24,1:[2,3],11:b,13:x,15:k,17:O,19:I,20:R,29:o}),t(l,h,{7:25}),{23:26,24:[1,27],32:Y},t([24,32],[2,22]),t(l,[2,6]),{4:29,26:n,27:i,28:s},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(g,[2,13]),t(g,[2,14]),t(g,[2,15]),t(g,y,{21:8,9:16,10:17,5:24,1:[2,4],11:b,13:x,15:k,17:O,19:I,20:R,29:o}),t(V,[2,16]),{25:34,31:[1,35]},t(V,[2,24]),t(l,[2,7]),t(g,[2,9]),t(g,[2,10]),t(g,[2,11]),t(g,[2,12]),{23:36,32:Y},{32:[2,23]},t(V,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(tt,at){if(at.recoverable)this.trace(tt);else{var q=new Error(tt);throw q.hash=at,q}},parse:function(tt){var at=this,q=[0],z=[],$=[null],N=[],j=this.table,A="",gt=0,L=0,Dt=2,ue=1,qt=N.slice.call(arguments,1),ut=Object.create(this.lexer),Ct={yy:{}};for(var vt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,vt)&&(Ct.yy[vt]=this.yy[vt]);ut.setInput(tt,Ct.yy),Ct.yy.lexer=ut,Ct.yy.parser=this,typeof ut.yylloc=="undefined"&&(ut.yylloc={});var xt=ut.yylloc;N.push(xt);var Ot=ut.options&&ut.options.ranges;typeof Ct.yy.parseError=="function"?this.parseError=Ct.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ht(){var It;return It=z.pop()||ut.lex()||ue,typeof It!="number"&&(It instanceof Array&&(z=It,It=z.pop()),It=at.symbols_[It]||It),It}for(var ft,_e,et,it,dt={},Q,G,U,yt;;){if(_e=q[q.length-1],this.defaultActions[_e]?et=this.defaultActions[_e]:((ft===null||typeof ft=="undefined")&&(ft=Ht()),et=j[_e]&&j[_e][ft]),typeof et=="undefined"||!et.length||!et[0]){var B="";yt=[];for(Q in j[_e])this.terminals_[Q]&&Q>Dt&&yt.push("'"+this.terminals_[Q]+"'");ut.showPosition?B="Parse error on line "+(gt+1)+`:
`+ut.showPosition()+`
Expecting `+yt.join(", ")+", got '"+(this.terminals_[ft]||ft)+"'":B="Parse error on line "+(gt+1)+": Unexpected "+(ft==ue?"end of input":"'"+(this.terminals_[ft]||ft)+"'"),this.parseError(B,{text:ut.match,token:this.terminals_[ft]||ft,line:ut.yylineno,loc:xt,expected:yt})}if(et[0]instanceof Array&&et.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_e+", token: "+ft);switch(et[0]){case 1:q.push(ft),$.push(ut.yytext),N.push(ut.yylloc),q.push(et[1]),ft=null,L=ut.yyleng,A=ut.yytext,gt=ut.yylineno,xt=ut.yylloc;break;case 2:if(G=this.productions_[et[1]][1],dt.$=$[$.length-G],dt._$={first_line:N[N.length-(G||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(G||1)].first_column,last_column:N[N.length-1].last_column},Ot&&(dt._$.range=[N[N.length-(G||1)].range[0],N[N.length-1].range[1]]),it=this.performAction.apply(dt,[A,L,gt,Ct.yy,et[1],$,N].concat(qt)),typeof it!="undefined")return it;G&&(q=q.slice(0,-1*G*2),$=$.slice(0,-1*G),N=N.slice(0,-1*G)),q.push(this.productions_[et[1]][0]),$.push(dt.$),N.push(dt._$),U=j[q[q.length-2]][q[q.length-1]],q.push(U);break;case 3:return!0}}return!0}},J=function(){var lt={EOF:1,parseError:function(at,q){if(this.yy.parser)this.yy.parser.parseError(at,q);else throw new Error(at)},setInput:function(tt,at){return this.yy=at||this.yy||{},this._input=tt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var tt=this._input[0];this.yytext+=tt,this.yyleng++,this.offset++,this.match+=tt,this.matched+=tt;var at=tt.match(/(?:\r\n?|\n).*/g);return at?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),tt},unput:function(tt){var at=tt.length,q=tt.split(/(?:\r\n?|\n)/g);this._input=tt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-at),this.offset-=at;var z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var $=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===z.length?this.yylloc.first_column:0)+z[z.length-q.length].length-q[0].length:this.yylloc.first_column-at},this.options.ranges&&(this.yylloc.range=[$[0],$[0]+this.yyleng-at]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(tt){this.unput(this.match.slice(tt))},pastInput:function(){var tt=this.matched.substr(0,this.matched.length-this.match.length);return(tt.length>20?"...":"")+tt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var tt=this.match;return tt.length<20&&(tt+=this._input.substr(0,20-tt.length)),(tt.substr(0,20)+(tt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var tt=this.pastInput(),at=new Array(tt.length+1).join("-");return tt+this.upcomingInput()+`
`+at+"^"},test_match:function(tt,at){var q,z,$;if(this.options.backtrack_lexer&&($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($.yylloc.range=this.yylloc.range.slice(0))),z=tt[0].match(/(?:\r\n?|\n).*/g),z&&(this.yylineno+=z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:z?z[z.length-1].length-z[z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+tt[0].length},this.yytext+=tt[0],this.match+=tt[0],this.matches=tt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(tt[0].length),this.matched+=tt[0],q=this.performAction.call(this,this.yy,this,at,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var N in $)this[N]=$[N];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var tt,at,q,z;this._more||(this.yytext="",this.match="");for(var $=this._currentRules(),N=0;N<$.length;N++)if(q=this._input.match(this.rules[$[N]]),q&&(!at||q[0].length>at[0].length)){if(at=q,z=N,this.options.backtrack_lexer){if(tt=this.test_match(q,$[N]),tt!==!1)return tt;if(this._backtrack){at=!1;continue}else return!1}else if(!this.options.flex)break}return at?(tt=this.test_match(at,$[z]),tt!==!1?tt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var at=this.next();return at||this.lex()},begin:function(at){this.conditionStack.push(at)},popState:function(){var at=this.conditionStack.length-1;return at>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(at){return at=this.conditionStack.length-1-Math.abs(at||0),at>=0?this.conditionStack[at]:"INITIAL"},pushState:function(at){this.begin(at)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(at,q,z,$){switch(z){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return lt}();X.lexer=J;function st(){this.yy={}}return st.prototype=X,X.Parser=st,new st}();V2.parser=V2;const RG=V2,BG=t=>t.match(/^\s*pie/)!==null||t.match(/^\s*bar/)!==null;let _0={},$2=!1;const FG={parseDirective:function(t,e,n){Tr.parseDirective(this,t,e,n)},getConfig:()=>ht().pie,addSection:function(t,e){t=gn.sanitizeText(t,ht()),_0[t]===void 0&&(_0[t]=e,E.debug("Added new section :",t))},getSections:()=>_0,cleanupValue:function(t){return t.substring(0,1)===":"&&(t=t.substring(1).trim()),Number(t.trim())},clear:function(){_0={},$2=!1,Ps()},setAccTitle:vs,getAccTitle:Vs,setDiagramTitle:Ga,getDiagramTitle:Xa,setShowData:function(t){$2=t},getShowData:function(){return $2},getAccDescription:Ys,setAccDescription:$s};let oo=ht(),lo;const Jh=450,PG={draw:(t,e,n,i)=>{try{oo=ht(),E.debug(`Rendering info diagram
`+t);const V=ht().securityLevel;let X;V==="sandbox"&&(X=re("#i"+e));const J=re(V==="sandbox"?X.nodes()[0].contentDocument.body:"body"),st=V==="sandbox"?X.nodes()[0].contentDocument:document;i.db.clear(),i.parser.parse(t),E.debug("Parsed info diagram");const lt=st.getElementById(e);lo=lt.parentElement.offsetWidth,lo===void 0&&(lo=1200),oo.useWidth!==void 0&&(lo=oo.useWidth),oo.pie.useWidth!==void 0&&(lo=oo.pie.useWidth);const tt=J.select("#"+e);Fs(tt,Jh,lo,oo.pie.useMaxWidth),lt.setAttribute("viewBox","0 0 "+lo+" "+Jh);var s=40,o=18,l=4,h=Math.min(lo,Jh)/2-s,f=tt.append("g").attr("transform","translate("+lo/2+","+Jh/2+")"),g=i.db.getSections(),y=0;Object.keys(g).forEach(function(q){y+=g[q]});const at=oo.themeVariables;var b=[at.pie1,at.pie2,at.pie3,at.pie4,at.pie5,at.pie6,at.pie7,at.pie8,at.pie9,at.pie10,at.pie11,at.pie12],x=Pv().range(b),k=Object.entries(g).map(function(q,z){return{order:z,name:q[0],value:q[1]}}),O=AM().value(function(q){return q.value}).sort(function(q,z){return q.order-z.order}),I=O(k),R=Dg().innerRadius(0).outerRadius(h);f.selectAll("mySlices").data(I).enter().append("path").attr("d",R).attr("fill",function(q){return x(q.data.name)}).attr("class","pieCircle"),f.selectAll("mySlices").data(I).enter().append("text").text(function(q){return(q.data.value/y*100).toFixed(0)+"%"}).attr("transform",function(q){return"translate("+R.centroid(q)+")"}).style("text-anchor","middle").attr("class","slice"),f.append("text").text(i.db.getDiagramTitle()).attr("x",0).attr("y",-(Jh-50)/2).attr("class","pieTitleText");var Y=f.selectAll(".legend").data(x.domain()).enter().append("g").attr("class","legend").attr("transform",function(q,z){const $=o+l,N=$*x.domain().length/2,j=12*o,A=z*$-N;return"translate("+j+","+A+")"});Y.append("rect").attr("width",o).attr("height",o).style("fill",x).style("stroke",x),Y.data(I).append("text").attr("x",o+l).attr("y",o-l).text(function(q){return i.db.getShowData()||oo.showData||oo.pie.showData?q.data.name+" ["+q.data.value+"]":q.data.name})}catch(V){E.error("Error while rendering info diagram"),E.error(V)}}};var Y2=function(){var t=function(_e,et,it,dt){for(it=it||{},dt=_e.length;dt--;it[_e[dt]]=et);return it},e=[1,3],n=[1,5],i=[1,6],s=[1,7],o=[1,8],l=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],h=[1,22],f=[2,13],g=[1,26],y=[1,27],b=[1,28],x=[1,29],k=[1,30],O=[1,31],I=[1,24],R=[1,32],Y=[1,33],V=[1,36],X=[71,72],J=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],st=[1,56],lt=[1,57],tt=[1,58],at=[1,59],q=[1,60],z=[1,61],$=[1,62],N=[62,63],j=[1,74],A=[1,70],gt=[1,71],L=[1,72],Dt=[1,73],ue=[1,75],qt=[1,79],ut=[1,80],Ct=[1,77],vt=[1,78],xt=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],Ot={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(et,it,dt,Q,G,U,yt){var B=U.length-1;switch(G){case 6:this.$=U[B].trim(),Q.setAccTitle(this.$);break;case 7:case 8:this.$=U[B].trim(),Q.setAccDescription(this.$);break;case 9:Q.parseDirective("%%{","open_directive");break;case 10:Q.parseDirective(U[B],"type_directive");break;case 11:U[B]=U[B].trim().replace(/'/g,'"'),Q.parseDirective(U[B],"arg_directive");break;case 12:Q.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:Q.addRequirement(U[B-3],U[B-4]);break;case 20:Q.setNewReqId(U[B-2]);break;case 21:Q.setNewReqText(U[B-2]);break;case 22:Q.setNewReqRisk(U[B-2]);break;case 23:Q.setNewReqVerifyMethod(U[B-2]);break;case 26:this.$=Q.RequirementType.REQUIREMENT;break;case 27:this.$=Q.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=Q.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=Q.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=Q.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=Q.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=Q.RiskLevel.LOW_RISK;break;case 33:this.$=Q.RiskLevel.MED_RISK;break;case 34:this.$=Q.RiskLevel.HIGH_RISK;break;case 35:this.$=Q.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=Q.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=Q.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=Q.VerifyType.VERIFY_TEST;break;case 39:Q.addElement(U[B-3]);break;case 40:Q.setNewElementType(U[B-2]);break;case 41:Q.setNewElementDocRef(U[B-2]);break;case 44:Q.addRelationship(U[B-2],U[B],U[B-4]);break;case 45:Q.addRelationship(U[B-2],U[B-4],U[B]);break;case 46:this.$=Q.Relationships.CONTAINS;break;case 47:this.$=Q.Relationships.COPIES;break;case 48:this.$=Q.Relationships.DERIVES;break;case 49:this.$=Q.Relationships.SATISFIES;break;case 50:this.$=Q.Relationships.VERIFIES;break;case 51:this.$=Q.Relationships.REFINES;break;case 52:this.$=Q.Relationships.TRACES;break}},table:[{3:1,4:2,6:e,9:4,14:n,16:i,18:s,19:o},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:i,18:s,19:o},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(l,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:i,18:s,19:o},{1:[2,2]},{4:21,5:h,7:17,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:y,42:b,43:x,44:k,45:O,53:I,71:R,72:Y},{11:34,12:[1,35],22:V},t([12,22],[2,10]),t(l,[2,6]),t(l,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:h,7:38,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:y,42:b,43:x,44:k,45:O,53:I,71:R,72:Y},{4:21,5:h,7:39,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:y,42:b,43:x,44:k,45:O,53:I,71:R,72:Y},{4:21,5:h,7:40,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:y,42:b,43:x,44:k,45:O,53:I,71:R,72:Y},{4:21,5:h,7:41,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:y,42:b,43:x,44:k,45:O,53:I,71:R,72:Y},{4:21,5:h,7:42,8:f,9:4,14:n,16:i,18:s,19:o,23:18,24:19,25:20,26:23,32:25,40:g,41:y,42:b,43:x,44:k,45:O,53:I,71:R,72:Y},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(X,[2,26]),t(X,[2,27]),t(X,[2,28]),t(X,[2,29]),t(X,[2,30]),t(X,[2,31]),t(J,[2,55]),t(J,[2,56]),t(l,[2,4]),{13:51,21:[1,52]},t(l,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:st,65:lt,66:tt,67:at,68:q,69:z,70:$},{61:63,64:st,65:lt,66:tt,67:at,68:q,69:z,70:$},{11:64,22:V},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(N,[2,46]),t(N,[2,47]),t(N,[2,48]),t(N,[2,49]),t(N,[2,50]),t(N,[2,51]),t(N,[2,52]),{63:[1,68]},t(l,[2,5]),{5:j,29:69,30:A,33:gt,35:L,37:Dt,39:ue},{5:qt,39:ut,55:76,56:Ct,58:vt},{32:81,71:R,72:Y},{32:82,71:R,72:Y},t(xt,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:j,29:87,30:A,33:gt,35:L,37:Dt,39:ue},t(xt,[2,25]),t(xt,[2,39]),{31:[1,88]},{31:[1,89]},{5:qt,39:ut,55:90,56:Ct,58:vt},t(xt,[2,43]),t(xt,[2,44]),t(xt,[2,45]),{32:91,71:R,72:Y},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(xt,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(xt,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:j,29:116,30:A,33:gt,35:L,37:Dt,39:ue},{5:j,29:117,30:A,33:gt,35:L,37:Dt,39:ue},{5:j,29:118,30:A,33:gt,35:L,37:Dt,39:ue},{5:j,29:119,30:A,33:gt,35:L,37:Dt,39:ue},{5:qt,39:ut,55:120,56:Ct,58:vt},{5:qt,39:ut,55:121,56:Ct,58:vt},t(xt,[2,20]),t(xt,[2,21]),t(xt,[2,22]),t(xt,[2,23]),t(xt,[2,40]),t(xt,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(et,it){if(it.recoverable)this.trace(et);else{var dt=new Error(et);throw dt.hash=it,dt}},parse:function(et){var it=this,dt=[0],Q=[],G=[null],U=[],yt=this.table,B="",It=0,rt=0,Ae=2,bt=1,de=U.slice.call(arguments,1),Jt=Object.create(this.lexer),$t={yy:{}};for(var te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,te)&&($t.yy[te]=this.yy[te]);Jt.setInput(et,$t.yy),$t.yy.lexer=Jt,$t.yy.parser=this,typeof Jt.yylloc=="undefined"&&(Jt.yylloc={});var Xt=Jt.yylloc;U.push(Xt);var Ft=Jt.options&&Jt.options.ranges;typeof $t.yy.parseError=="function"?this.parseError=$t.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function wt(){var Bt;return Bt=Q.pop()||Jt.lex()||bt,typeof Bt!="number"&&(Bt instanceof Array&&(Q=Bt,Bt=Q.pop()),Bt=it.symbols_[Bt]||Bt),Bt}for(var dn,We,Ue,je,Ve={},Un,Fe,Le,Ee;;){if(We=dt[dt.length-1],this.defaultActions[We]?Ue=this.defaultActions[We]:((dn===null||typeof dn=="undefined")&&(dn=wt()),Ue=yt[We]&&yt[We][dn]),typeof Ue=="undefined"||!Ue.length||!Ue[0]){var Wt="";Ee=[];for(Un in yt[We])this.terminals_[Un]&&Un>Ae&&Ee.push("'"+this.terminals_[Un]+"'");Jt.showPosition?Wt="Parse error on line "+(It+1)+`:
`+Jt.showPosition()+`
Expecting `+Ee.join(", ")+", got '"+(this.terminals_[dn]||dn)+"'":Wt="Parse error on line "+(It+1)+": Unexpected "+(dn==bt?"end of input":"'"+(this.terminals_[dn]||dn)+"'"),this.parseError(Wt,{text:Jt.match,token:this.terminals_[dn]||dn,line:Jt.yylineno,loc:Xt,expected:Ee})}if(Ue[0]instanceof Array&&Ue.length>1)throw new Error("Parse Error: multiple actions possible at state: "+We+", token: "+dn);switch(Ue[0]){case 1:dt.push(dn),G.push(Jt.yytext),U.push(Jt.yylloc),dt.push(Ue[1]),dn=null,rt=Jt.yyleng,B=Jt.yytext,It=Jt.yylineno,Xt=Jt.yylloc;break;case 2:if(Fe=this.productions_[Ue[1]][1],Ve.$=G[G.length-Fe],Ve._$={first_line:U[U.length-(Fe||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(Fe||1)].first_column,last_column:U[U.length-1].last_column},Ft&&(Ve._$.range=[U[U.length-(Fe||1)].range[0],U[U.length-1].range[1]]),je=this.performAction.apply(Ve,[B,rt,It,$t.yy,Ue[1],G,U].concat(de)),typeof je!="undefined")return je;Fe&&(dt=dt.slice(0,-1*Fe*2),G=G.slice(0,-1*Fe),U=U.slice(0,-1*Fe)),dt.push(this.productions_[Ue[1]][0]),G.push(Ve.$),U.push(Ve._$),Le=yt[dt[dt.length-2]][dt[dt.length-1]],dt.push(Le);break;case 3:return!0}}return!0}},Ht=function(){var _e={EOF:1,parseError:function(it,dt){if(this.yy.parser)this.yy.parser.parseError(it,dt);else throw new Error(it)},setInput:function(et,it){return this.yy=it||this.yy||{},this._input=et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var et=this._input[0];this.yytext+=et,this.yyleng++,this.offset++,this.match+=et,this.matched+=et;var it=et.match(/(?:\r\n?|\n).*/g);return it?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),et},unput:function(et){var it=et.length,dt=et.split(/(?:\r\n?|\n)/g);this._input=et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-it),this.offset-=it;var Q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),dt.length-1&&(this.yylineno-=dt.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:dt?(dt.length===Q.length?this.yylloc.first_column:0)+Q[Q.length-dt.length].length-dt[0].length:this.yylloc.first_column-it},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-it]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(et){this.unput(this.match.slice(et))},pastInput:function(){var et=this.matched.substr(0,this.matched.length-this.match.length);return(et.length>20?"...":"")+et.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var et=this.match;return et.length<20&&(et+=this._input.substr(0,20-et.length)),(et.substr(0,20)+(et.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var et=this.pastInput(),it=new Array(et.length+1).join("-");return et+this.upcomingInput()+`
`+it+"^"},test_match:function(et,it){var dt,Q,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),Q=et[0].match(/(?:\r\n?|\n).*/g),Q&&(this.yylineno+=Q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Q?Q[Q.length-1].length-Q[Q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+et[0].length},this.yytext+=et[0],this.match+=et[0],this.matches=et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(et[0].length),this.matched+=et[0],dt=this.performAction.call(this,this.yy,this,it,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),dt)return dt;if(this._backtrack){for(var U in G)this[U]=G[U];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var et,it,dt,Q;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),U=0;U<G.length;U++)if(dt=this._input.match(this.rules[G[U]]),dt&&(!it||dt[0].length>it[0].length)){if(it=dt,Q=U,this.options.backtrack_lexer){if(et=this.test_match(dt,G[U]),et!==!1)return et;if(this._backtrack){it=!1;continue}else return!1}else if(!this.options.flex)break}return it?(et=this.test_match(it,G[Q]),et!==!1?et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var it=this.next();return it||this.lex()},begin:function(it){this.conditionStack.push(it)},popState:function(){var it=this.conditionStack.length-1;return it>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(it){return it=this.conditionStack.length-1-Math.abs(it||0),it>=0?this.conditionStack[it]:"INITIAL"},pushState:function(it){this.begin(it)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(it,dt,Q,G){switch(Q){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return dt.yytext=dt.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return _e}();Ot.lexer=Ht;function ft(){this.yy={}}return ft.prototype=Ot,Ot.Parser=ft,new ft}();Y2.parser=Y2;const VG=Y2,$G=t=>t.match(/^\s*requirement(Diagram)?/)!==null;let U2=[],Xi={},td={},$o={},ed={};const YG={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(t,e,n){Tr.parseDirective(this,t,e,n)},getConfig:()=>ht().req,addRequirement:(t,e)=>(td[t]===void 0&&(td[t]={name:t,type:e,id:Xi.id,text:Xi.text,risk:Xi.risk,verifyMethod:Xi.verifyMethod}),Xi={},td[t]),getRequirements:()=>td,setNewReqId:t=>{Xi!==void 0&&(Xi.id=t)},setNewReqText:t=>{Xi!==void 0&&(Xi.text=t)},setNewReqRisk:t=>{Xi!==void 0&&(Xi.risk=t)},setNewReqVerifyMethod:t=>{Xi!==void 0&&(Xi.verifyMethod=t)},setAccTitle:vs,getAccTitle:Vs,setAccDescription:$s,getAccDescription:Ys,addElement:t=>(ed[t]===void 0&&(ed[t]={name:t,type:$o.type,docRef:$o.docRef},E.info("Added new requirement: ",t)),$o={},ed[t]),getElements:()=>ed,setNewElementType:t=>{$o!==void 0&&($o.type=t)},setNewElementDocRef:t=>{$o!==void 0&&($o.docRef=t)},addRelationship:(t,e,n)=>{U2.push({type:t,src:e,dst:n})},getRelationships:()=>U2,clear:()=>{U2=[],Xi={},td={},$o={},ed={},Ps()}},z2={CONTAINS:"contains",ARROW:"arrow"},bw={ReqMarkers:z2,insertLineEndings:(t,e)=>{let n=t.append("defs").append("marker").attr("id",z2.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",z2.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)}};let Or={},vw=0;const xw=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Or.rect_min_width+"px").attr("height",Or.rect_min_height+"px"),kw=(t,e,n)=>{let i=Or.rect_min_width/2,s=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",i).attr("y",Or.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach(g=>{o==0?s.append("tspan").attr("text-anchor","middle").attr("x",Or.rect_min_width/2).attr("dy",0).text(g):s.append("tspan").attr("text-anchor","middle").attr("x",Or.rect_min_width/2).attr("dy",Or.line_height*.75).text(g),o++});let l=1.5*Or.rect_padding,h=o*Or.line_height*.75,f=l+h;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Or.rect_min_width).attr("y1",f).attr("y2",f),{titleNode:s,y:f}},ww=(t,e,n,i)=>{let s=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",Or.rect_padding).attr("y",i).attr("dominant-baseline","hanging"),o=0;const l=30;let h=[];return n.forEach(f=>{let g=f.length;for(;g>l&&o<3;){let y=f.substring(0,l);f=f.substring(l,f.length),g=f.length,h[h.length]=y,o++}if(o==3){let y=h[h.length-1];h[h.length-1]=y.substring(0,y.length-4)+"..."}else h[h.length]=f;o=0}),h.forEach(f=>{s.append("tspan").attr("x",Or.rect_padding).attr("dy",Or.line_height).text(f)}),s},UG=(t,e,n,i)=>{const s=e.node().getTotalLength(),o=e.node().getPointAtLength(s*.5),l="rel"+vw;vw++;const f=t.append("text").attr("class","req relationshipLabel").attr("id",l).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(i).node().getBBox();t.insert("rect","#"+l).attr("class","req reqLabelBox").attr("x",o.x-f.width/2).attr("y",o.y-f.height/2).attr("width",f.width).attr("height",f.height).attr("fill","white").attr("fill-opacity","85%")},zG=function(t,e,n,i,s){const o=n.edge(hu(e.src),hu(e.dst)),l=Dc().x(function(f){return f.x}).y(function(f){return f.y}),h=t.insert("path","#"+i).attr("class","er relationshipLine").attr("d",l(o.points)).attr("fill","none");e.type==s.db.Relationships.CONTAINS?h.attr("marker-start","url("+gn.getUrl(Or.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(h.attr("stroke-dasharray","10,7"),h.attr("marker-end","url("+gn.getUrl(Or.arrowMarkerAbsolute)+"#"+bw.ReqMarkers.ARROW+"_line_ending)")),UG(t,h,Or,`<<${e.type}>>`)},HG=(t,e,n)=>{Object.keys(t).forEach(i=>{let s=t[i];i=hu(i),E.info("Added new requirement: ",i);const o=n.append("g").attr("id",i),l="req-"+i,h=xw(o,l);let f=kw(o,i+"_title",[`<<${s.type}>>`,`${s.name}`]);ww(o,i+"_body",[`Id: ${s.id}`,`Text: ${s.text}`,`Risk: ${s.risk}`,`Verification: ${s.verifyMethod}`],f.y);const g=h.node().getBBox();e.setNode(i,{width:g.width,height:g.height,shape:"rect",id:i})})},WG=(t,e,n)=>{Object.keys(t).forEach(i=>{let s=t[i];const o=hu(i),l=n.append("g").attr("id",o),h="element-"+o,f=xw(l,h);let g=kw(l,h+"_title",["<<Element>>",`${i}`]);ww(l,h+"_body",[`Type: ${s.type||"Not Specified"}`,`Doc Ref: ${s.docRef||"None"}`],g.y);const y=f.node().getBBox();e.setNode(o,{width:y.width,height:y.height,shape:"rect",id:o})})},jG=(t,e)=>(t.forEach(function(n){let i=hu(n.src),s=hu(n.dst);e.setEdge(i,s,{relationship:n})}),t),qG=function(t,e){e.nodes().forEach(function(n){n!==void 0&&e.node(n)!==void 0&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))})},hu=t=>t.replace(/\s/g,"").replace(/\./g,"_"),GG={draw:(t,e,n,i)=>{Or=ht().requirement,i.db.clear(),i.parser.parse(t);const s=Or.securityLevel;let o;s==="sandbox"&&(o=re("#i"+e));const h=re(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);bw.insertLineEndings(h,Or);const f=new jr({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Or.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let g=i.db.getRequirements(),y=i.db.getElements(),b=i.db.getRelationships();HG(g,f,h),WG(y,f,h),jG(b,f),su(f),qG(h,f),b.forEach(function(R){zG(h,R,f,e,i)});const x=Or.rect_padding,k=h.node().getBBox(),O=k.width+x*2,I=k.height+x*2;Fs(h,I,O,Or.useMaxWidth),h.attr("viewBox",`${k.x-x} ${k.y-x} ${O} ${I}`)}};var H2=function(){var t=function(_e,et,it,dt){for(it=it||{},dt=_e.length;dt--;it[_e[dt]]=et);return it},e=[1,2],n=[1,3],i=[1,5],s=[1,7],o=[2,5],l=[1,15],h=[1,17],f=[1,18],g=[1,19],y=[1,21],b=[1,22],x=[1,23],k=[1,29],O=[1,30],I=[1,31],R=[1,32],Y=[1,33],V=[1,34],X=[1,35],J=[1,36],st=[1,37],lt=[1,38],tt=[1,39],at=[1,40],q=[1,43],z=[1,44],$=[1,45],N=[1,46],j=[1,47],A=[1,48],gt=[1,51],L=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Dt=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],ue=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],qt=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],ut=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],Ct=[67,68,69],vt=[1,121],xt=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Ot={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(et,it,dt,Q,G,U,yt){var B=U.length-1;switch(G){case 4:return Q.apply(U[B]),U[B];case 5:this.$=[];break;case 6:U[B-1].push(U[B]),this.$=U[B-1];break;case 7:case 8:this.$=U[B];break;case 9:this.$=[];break;case 12:U[B-3].type="addParticipant",U[B-3].description=Q.parseMessage(U[B-1]),this.$=U[B-3];break;case 13:U[B-1].type="addParticipant",this.$=U[B-1];break;case 14:U[B-3].type="addActor",U[B-3].description=Q.parseMessage(U[B-1]),this.$=U[B-3];break;case 15:U[B-1].type="addActor",this.$=U[B-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(U[B-2]),sequenceIndexStep:Number(U[B-1]),sequenceVisible:!0,signalType:Q.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(U[B-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:Q.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:Q.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:Q.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:Q.LINETYPE.ACTIVE_START,actor:U[B-1]};break;case 22:this.$={type:"activeEnd",signalType:Q.LINETYPE.ACTIVE_END,actor:U[B-1]};break;case 28:Q.setDiagramTitle(U[B].substring(6)),this.$=U[B].substring(6);break;case 29:Q.setDiagramTitle(U[B].substring(7)),this.$=U[B].substring(7);break;case 30:this.$=U[B].trim(),Q.setAccTitle(this.$);break;case 31:case 32:this.$=U[B].trim(),Q.setAccDescription(this.$);break;case 33:U[B-1].unshift({type:"loopStart",loopText:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.LOOP_START}),U[B-1].push({type:"loopEnd",loopText:U[B-2],signalType:Q.LINETYPE.LOOP_END}),this.$=U[B-1];break;case 34:U[B-1].unshift({type:"rectStart",color:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.RECT_START}),U[B-1].push({type:"rectEnd",color:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.RECT_END}),this.$=U[B-1];break;case 35:U[B-1].unshift({type:"optStart",optText:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.OPT_START}),U[B-1].push({type:"optEnd",optText:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.OPT_END}),this.$=U[B-1];break;case 36:U[B-1].unshift({type:"altStart",altText:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.ALT_START}),U[B-1].push({type:"altEnd",signalType:Q.LINETYPE.ALT_END}),this.$=U[B-1];break;case 37:U[B-1].unshift({type:"parStart",parText:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.PAR_START}),U[B-1].push({type:"parEnd",signalType:Q.LINETYPE.PAR_END}),this.$=U[B-1];break;case 38:U[B-1].unshift({type:"criticalStart",criticalText:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.CRITICAL_START}),U[B-1].push({type:"criticalEnd",signalType:Q.LINETYPE.CRITICAL_END}),this.$=U[B-1];break;case 39:U[B-1].unshift({type:"breakStart",breakText:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.BREAK_START}),U[B-1].push({type:"breakEnd",optText:Q.parseMessage(U[B-2]),signalType:Q.LINETYPE.BREAK_END}),this.$=U[B-1];break;case 42:this.$=U[B-3].concat([{type:"option",optionText:Q.parseMessage(U[B-1]),signalType:Q.LINETYPE.CRITICAL_OPTION},U[B]]);break;case 44:this.$=U[B-3].concat([{type:"and",parText:Q.parseMessage(U[B-1]),signalType:Q.LINETYPE.PAR_AND},U[B]]);break;case 46:this.$=U[B-3].concat([{type:"else",altText:Q.parseMessage(U[B-1]),signalType:Q.LINETYPE.ALT_ELSE},U[B]]);break;case 47:this.$=[U[B-1],{type:"addNote",placement:U[B-2],actor:U[B-1].actor,text:U[B]}];break;case 48:U[B-2]=[].concat(U[B-1],U[B-1]).slice(0,2),U[B-2][0]=U[B-2][0].actor,U[B-2][1]=U[B-2][1].actor,this.$=[U[B-1],{type:"addNote",placement:Q.PLACEMENT.OVER,actor:U[B-2].slice(0,2),text:U[B]}];break;case 49:this.$=[U[B-1],{type:"addLinks",actor:U[B-1].actor,text:U[B]}];break;case 50:this.$=[U[B-1],{type:"addALink",actor:U[B-1].actor,text:U[B]}];break;case 51:this.$=[U[B-1],{type:"addProperties",actor:U[B-1].actor,text:U[B]}];break;case 52:this.$=[U[B-1],{type:"addDetails",actor:U[B-1].actor,text:U[B]}];break;case 55:this.$=[U[B-2],U[B]];break;case 56:this.$=U[B];break;case 57:this.$=Q.PLACEMENT.LEFTOF;break;case 58:this.$=Q.PLACEMENT.RIGHTOF;break;case 59:this.$=[U[B-4],U[B-1],{type:"addMessage",from:U[B-4].actor,to:U[B-1].actor,signalType:U[B-3],msg:U[B]},{type:"activeStart",signalType:Q.LINETYPE.ACTIVE_START,actor:U[B-1]}];break;case 60:this.$=[U[B-4],U[B-1],{type:"addMessage",from:U[B-4].actor,to:U[B-1].actor,signalType:U[B-3],msg:U[B]},{type:"activeEnd",signalType:Q.LINETYPE.ACTIVE_END,actor:U[B-4]}];break;case 61:this.$=[U[B-3],U[B-1],{type:"addMessage",from:U[B-3].actor,to:U[B-1].actor,signalType:U[B-2],msg:U[B]}];break;case 62:this.$={type:"addParticipant",actor:U[B]};break;case 63:this.$=Q.LINETYPE.SOLID_OPEN;break;case 64:this.$=Q.LINETYPE.DOTTED_OPEN;break;case 65:this.$=Q.LINETYPE.SOLID;break;case 66:this.$=Q.LINETYPE.DOTTED;break;case 67:this.$=Q.LINETYPE.SOLID_CROSS;break;case 68:this.$=Q.LINETYPE.DOTTED_CROSS;break;case 69:this.$=Q.LINETYPE.SOLID_POINT;break;case 70:this.$=Q.LINETYPE.DOTTED_POINT;break;case 71:this.$=Q.parseMessage(U[B].trim().substring(1));break;case 72:Q.parseDirective("%%{","open_directive");break;case 73:Q.parseDirective(U[B],"type_directive");break;case 74:U[B]=U[B].trim().replace(/'/g,'"'),Q.parseDirective(U[B],"arg_directive");break;case 75:Q.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:e,5:n,6:4,7:i,11:6,79:s},{1:[3]},{3:8,4:e,5:n,6:4,7:i,11:6,79:s},{3:9,4:e,5:n,6:4,7:i,11:6,79:s},{3:10,4:e,5:n,6:4,7:i,11:6,79:s},t([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],o,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:l,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:y,25:b,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:O,34:I,36:R,38:Y,39:V,41:X,42:J,43:st,45:lt,47:tt,49:at,53:q,58:z,59:$,60:N,61:j,69:A,79:s},{13:49,14:[1,50],82:gt},t([14,82],[2,73]),t(L,[2,6]),{6:41,10:52,11:6,16:f,17:42,20:g,21:20,22:y,25:b,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:O,34:I,36:R,38:Y,39:V,41:X,42:J,43:st,45:lt,47:tt,49:at,53:q,58:z,59:$,60:N,61:j,69:A,79:s},t(L,[2,8]),t(L,[2,9]),{17:53,69:A},{17:54,69:A},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:A},{17:60,69:A},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},t(L,[2,28]),t(L,[2,29]),{35:[1,66]},{37:[1,67]},t(L,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},t(L,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:A},{17:89,69:A},{17:90,69:A},{17:91,69:A},t([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},t(L,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},t(L,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},t(L,[2,20]),{5:[1,102]},{5:[1,103]},t(L,[2,23]),t(L,[2,24]),t(L,[2,25]),t(L,[2,26]),t(L,[2,27]),t(L,[2,30]),t(L,[2,31]),t(Dt,o,{8:104}),t(Dt,o,{8:105}),t(Dt,o,{8:106}),t(ue,o,{44:107,8:108}),t(qt,o,{46:109,8:110}),t(ut,o,{48:111,8:112}),t(Dt,o,{8:113}),{17:116,67:[1,114],68:[1,115],69:A},t(Ct,[2,63]),t(Ct,[2,64]),t(Ct,[2,65]),t(Ct,[2,66]),t(Ct,[2,67]),t(Ct,[2,68]),t(Ct,[2,69]),t(Ct,[2,70]),{17:117,69:A},{17:119,57:118,69:A},{69:[2,57]},{69:[2,58]},{55:120,78:vt},{55:122,78:vt},{55:123,78:vt},{55:124,78:vt},t(xt,[2,10]),{13:125,82:gt},{82:[2,74]},{19:[1,126]},t(L,[2,13]),{19:[1,127]},t(L,[2,15]),{5:[1,128]},t(L,[2,18]),t(L,[2,19]),t(L,[2,21]),t(L,[2,22]),{4:l,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:y,25:b,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:O,34:I,36:R,38:Y,39:V,40:[1,129],41:X,42:J,43:st,45:lt,47:tt,49:at,53:q,58:z,59:$,60:N,61:j,69:A,79:s},{4:l,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:y,25:b,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:O,34:I,36:R,38:Y,39:V,40:[1,130],41:X,42:J,43:st,45:lt,47:tt,49:at,53:q,58:z,59:$,60:N,61:j,69:A,79:s},{4:l,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:y,25:b,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:O,34:I,36:R,38:Y,39:V,40:[1,131],41:X,42:J,43:st,45:lt,47:tt,49:at,53:q,58:z,59:$,60:N,61:j,69:A,79:s},{40:[1,132]},{4:l,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:y,25:b,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:O,34:I,36:R,38:Y,39:V,40:[2,45],41:X,42:J,43:st,45:lt,47:tt,49:at,52:[1,133],53:q,58:z,59:$,60:N,61:j,69:A,79:s},{40:[1,134]},{4:l,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:y,25:b,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:O,34:I,36:R,38:Y,39:V,40:[2,43],41:X,42:J,43:st,45:lt,47:tt,49:at,51:[1,135],53:q,58:z,59:$,60:N,61:j,69:A,79:s},{40:[1,136]},{4:l,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:y,25:b,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:O,34:I,36:R,38:Y,39:V,40:[2,41],41:X,42:J,43:st,45:lt,47:tt,49:at,50:[1,137],53:q,58:z,59:$,60:N,61:j,69:A,79:s},{4:l,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:g,21:20,22:y,25:b,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:O,34:I,36:R,38:Y,39:V,40:[1,138],41:X,42:J,43:st,45:lt,47:tt,49:at,53:q,58:z,59:$,60:N,61:j,69:A,79:s},{17:139,69:A},{17:140,69:A},{55:141,78:vt},{55:142,78:vt},{55:143,78:vt},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},t(L,[2,17]),t(L,[2,33]),t(L,[2,34]),t(L,[2,35]),t(L,[2,36]),{19:[1,148]},t(L,[2,37]),{19:[1,149]},t(L,[2,38]),{19:[1,150]},t(L,[2,39]),{55:151,78:vt},{55:152,78:vt},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:A},t(xt,[2,11]),t(L,[2,12]),t(L,[2,14]),t(ue,o,{8:108,44:154}),t(qt,o,{8:110,46:155}),t(ut,o,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(et,it){if(it.recoverable)this.trace(et);else{var dt=new Error(et);throw dt.hash=it,dt}},parse:function(et){var it=this,dt=[0],Q=[],G=[null],U=[],yt=this.table,B="",It=0,rt=0,Ae=2,bt=1,de=U.slice.call(arguments,1),Jt=Object.create(this.lexer),$t={yy:{}};for(var te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,te)&&($t.yy[te]=this.yy[te]);Jt.setInput(et,$t.yy),$t.yy.lexer=Jt,$t.yy.parser=this,typeof Jt.yylloc=="undefined"&&(Jt.yylloc={});var Xt=Jt.yylloc;U.push(Xt);var Ft=Jt.options&&Jt.options.ranges;typeof $t.yy.parseError=="function"?this.parseError=$t.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function wt(){var Bt;return Bt=Q.pop()||Jt.lex()||bt,typeof Bt!="number"&&(Bt instanceof Array&&(Q=Bt,Bt=Q.pop()),Bt=it.symbols_[Bt]||Bt),Bt}for(var dn,We,Ue,je,Ve={},Un,Fe,Le,Ee;;){if(We=dt[dt.length-1],this.defaultActions[We]?Ue=this.defaultActions[We]:((dn===null||typeof dn=="undefined")&&(dn=wt()),Ue=yt[We]&&yt[We][dn]),typeof Ue=="undefined"||!Ue.length||!Ue[0]){var Wt="";Ee=[];for(Un in yt[We])this.terminals_[Un]&&Un>Ae&&Ee.push("'"+this.terminals_[Un]+"'");Jt.showPosition?Wt="Parse error on line "+(It+1)+`:
`+Jt.showPosition()+`
Expecting `+Ee.join(", ")+", got '"+(this.terminals_[dn]||dn)+"'":Wt="Parse error on line "+(It+1)+": Unexpected "+(dn==bt?"end of input":"'"+(this.terminals_[dn]||dn)+"'"),this.parseError(Wt,{text:Jt.match,token:this.terminals_[dn]||dn,line:Jt.yylineno,loc:Xt,expected:Ee})}if(Ue[0]instanceof Array&&Ue.length>1)throw new Error("Parse Error: multiple actions possible at state: "+We+", token: "+dn);switch(Ue[0]){case 1:dt.push(dn),G.push(Jt.yytext),U.push(Jt.yylloc),dt.push(Ue[1]),dn=null,rt=Jt.yyleng,B=Jt.yytext,It=Jt.yylineno,Xt=Jt.yylloc;break;case 2:if(Fe=this.productions_[Ue[1]][1],Ve.$=G[G.length-Fe],Ve._$={first_line:U[U.length-(Fe||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(Fe||1)].first_column,last_column:U[U.length-1].last_column},Ft&&(Ve._$.range=[U[U.length-(Fe||1)].range[0],U[U.length-1].range[1]]),je=this.performAction.apply(Ve,[B,rt,It,$t.yy,Ue[1],G,U].concat(de)),typeof je!="undefined")return je;Fe&&(dt=dt.slice(0,-1*Fe*2),G=G.slice(0,-1*Fe),U=U.slice(0,-1*Fe)),dt.push(this.productions_[Ue[1]][0]),G.push(Ve.$),U.push(Ve._$),Le=yt[dt[dt.length-2]][dt[dt.length-1]],dt.push(Le);break;case 3:return!0}}return!0}},Ht=function(){var _e={EOF:1,parseError:function(it,dt){if(this.yy.parser)this.yy.parser.parseError(it,dt);else throw new Error(it)},setInput:function(et,it){return this.yy=it||this.yy||{},this._input=et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var et=this._input[0];this.yytext+=et,this.yyleng++,this.offset++,this.match+=et,this.matched+=et;var it=et.match(/(?:\r\n?|\n).*/g);return it?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),et},unput:function(et){var it=et.length,dt=et.split(/(?:\r\n?|\n)/g);this._input=et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-it),this.offset-=it;var Q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),dt.length-1&&(this.yylineno-=dt.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:dt?(dt.length===Q.length?this.yylloc.first_column:0)+Q[Q.length-dt.length].length-dt[0].length:this.yylloc.first_column-it},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-it]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(et){this.unput(this.match.slice(et))},pastInput:function(){var et=this.matched.substr(0,this.matched.length-this.match.length);return(et.length>20?"...":"")+et.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var et=this.match;return et.length<20&&(et+=this._input.substr(0,20-et.length)),(et.substr(0,20)+(et.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var et=this.pastInput(),it=new Array(et.length+1).join("-");return et+this.upcomingInput()+`
`+it+"^"},test_match:function(et,it){var dt,Q,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),Q=et[0].match(/(?:\r\n?|\n).*/g),Q&&(this.yylineno+=Q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Q?Q[Q.length-1].length-Q[Q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+et[0].length},this.yytext+=et[0],this.match+=et[0],this.matches=et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(et[0].length),this.matched+=et[0],dt=this.performAction.call(this,this.yy,this,it,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),dt)return dt;if(this._backtrack){for(var U in G)this[U]=G[U];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var et,it,dt,Q;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),U=0;U<G.length;U++)if(dt=this._input.match(this.rules[G[U]]),dt&&(!it||dt[0].length>it[0].length)){if(it=dt,Q=U,this.options.backtrack_lexer){if(et=this.test_match(dt,G[U]),et!==!1)return et;if(this._backtrack){it=!1;continue}else return!1}else if(!this.options.flex)break}return it?(et=this.test_match(it,G[Q]),et!==!1?et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var it=this.next();return it||this.lex()},begin:function(it){this.conditionStack.push(it)},popState:function(){var it=this.conditionStack.length-1;return it>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(it){return it=this.conditionStack.length-1-Math.abs(it||0),it>=0?this.conditionStack[it]:"INITIAL"},pushState:function(it){this.begin(it)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(it,dt,Q,G){switch(Q){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return dt.yytext=dt.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return dt.yytext=dt.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return _e}();Ot.lexer=Ht;function ft(){this.yy={}}return ft.prototype=Ot,Ot.Parser=ft,new ft}();H2.parser=H2;const XG=H2,KG=t=>t.match(/^\s*sequenceDiagram/)!==null;let nd,Yo={},Gs=[],b0=!1,W2;const ZG=function(t,e,n){Tr.parseDirective(this,t,e,n)},j2=function(t,e,n,i){const s=Yo[t];s&&e===s.name&&n==null||((n==null||n.text==null)&&(n={text:e,wrap:null,type:i}),(i==null||n.text==null)&&(n={text:e,wrap:null,type:i}),Yo[t]={name:e,description:n.text,wrap:n.wrap===void 0&&du()||!!n.wrap,prevActor:nd,links:{},properties:{},actorCnt:null,rectData:null,type:i||"participant"},nd&&Yo[nd]&&(Yo[nd].nextActor=t),nd=t)},QG=t=>{let e,n=0;for(e=0;e<Gs.length;e++)Gs[e].type===id.ACTIVE_START&&Gs[e].from.actor===t&&n++,Gs[e].type===id.ACTIVE_END&&Gs[e].from.actor===t&&n--;return n},JG=function(t,e,n,i){Gs.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&du()||!!n.wrap,answer:i})},$r=function(t,e,n={text:void 0,wrap:void 0},i){if(i===id.ACTIVE_END&&QG(t.actor)<1){let o=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}return Gs.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&du()||!!n.wrap,type:i}),!0},tX=function(){return Gs},eX=function(){return Yo},rd=function(t){return Yo[t]},nX=function(){return Object.keys(Yo)},rX=function(){b0=!0},iX=function(){b0=!1},sX=()=>b0,aX=function(t){W2=t},du=()=>W2!==void 0?W2:ht().sequence.wrap,oX=function(){Yo={},Gs=[],b0=!1,Ps()},lX=function(t){const e=t.trim(),n={text:e.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:e.match(/^:?wrap:/)!==null?!0:e.match(/^:?nowrap:/)!==null?!1:void 0};return E.debug("parseMessage:",n),n},id={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},cX={FILLED:0,OPEN:1},uX={LEFTOF:0,RIGHTOF:1,OVER:2},Tw=function(t,e,n){n.text,n.wrap===void 0&&du()||n.wrap;const i=[].concat(t,t);Gs.push({from:i[0],to:i[1],message:n.text,wrap:n.wrap===void 0&&du()||!!n.wrap,type:id.NOTE,placement:e})},Ew=function(t,e){const n=rd(t);try{let i=Ds(e.text,ht());i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");const s=JSON.parse(i);q2(n,s)}catch(i){E.error("error while parsing actor link text",i)}},hX=function(t,e){const n=rd(t);try{const l={};let h=Ds(e.text,ht());var i=h.indexOf("@");h=h.replace(/&amp;/g,"&"),h=h.replace(/&equals;/g,"=");var s=h.slice(0,i-1).trim(),o=h.slice(i+1).trim();l[s]=o,q2(n,l)}catch(l){E.error("error while parsing actor link text",l)}};function q2(t,e){if(t.links==null)t.links=e;else for(let n in e)t.links[n]=e[n]}const Cw=function(t,e){const n=rd(t);try{let i=Ds(e.text,ht());const s=JSON.parse(i);Sw(n,s)}catch(i){E.error("error while parsing actor properties text",i)}};function Sw(t,e){if(t.properties==null)t.properties=e;else for(let n in e)t.properties[n]=e[n]}const Aw=function(t,e){const n=rd(t),i=document.getElementById(e.text);try{const s=i.innerHTML,o=JSON.parse(s);o.properties&&Sw(n,o.properties),o.links&&q2(n,o.links)}catch(s){E.error("error while parsing actor details text",s)}},dX=function(t,e){if(t!==void 0&&t.properties!==void 0)return t.properties[e]},Lw=function(t){if(Array.isArray(t))t.forEach(function(e){Lw(e)});else switch(t.type){case"sequenceIndex":Gs.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":j2(t.actor,t.actor,t.description,"participant");break;case"addActor":j2(t.actor,t.actor,t.description,"actor");break;case"activeStart":$r(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":$r(t.actor,void 0,void 0,t.signalType);break;case"addNote":Tw(t.actor,t.placement,t.text);break;case"addLinks":Ew(t.actor,t.text);break;case"addALink":hX(t.actor,t.text);break;case"addProperties":Cw(t.actor,t.text);break;case"addDetails":Aw(t.actor,t.text);break;case"addMessage":$r(t.from,t.to,t.msg,t.signalType);break;case"loopStart":$r(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":$r(void 0,void 0,void 0,t.signalType);break;case"rectStart":$r(void 0,void 0,t.color,t.signalType);break;case"rectEnd":$r(void 0,void 0,void 0,t.signalType);break;case"optStart":$r(void 0,void 0,t.optText,t.signalType);break;case"optEnd":$r(void 0,void 0,void 0,t.signalType);break;case"altStart":$r(void 0,void 0,t.altText,t.signalType);break;case"else":$r(void 0,void 0,t.altText,t.signalType);break;case"altEnd":$r(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":vs(t.text);break;case"parStart":$r(void 0,void 0,t.parText,t.signalType);break;case"and":$r(void 0,void 0,t.parText,t.signalType);break;case"parEnd":$r(void 0,void 0,void 0,t.signalType);break;case"criticalStart":$r(void 0,void 0,t.criticalText,t.signalType);break;case"option":$r(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":$r(void 0,void 0,void 0,t.signalType);break;case"breakStart":$r(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":$r(void 0,void 0,void 0,t.signalType);break}},Ow={addActor:j2,addMessage:JG,addSignal:$r,addLinks:Ew,addDetails:Aw,addProperties:Cw,autoWrap:du,setWrap:aX,enableSequenceNumbers:rX,disableSequenceNumbers:iX,showSequenceNumbers:sX,getMessages:tX,getActors:eX,getActor:rd,getActorKeys:nX,getActorProperty:dX,getAccTitle:Vs,getDiagramTitle:Xa,setDiagramTitle:Ga,parseDirective:ZG,getConfig:()=>ht().sequence,clear:oX,parseMessage:lX,LINETYPE:id,ARROWTYPE:cX,PLACEMENT:uX,addNote:Tw,setAccTitle:vs,apply:Lw,setAccDescription:$s,getAccDescription:Ys};let G2=[];const fX=t=>{G2.push(t)},Mw=()=>{G2.forEach(t=>{t()}),G2=[]},v0=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.class!==void 0&&n.attr("class",e.class),n},Nw=(t,e)=>{fX(()=>{const n=document.querySelectorAll(t);n.length!==0&&(n[0].addEventListener("mouseover",function(){yX("actor"+e+"_popup")}),n[0].addEventListener("mouseout",function(){_X("actor"+e+"_popup")}))})},pX=function(t,e,n,i,s){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const o=e.links,l=e.actorCnt,h=e.rectData;var f="none";s&&(f="block !important");const g=t.append("g");g.attr("id","actor"+l+"_popup"),g.attr("class","actorPopupMenu"),g.attr("display",f),Nw("#actor"+l+"_popup",l);var y="";h.class!==void 0&&(y=" "+h.class);let b=h.width>n?h.width:n;const x=g.append("rect");if(x.attr("class","actorPopupMenuPanel"+y),x.attr("x",h.x),x.attr("y",h.height),x.attr("fill",h.fill),x.attr("stroke",h.stroke),x.attr("width",b),x.attr("height",h.height),x.attr("rx",h.rx),x.attr("ry",h.ry),o!=null){var k=20;for(let R in o){var O=g.append("a"),I=ot(o[R]);O.attr("xlink:href",I),O.attr("target","_blank"),DX(i)(R,O,h.x+10,h.height+k,b,20,{class:"actor"},i),k+=30}}return x.attr("height",k),{height:h.height+k,width:b}},Dw=function(t,e,n,i){const s=t.append("image");s.attr("x",e),s.attr("y",n);var o=ot(i);s.attr("xlink:href",o)},Iw=function(t,e,n,i){const s=t.append("use");s.attr("x",e),s.attr("y",n);var o=ot(i);s.attr("xlink:href","#"+o)},gX=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'block'; }"},mX=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'none'; }"},yX=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="block")},_X=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="none")},fu=function(t,e){let n=0,i=0;const s=e.text.split(gn.lineBreakRegex);let o=[],l=0,h=()=>e.y;if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":h=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":h=()=>Math.round(e.y+(n+i+e.textMargin)/2);break;case"bottom":case"end":h=()=>Math.round(e.y+(n+i+2*e.textMargin)-e.textMargin);break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[f,g]of s.entries()){e.textMargin!==void 0&&e.textMargin===0&&e.fontSize!==void 0&&(l=f*e.fontSize);const y=t.append("text");if(y.attr("x",e.x),y.attr("y",h()),e.anchor!==void 0&&y.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&y.style("font-family",e.fontFamily),e.fontSize!==void 0&&y.style("font-size",e.fontSize),e.fontWeight!==void 0&&y.style("font-weight",e.fontWeight),e.fill!==void 0&&y.attr("fill",e.fill),e.class!==void 0&&y.attr("class",e.class),e.dy!==void 0?y.attr("dy",e.dy):l!==0&&y.attr("dy",l),e.tspan){const b=y.append("tspan");b.attr("x",e.x),e.fill!==void 0&&b.attr("fill",e.fill),b.text(g)}else y.text(g);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(i+=(y._groups||y)[0][0].getBBox().height,n=i),o.push(y)}return o},Rw=function(t,e){function n(s,o,l,h,f){return s+","+o+" "+(s+l)+","+o+" "+(s+l)+","+(o+h-f)+" "+(s+l-f*1.2)+","+(o+h)+" "+s+","+(o+h)}const i=t.append("polygon");return i.attr("points",n(e.x,e.y,e.width,e.height,7)),i.attr("class","labelBox"),e.y=e.y+e.height/2,fu(t,e),i};let Ta=-1;const Bw=(t,e)=>{!t.selectAll||t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},bX=function(t,e,n){const i=e.x+e.width/2,s=t.append("g");var o=s;e.y===0&&(Ta++,o.append("line").attr("id","actor"+Ta).attr("x1",i).attr("y1",5).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),o=s.append("g"),e.actorCnt=Ta,e.links!=null&&(o.attr("id","root-"+Ta),Nw("#root-"+Ta,Ta)));const l=x0();var h="actor";e.properties!=null&&e.properties.class?h=e.properties.class:l.fill="#eaeaea",l.x=e.x,l.y=e.y,l.width=e.width,l.height=e.height,l.class=h,l.rx=3,l.ry=3;const f=v0(o,l);if(e.rectData=l,e.properties!=null&&e.properties.icon){const y=e.properties.icon.trim();y.charAt(0)==="@"?Iw(o,l.x+l.width-20,l.y+10,y.substr(1)):Dw(o,l.x+l.width-20,l.y+10,y)}Fw(n)(e.description,o,l.x,l.y,l.width,l.height,{class:"actor"},n);let g=e.height;if(f.node){const y=f.node().getBBox();e.height=y.height,g=y.height}return g},vX=function(t,e,n){const i=e.x+e.width/2;e.y===0&&(Ta++,t.append("line").attr("id","actor"+Ta).attr("x1",i).attr("y1",80).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const s=t.append("g");s.attr("class","actor-man");const o=x0();o.x=e.x,o.y=e.y,o.fill="#eaeaea",o.width=e.width,o.height=e.height,o.class="actor",o.rx=3,o.ry=3,s.append("line").attr("id","actor-man-torso"+Ta).attr("x1",i).attr("y1",e.y+25).attr("x2",i).attr("y2",e.y+45),s.append("line").attr("id","actor-man-arms"+Ta).attr("x1",i-18).attr("y1",e.y+33).attr("x2",i+18).attr("y2",e.y+33),s.append("line").attr("x1",i-18).attr("y1",e.y+60).attr("x2",i).attr("y2",e.y+45),s.append("line").attr("x1",i).attr("y1",e.y+45).attr("x2",i+16).attr("y2",e.y+60);const l=s.append("circle");l.attr("cx",e.x+e.width/2),l.attr("cy",e.y+10),l.attr("r",15),l.attr("width",e.width),l.attr("height",e.height);const h=s.node().getBBox();return e.height=h.height,Fw(n)(e.description,s,o.x,o.y+35,o.width,o.height,{class:"actor"},n),e.height},xX=function(t,e,n){switch(e.type){case"actor":return vX(t,e,n);case"participant":return bX(t,e,n)}},kX=function(t){return t.append("g")},wX=function(t,e,n,i,s){const o=x0(),l=e.anchored;o.x=e.startx,o.y=e.starty,o.class="activation"+s%3,o.width=e.stopx-e.startx,o.height=n-e.starty,v0(l,o)},TX=function(t,e,n,i){const{boxMargin:s,boxTextMargin:o,labelBoxHeight:l,labelBoxWidth:h,messageFontFamily:f,messageFontSize:g,messageFontWeight:y}=i,b=t.append("g"),x=function(I,R,Y,V){return b.append("line").attr("x1",I).attr("y1",R).attr("x2",Y).attr("y2",V).attr("class","loopLine")};x(e.startx,e.starty,e.stopx,e.starty),x(e.stopx,e.starty,e.stopx,e.stopy),x(e.startx,e.stopy,e.stopx,e.stopy),x(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(I){x(e.startx,I.y,e.stopx,I.y).style("stroke-dasharray","3, 3")});let k=X2();k.text=n,k.x=e.startx,k.y=e.starty,k.fontFamily=f,k.fontSize=g,k.fontWeight=y,k.anchor="middle",k.valign="middle",k.tspan=!1,k.width=h||50,k.height=l||20,k.textMargin=o,k.class="labelText",Rw(b,k),k=X2(),k.text=e.title,k.x=e.startx+h/2+(e.stopx-e.startx)/2,k.y=e.starty+s+o,k.anchor="middle",k.valign="middle",k.textMargin=o,k.class="loopText",k.fontFamily=f,k.fontSize=g,k.fontWeight=y,k.wrap=!0;let O=fu(b,k);return e.sectionTitles!==void 0&&e.sectionTitles.forEach(function(I,R){if(I.message){k.text=I.message,k.x=e.startx+(e.stopx-e.startx)/2,k.y=e.sections[R].y+s+o,k.class="loopText",k.anchor="middle",k.valign="middle",k.tspan=!1,k.fontFamily=f,k.fontSize=g,k.fontWeight=y,k.wrap=e.wrap,O=fu(b,k);let Y=Math.round(O.map(V=>(V._groups||V)[0][0].getBBox().height).reduce((V,X)=>V+X));e.sections[R].height+=Y-(s+o)}}),e.height=Math.round(e.stopy-e.starty),b},EX=function(t,e){v0(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},CX=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},SX=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},AX=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},LX=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},OX=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},MX=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},NX=function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},X2=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},x0=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},Fw=function(){function t(s,o,l,h,f,g,y){const b=o.append("text").attr("x",l+f/2).attr("y",h+g/2+5).style("text-anchor","middle").text(s);i(b,y)}function e(s,o,l,h,f,g,y,b){const{actorFontSize:x,actorFontFamily:k,actorFontWeight:O}=b;let I=x&&x.replace?x.replace("px",""):x;const R=s.split(gn.lineBreakRegex);for(let Y=0;Y<R.length;Y++){const V=Y*I-I*(R.length-1)/2,X=o.append("text").attr("x",l+f/2).attr("y",h).style("text-anchor","middle").style("font-size",x).style("font-weight",O).style("font-family",k);X.append("tspan").attr("x",l+f/2).attr("dy",V).text(R[Y]),X.attr("y",h+g/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(X,y)}}function n(s,o,l,h,f,g,y,b){const x=o.append("switch"),O=x.append("foreignObject").attr("x",l).attr("y",h).attr("width",f).attr("height",g).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");O.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),e(s,x,l,h,f,g,y,b),i(O,y)}function i(s,o){for(const l in o)o.hasOwnProperty(l)&&s.attr(l,o[l])}return function(s){return s.textPlacement==="fo"?n:s.textPlacement==="old"?t:e}}(),DX=function(){function t(s,o,l,h,f,g,y){const b=o.append("text").attr("x",l).attr("y",h).style("text-anchor","start").text(s);i(b,y)}function e(s,o,l,h,f,g,y,b){const{actorFontSize:x,actorFontFamily:k,actorFontWeight:O}=b,I=s.split(gn.lineBreakRegex);for(let R=0;R<I.length;R++){const Y=R*x-x*(I.length-1)/2,V=o.append("text").attr("x",l).attr("y",h).style("text-anchor","start").style("font-size",x).style("font-weight",O).style("font-family",k);V.append("tspan").attr("x",l).attr("dy",Y).text(I[R]),V.attr("y",h+g/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(V,y)}}function n(s,o,l,h,f,g,y,b){const x=o.append("switch"),O=x.append("foreignObject").attr("x",l).attr("y",h).attr("width",f).attr("height",g).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");O.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),e(s,x,l,h,f,g,y,b),i(O,y)}function i(s,o){for(const l in o)o.hasOwnProperty(l)&&s.attr(l,o[l])}return function(s){return s.textPlacement==="fo"?n:s.textPlacement==="old"?t:e}}(),Mr={drawRect:v0,drawText:fu,drawLabel:Rw,drawActor:xX,drawPopup:pX,drawImage:Dw,drawEmbeddedImage:Iw,anchorElement:kX,drawActivation:wX,drawLoop:TX,drawBackgroundRect:EX,insertArrowHead:LX,insertArrowFilledHead:OX,insertSequenceNumber:MX,insertArrowCrossHead:NX,insertDatabaseIcon:CX,insertComputerIcon:SX,insertClockIcon:AX,getTextObj:X2,getNoteRect:x0,popupMenu:gX,popdownMenu:mX,fixLifeLineHeights:Bw,sanitizeUrl:ot};let At={};const ge={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Vw(ht())},updateVal:function(t,e,n,i){t[e]===void 0?t[e]=n:t[e]=i(n,t[e])},updateBounds:function(t,e,n,i){const s=this;let o=0;function l(h){return function(g){o++;const y=s.sequenceItems.length-o+1;s.updateVal(g,"starty",e-y*At.boxMargin,Math.min),s.updateVal(g,"stopy",i+y*At.boxMargin,Math.max),s.updateVal(ge.data,"startx",t-y*At.boxMargin,Math.min),s.updateVal(ge.data,"stopx",n+y*At.boxMargin,Math.max),h!=="activation"&&(s.updateVal(g,"startx",t-y*At.boxMargin,Math.min),s.updateVal(g,"stopx",n+y*At.boxMargin,Math.max),s.updateVal(ge.data,"starty",e-y*At.boxMargin,Math.min),s.updateVal(ge.data,"stopy",i+y*At.boxMargin,Math.max))}}this.sequenceItems.forEach(l()),this.activations.forEach(l("activation"))},insert:function(t,e,n,i){const s=Math.min(t,n),o=Math.max(t,n),l=Math.min(e,i),h=Math.max(e,i);this.updateVal(ge.data,"startx",s,Math.min),this.updateVal(ge.data,"starty",l,Math.min),this.updateVal(ge.data,"stopx",o,Math.max),this.updateVal(ge.data,"stopy",h,Math.max),this.updateBounds(s,l,o,h)},newActivation:function(t,e,n){const i=n[t.from.actor],s=k0(t.from.actor).length||0,o=i.x+i.width/2+(s-1)*At.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+At.activationWidth,stopy:void 0,actor:t.from.actor,anchored:Mr.anchorElement(e)})},endActivation:function(t){const e=this.activations.map(function(n){return n.actor}).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:ge.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},IX=function(t,e){ge.bumpVerticalPos(At.boxMargin),e.height=At.boxMargin,e.starty=ge.getVerticalPos();const n=Mr.getNoteRect();n.x=e.startx,n.y=e.starty,n.width=e.width||At.width,n.class="note";const i=t.append("g"),s=Mr.drawRect(i,n),o=Mr.getTextObj();o.x=e.startx,o.y=e.starty,o.width=n.width,o.dy="1em",o.text=e.message,o.class="noteText",o.fontFamily=At.noteFontFamily,o.fontSize=At.noteFontSize,o.fontWeight=At.noteFontWeight,o.anchor=At.noteAlign,o.textMargin=At.noteMargin,o.valign="center";const l=fu(i,o),h=Math.round(l.map(f=>(f._groups||f)[0][0].getBBox().height).reduce((f,g)=>f+g));s.attr("height",h+2*At.noteMargin),e.height+=h+2*At.noteMargin,ge.bumpVerticalPos(h+2*At.noteMargin),e.stopy=e.starty+h+2*At.noteMargin,e.stopx=e.startx+n.width,ge.insert(e.startx,e.starty,e.stopx,e.stopy),ge.models.addNote(e)},pu=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),gu=t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),K2=t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight});function RX(t,e){ge.bumpVerticalPos(10);const{startx:n,stopx:i,message:s}=e,o=gn.splitBreaks(s).length,l=kn.calculateTextDimensions(s,pu(At)),h=l.height/o;e.height+=h,ge.bumpVerticalPos(h);let f,g=l.height-10;const y=l.width;if(n===i){f=ge.getVerticalPos()+g,At.rightAngles||(g+=At.boxMargin,f=ge.getVerticalPos()+g),g+=30;const b=Math.max(y/2,At.width/2);ge.insert(n-b,ge.getVerticalPos()-10+g,i+b,ge.getVerticalPos()+30+g)}else g+=At.boxMargin,f=ge.getVerticalPos()+g,ge.insert(n,f-10,i,f);return ge.bumpVerticalPos(g),e.height+=g,e.stopy=e.starty+e.height,ge.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),f}const BX=function(t,e,n,i){const{startx:s,stopx:o,starty:l,message:h,type:f,sequenceIndex:g,sequenceVisible:y}=e,b=kn.calculateTextDimensions(h,pu(At)),x=Mr.getTextObj();x.x=s,x.y=l+10,x.width=o-s,x.class="messageText",x.dy="1em",x.text=h,x.fontFamily=At.messageFontFamily,x.fontSize=At.messageFontSize,x.fontWeight=At.messageFontWeight,x.anchor=At.messageAlign,x.valign="center",x.textMargin=At.wrapPadding,x.tspan=!1,fu(t,x);const k=b.width;let O;s===o?At.rightAngles?O=t.append("path").attr("d",`M  ${s},${n} H ${s+Math.max(At.width/2,k/2)} V ${n+25} H ${s}`):O=t.append("path").attr("d","M "+s+","+n+" C "+(s+60)+","+(n-10)+" "+(s+60)+","+(n+30)+" "+s+","+(n+20)):(O=t.append("line"),O.attr("x1",s),O.attr("y1",n),O.attr("x2",o),O.attr("y2",n)),f===i.db.LINETYPE.DOTTED||f===i.db.LINETYPE.DOTTED_CROSS||f===i.db.LINETYPE.DOTTED_POINT||f===i.db.LINETYPE.DOTTED_OPEN?(O.style("stroke-dasharray","3, 3"),O.attr("class","messageLine1")):O.attr("class","messageLine0");let I="";At.arrowMarkerAbsolute&&(I=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,I=I.replace(/\(/g,"\\("),I=I.replace(/\)/g,"\\)")),O.attr("stroke-width",2),O.attr("stroke","none"),O.style("fill","none"),(f===i.db.LINETYPE.SOLID||f===i.db.LINETYPE.DOTTED)&&O.attr("marker-end","url("+I+"#arrowhead)"),(f===i.db.LINETYPE.SOLID_POINT||f===i.db.LINETYPE.DOTTED_POINT)&&O.attr("marker-end","url("+I+"#filled-head)"),(f===i.db.LINETYPE.SOLID_CROSS||f===i.db.LINETYPE.DOTTED_CROSS)&&O.attr("marker-end","url("+I+"#crosshead)"),(y||At.showSequenceNumbers)&&(O.attr("marker-start","url("+I+"#sequencenumber)"),t.append("text").attr("x",s).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(g))},Z2=function(t,e,n,i,s,o){if(s.hideUnusedParticipants===!0){const g=new Set;o.forEach(y=>{g.add(y.from),g.add(y.to)}),n=n.filter(y=>g.has(y))}let l=0,h=0,f=0;for(const g of n){const y=e[g];y.width=y.width||At.width,y.height=Math.max(y.height||At.height,At.height),y.margin=y.margin||At.actorMargin,y.x=l+h,y.y=i;const b=Mr.drawActor(t,y,At);f=Math.max(f,b),ge.insert(y.x,i,y.x+y.width,y.height),l+=y.width,h+=y.margin,ge.models.addActor(y)}ge.bumpVerticalPos(f)},Pw=function(t,e,n,i){let s=0,o=0;for(const l of n){const h=e[l],f=VX(h),g=Mr.drawPopup(t,h,f,At,At.forceMenus,i);g.height>s&&(s=g.height),g.width+h.x>o&&(o=g.width+h.x)}return{maxHeight:s,maxWidth:o}},Vw=function(t){li(At,t),t.fontFamily&&(At.actorFontFamily=At.noteFontFamily=At.messageFontFamily=t.fontFamily),t.fontSize&&(At.actorFontSize=At.noteFontSize=At.messageFontSize=t.fontSize),t.fontWeight&&(At.actorFontWeight=At.noteFontWeight=At.messageFontWeight=t.fontWeight)},k0=function(t){return ge.activations.filter(function(e){return e.actor===t})},$w=function(t,e){const n=e[t],i=k0(t),s=i.reduce(function(l,h){return Math.min(l,h.startx)},n.x+n.width/2),o=i.reduce(function(l,h){return Math.max(l,h.stopx)},n.x+n.width/2);return[s,o]};function Ea(t,e,n,i,s){ge.bumpVerticalPos(n);let o=i;if(e.id&&e.message&&t[e.id]){const l=t[e.id].width,h=pu(At);e.message=kn.wrapLabel(`[${e.message}]`,l-2*At.wrapPadding,h),e.width=l,e.wrap=!0;const f=kn.calculateTextDimensions(e.message,h),g=Math.max(f.height,At.labelBoxHeight);o=i+g,E.debug(`${g} - ${e.message}`)}s(e),ge.bumpVerticalPos(o)}const FX=function(t,e,n,i){const{securityLevel:s,sequence:o}=ht();At=o;let l;s==="sandbox"&&(l=re("#i"+e));const h=re(s==="sandbox"?l.nodes()[0].contentDocument.body:"body"),f=s==="sandbox"?l.nodes()[0].contentDocument:document;ge.init(),E.debug(i.db);const g=s==="sandbox"?h.select(`[id="${e}"]`):re(`[id="${e}"]`),y=i.db.getActors(),b=i.db.getActorKeys(),x=i.db.getMessages(),k=i.db.getDiagramTitle(),O=PX(y,x,i);At.height=$X(y,O),Mr.insertComputerIcon(g),Mr.insertDatabaseIcon(g),Mr.insertClockIcon(g),Z2(g,y,b,0,At,x);const I=zX(x,y,O,i);Mr.insertArrowHead(g),Mr.insertArrowCrossHead(g),Mr.insertArrowFilledHead(g),Mr.insertSequenceNumber(g);function R(N,j){const A=ge.endActivation(N);A.starty+18>j&&(A.starty=j-6,j+=12),Mr.drawActivation(g,A,j,At,k0(N.from.actor).length),ge.insert(A.startx,j-10,A.stopx,j)}let Y=1,V=1;const X=[];x.forEach(function(N){let j,A,gt;switch(N.type){case i.db.LINETYPE.NOTE:A=N.noteModel,IX(g,A);break;case i.db.LINETYPE.ACTIVE_START:ge.newActivation(N,g,y);break;case i.db.LINETYPE.ACTIVE_END:R(N,ge.getVerticalPos());break;case i.db.LINETYPE.LOOP_START:Ea(I,N,At.boxMargin,At.boxMargin+At.boxTextMargin,L=>ge.newLoop(L));break;case i.db.LINETYPE.LOOP_END:j=ge.endLoop(),Mr.drawLoop(g,j,"loop",At),ge.bumpVerticalPos(j.stopy-ge.getVerticalPos()),ge.models.addLoop(j);break;case i.db.LINETYPE.RECT_START:Ea(I,N,At.boxMargin,At.boxMargin,L=>ge.newLoop(void 0,L.message));break;case i.db.LINETYPE.RECT_END:j=ge.endLoop(),Mr.drawBackgroundRect(g,j),ge.models.addLoop(j),ge.bumpVerticalPos(j.stopy-ge.getVerticalPos());break;case i.db.LINETYPE.OPT_START:Ea(I,N,At.boxMargin,At.boxMargin+At.boxTextMargin,L=>ge.newLoop(L));break;case i.db.LINETYPE.OPT_END:j=ge.endLoop(),Mr.drawLoop(g,j,"opt",At),ge.bumpVerticalPos(j.stopy-ge.getVerticalPos()),ge.models.addLoop(j);break;case i.db.LINETYPE.ALT_START:Ea(I,N,At.boxMargin,At.boxMargin+At.boxTextMargin,L=>ge.newLoop(L));break;case i.db.LINETYPE.ALT_ELSE:Ea(I,N,At.boxMargin+At.boxTextMargin,At.boxMargin,L=>ge.addSectionToLoop(L));break;case i.db.LINETYPE.ALT_END:j=ge.endLoop(),Mr.drawLoop(g,j,"alt",At),ge.bumpVerticalPos(j.stopy-ge.getVerticalPos()),ge.models.addLoop(j);break;case i.db.LINETYPE.PAR_START:Ea(I,N,At.boxMargin,At.boxMargin+At.boxTextMargin,L=>ge.newLoop(L));break;case i.db.LINETYPE.PAR_AND:Ea(I,N,At.boxMargin+At.boxTextMargin,At.boxMargin,L=>ge.addSectionToLoop(L));break;case i.db.LINETYPE.PAR_END:j=ge.endLoop(),Mr.drawLoop(g,j,"par",At),ge.bumpVerticalPos(j.stopy-ge.getVerticalPos()),ge.models.addLoop(j);break;case i.db.LINETYPE.AUTONUMBER:Y=N.message.start||Y,V=N.message.step||V,N.message.visible?i.db.enableSequenceNumbers():i.db.disableSequenceNumbers();break;case i.db.LINETYPE.CRITICAL_START:Ea(I,N,At.boxMargin,At.boxMargin+At.boxTextMargin,L=>ge.newLoop(L));break;case i.db.LINETYPE.CRITICAL_OPTION:Ea(I,N,At.boxMargin+At.boxTextMargin,At.boxMargin,L=>ge.addSectionToLoop(L));break;case i.db.LINETYPE.CRITICAL_END:j=ge.endLoop(),Mr.drawLoop(g,j,"critical",At),ge.bumpVerticalPos(j.stopy-ge.getVerticalPos()),ge.models.addLoop(j);break;case i.db.LINETYPE.BREAK_START:Ea(I,N,At.boxMargin,At.boxMargin+At.boxTextMargin,L=>ge.newLoop(L));break;case i.db.LINETYPE.BREAK_END:j=ge.endLoop(),Mr.drawLoop(g,j,"break",At),ge.bumpVerticalPos(j.stopy-ge.getVerticalPos()),ge.models.addLoop(j);break;default:try{gt=N.msgModel,gt.starty=ge.getVerticalPos(),gt.sequenceIndex=Y,gt.sequenceVisible=i.db.showSequenceNumbers();const L=RX(g,gt);X.push({messageModel:gt,lineStartY:L}),ge.models.addMessage(gt)}catch(L){E.error("error while drawing message",L)}}[i.db.LINETYPE.SOLID_OPEN,i.db.LINETYPE.DOTTED_OPEN,i.db.LINETYPE.SOLID,i.db.LINETYPE.DOTTED,i.db.LINETYPE.SOLID_CROSS,i.db.LINETYPE.DOTTED_CROSS,i.db.LINETYPE.SOLID_POINT,i.db.LINETYPE.DOTTED_POINT].includes(N.type)&&(Y=Y+V)}),X.forEach(N=>BX(g,N.messageModel,N.lineStartY,i)),At.mirrorActors&&(ge.bumpVerticalPos(At.boxMargin*2),Z2(g,y,b,ge.getVerticalPos(),At,x),ge.bumpVerticalPos(At.boxMargin),Bw(g,ge.getVerticalPos()));const J=Pw(g,y,b,f),{bounds:st}=ge.getBounds();E.debug("For line height fix Querying: #"+e+" .actor-line"),Jp("#"+e+" .actor-line").attr("y2",st.stopy);let tt=st.stopy-st.starty;tt<J.maxHeight&&(tt=J.maxHeight);let at=tt+2*At.diagramMarginY;At.mirrorActors&&(at=at-At.boxMargin+At.bottomMarginAdj);let q=st.stopx-st.startx;q<J.maxWidth&&(q=J.maxWidth);const z=q+2*At.diagramMarginX;k&&g.append("text").text(k).attr("x",(st.stopx-st.startx)/2-2*At.diagramMarginX).attr("y",-25),Fs(g,at,z,At.useMaxWidth);const $=k?40:0;g.attr("viewBox",st.startx-At.diagramMarginX+" -"+(At.diagramMarginY+$)+" "+z+" "+(at+$)),E.debug("models:",ge.models)};function PX(t,e,n){const i={};return e.forEach(function(s){if(t[s.to]&&t[s.from]){const o=t[s.to];if(s.placement===n.db.PLACEMENT.LEFTOF&&!o.prevActor||s.placement===n.db.PLACEMENT.RIGHTOF&&!o.nextActor)return;const l=s.placement!==void 0,h=!l,f=l?gu(At):pu(At),g=s.wrap?kn.wrapLabel(s.message,At.width-2*At.wrapPadding,f):s.message,b=kn.calculateTextDimensions(g,f).width+2*At.wrapPadding;h&&s.from===o.nextActor?i[s.to]=Math.max(i[s.to]||0,b):h&&s.from===o.prevActor?i[s.from]=Math.max(i[s.from]||0,b):h&&s.from===s.to?(i[s.from]=Math.max(i[s.from]||0,b/2),i[s.to]=Math.max(i[s.to]||0,b/2)):s.placement===n.db.PLACEMENT.RIGHTOF?i[s.from]=Math.max(i[s.from]||0,b):s.placement===n.db.PLACEMENT.LEFTOF?i[o.prevActor]=Math.max(i[o.prevActor]||0,b):s.placement===n.db.PLACEMENT.OVER&&(o.prevActor&&(i[o.prevActor]=Math.max(i[o.prevActor]||0,b/2)),o.nextActor&&(i[s.from]=Math.max(i[s.from]||0,b/2)))}}),E.debug("maxMessageWidthPerActor:",i),i}const VX=function(t){let e=0;const n=K2(At);for(const i in t.links){const o=kn.calculateTextDimensions(i,n).width+2*At.wrapPadding+2*At.boxMargin;e<o&&(e=o)}return e};function $X(t,e){let n=0;Object.keys(t).forEach(i=>{const s=t[i];s.wrap&&(s.description=kn.wrapLabel(s.description,At.width-2*At.wrapPadding,K2(At)));const o=kn.calculateTextDimensions(s.description,K2(At));s.width=s.wrap?At.width:Math.max(At.width,o.width+2*At.wrapPadding),s.height=s.wrap?Math.max(o.height,At.height):At.height,n=Math.max(n,s.height)});for(const i in e){const s=t[i];if(!s)continue;const o=t[s.nextActor];if(!o)continue;const h=e[i]+At.actorMargin-s.width/2-o.width/2;s.margin=Math.max(h,At.actorMargin)}return Math.max(n,At.height)}const YX=function(t,e,n){const i=e[t.from].x,s=e[t.to].x,o=t.wrap&&t.message;let l=kn.calculateTextDimensions(o?kn.wrapLabel(t.message,At.width,gu(At)):t.message,gu(At));const h={width:o?At.width:Math.max(At.width,l.width+2*At.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===n.db.PLACEMENT.RIGHTOF?(h.width=o?Math.max(At.width,l.width):Math.max(e[t.from].width/2+e[t.to].width/2,l.width+2*At.noteMargin),h.startx=i+(e[t.from].width+At.actorMargin)/2):t.placement===n.db.PLACEMENT.LEFTOF?(h.width=Math.max(o?At.width:e[t.from].width/2+e[t.to].width/2,l.width+2*At.noteMargin),h.startx=i-h.width+(e[t.from].width-At.actorMargin)/2):t.to===t.from?(l=kn.calculateTextDimensions(o?kn.wrapLabel(t.message,Math.max(At.width,e[t.from].width),gu(At)):t.message,gu(At)),h.width=o?Math.max(At.width,e[t.from].width):Math.max(e[t.from].width,At.width,l.width+2*At.noteMargin),h.startx=i+(e[t.from].width-h.width)/2):(h.width=Math.abs(i+e[t.from].width/2-(s+e[t.to].width/2))+At.actorMargin,h.startx=i<s?i+e[t.from].width/2-At.actorMargin/2:s+e[t.to].width/2-At.actorMargin/2),o&&(h.message=kn.wrapLabel(t.message,h.width-2*At.wrapPadding,gu(At))),E.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${t.message}]`),h},UX=function(t,e,n){let i=!1;if([n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(i=!0),!i)return{};const s=$w(t.from,e),o=$w(t.to,e),l=s[0]<=o[0]?1:0,h=s[0]<o[0]?0:1,f=[...s,...o],g=Math.abs(o[h]-s[l]);t.wrap&&t.message&&(t.message=kn.wrapLabel(t.message,Math.max(g+2*At.wrapPadding,At.width),pu(At)));const y=kn.calculateTextDimensions(t.message,pu(At));return{width:Math.max(t.wrap?0:y.width+2*At.wrapPadding,g+2*At.wrapPadding,At.width),height:0,startx:s[l],stopx:o[h],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,f),toBounds:Math.max.apply(null,f)}},zX=function(t,e,n,i){const s={},o=[];let l,h,f;return t.forEach(function(g){switch(g.id=kn.random({length:10}),g.type){case i.db.LINETYPE.LOOP_START:case i.db.LINETYPE.ALT_START:case i.db.LINETYPE.OPT_START:case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.CRITICAL_START:case i.db.LINETYPE.BREAK_START:o.push({id:g.id,msg:g.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case i.db.LINETYPE.ALT_ELSE:case i.db.LINETYPE.PAR_AND:case i.db.LINETYPE.CRITICAL_OPTION:g.message&&(l=o.pop(),s[l.id]=l,s[g.id]=l,o.push(l));break;case i.db.LINETYPE.LOOP_END:case i.db.LINETYPE.ALT_END:case i.db.LINETYPE.OPT_END:case i.db.LINETYPE.PAR_END:case i.db.LINETYPE.CRITICAL_END:case i.db.LINETYPE.BREAK_END:l=o.pop(),s[l.id]=l;break;case i.db.LINETYPE.ACTIVE_START:{const b=e[g.from?g.from.actor:g.to.actor],x=k0(g.from?g.from.actor:g.to.actor).length,k=b.x+b.width/2+(x-1)*At.activationWidth/2,O={startx:k,stopx:k+At.activationWidth,actor:g.from.actor,enabled:!0};ge.activations.push(O)}break;case i.db.LINETYPE.ACTIVE_END:{const b=ge.activations.map(x=>x.actor).lastIndexOf(g.from.actor);delete ge.activations.splice(b,1)[0]}break}g.placement!==void 0?(h=YX(g,e,i),g.noteModel=h,o.forEach(b=>{l=b,l.from=Math.min(l.from,h.startx),l.to=Math.max(l.to,h.startx+h.width),l.width=Math.max(l.width,Math.abs(l.from-l.to))-At.labelBoxWidth})):(f=UX(g,e,i),g.msgModel=f,f.startx&&f.stopx&&o.length>0&&o.forEach(b=>{if(l=b,f.startx===f.stopx){const x=e[g.from],k=e[g.to];l.from=Math.min(x.x-f.width/2,x.x-x.width/2,l.from),l.to=Math.max(k.x+f.width/2,k.x+x.width/2,l.to),l.width=Math.max(l.width,Math.abs(l.to-l.from))-At.labelBoxWidth}else l.from=Math.min(f.startx,l.from),l.to=Math.max(f.stopx,l.to),l.width=Math.max(l.width,f.width)-At.labelBoxWidth}))}),ge.activations=[],E.debug("Loop type widths:",s),s},Yw={bounds:ge,drawActors:Z2,drawActorsPopup:Pw,setConf:Vw,draw:FX};var Q2=function(){var t=function(ut,Ct,vt,xt){for(vt=vt||{},xt=ut.length;xt--;vt[ut[xt]]=Ct);return vt},e=[1,2],n=[1,3],i=[1,5],s=[1,7],o=[2,5],l=[1,15],h=[1,17],f=[1,21],g=[1,22],y=[1,23],b=[1,24],x=[1,37],k=[1,25],O=[1,26],I=[1,27],R=[1,28],Y=[1,29],V=[1,32],X=[1,33],J=[1,34],st=[1,35],lt=[1,36],tt=[1,39],at=[1,40],q=[1,41],z=[1,42],$=[1,38],N=[1,45],j=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],A=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],gt=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],L=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Dt={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(Ct,vt,xt,Ot,Ht,ft,_e){var et=ft.length-1;switch(Ht){case 4:return Ot.setRootDoc(ft[et]),ft[et];case 5:this.$=[];break;case 6:ft[et]!="nl"&&(ft[et-1].push(ft[et]),this.$=ft[et-1]);break;case 7:case 8:this.$=ft[et];break;case 9:this.$="nl";break;case 12:this.$=ft[et];break;case 13:const G=ft[et-1];G.description=Ot.trimColon(ft[et]),this.$=G;break;case 14:this.$={stmt:"relation",state1:ft[et-2],state2:ft[et]};break;case 15:const U=Ot.trimColon(ft[et]);this.$={stmt:"relation",state1:ft[et-3],state2:ft[et-1],description:U};break;case 19:this.$={stmt:"state",id:ft[et-3],type:"default",description:"",doc:ft[et-1]};break;case 20:var it=ft[et],dt=ft[et-2].trim();if(ft[et].match(":")){var Q=ft[et].split(":");it=Q[0],dt=[dt,Q[1]]}this.$={stmt:"state",id:it,type:"default",description:dt};break;case 21:this.$={stmt:"state",id:ft[et-3],type:"default",description:ft[et-5],doc:ft[et-1]};break;case 22:this.$={stmt:"state",id:ft[et],type:"fork"};break;case 23:this.$={stmt:"state",id:ft[et],type:"join"};break;case 24:this.$={stmt:"state",id:ft[et],type:"choice"};break;case 25:this.$={stmt:"state",id:Ot.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:ft[et-1].trim(),note:{position:ft[et-2].trim(),text:ft[et].trim()}};break;case 30:this.$=ft[et].trim(),Ot.setAccTitle(this.$);break;case 31:case 32:this.$=ft[et].trim(),Ot.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:ft[et-1].trim(),classes:ft[et].trim()};break;case 35:this.$={stmt:"applyClass",id:ft[et-1].trim(),styleClass:ft[et].trim()};break;case 38:Ot.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:Ot.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:Ot.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:Ot.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:ft[et].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:ft[et-2].trim(),classes:[ft[et].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:ft[et-2].trim(),classes:[ft[et].trim()],type:"default",description:""};break;case 50:Ot.parseDirective("%%{","open_directive");break;case 51:Ot.parseDirective(ft[et],"type_directive");break;case 52:ft[et]=ft[et].trim().replace(/'/g,'"'),Ot.parseDirective(ft[et],"arg_directive");break;case 53:Ot.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:e,5:n,6:4,7:i,45:6,60:s},{1:[3]},{3:8,4:e,5:n,6:4,7:i,45:6,60:s},{3:9,4:e,5:n,6:4,7:i,45:6,60:s},{3:10,4:e,5:n,6:4,7:i,45:6,60:s},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],o,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:l,5:h,6:30,9:14,10:16,11:18,12:19,13:20,16:f,17:g,19:y,22:b,24:x,25:k,26:O,27:I,28:R,29:Y,32:31,33:V,35:X,37:J,38:st,42:lt,45:6,50:tt,51:at,52:q,53:z,56:$,60:s},{47:43,48:[1,44],63:N},t([48,63],[2,51]),t(j,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:f,17:g,19:y,22:b,24:x,25:k,26:O,27:I,28:R,29:Y,32:31,33:V,35:X,37:J,38:st,42:lt,45:6,50:tt,51:at,52:q,53:z,56:$,60:s},t(j,[2,8]),t(j,[2,9]),t(j,[2,10]),t(j,[2,11]),t(j,[2,12],{14:[1,47],15:[1,48]}),t(j,[2,16]),{18:[1,49]},t(j,[2,18],{20:[1,50]}),{23:[1,51]},t(j,[2,22]),t(j,[2,23]),t(j,[2,24]),t(j,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},t(j,[2,28]),t(j,[2,29]),{34:[1,56]},{36:[1,57]},t(j,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},t(A,[2,44],{57:[1,61]}),t(A,[2,45],{57:[1,62]}),t(j,[2,38]),t(j,[2,39]),t(j,[2,40]),t(j,[2,41]),t(gt,[2,36]),{49:63,62:[1,64]},t(gt,[2,53]),t(j,[2,7]),t(j,[2,13]),{13:65,24:x,56:$},t(j,[2,17]),t(L,o,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},t(j,[2,30]),t(j,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:N},{63:[2,52]},t(j,[2,14],{14:[1,76]}),{4:l,5:h,6:30,9:14,10:16,11:18,12:19,13:20,16:f,17:g,19:y,21:[1,77],22:b,24:x,25:k,26:O,27:I,28:R,29:Y,32:31,33:V,35:X,37:J,38:st,42:lt,45:6,50:tt,51:at,52:q,53:z,56:$,60:s},t(j,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},t(j,[2,33]),t(j,[2,34]),t(j,[2,35]),t(A,[2,46]),t(A,[2,47]),t(gt,[2,37]),t(j,[2,15]),t(j,[2,19]),t(L,o,{8:81}),t(j,[2,26]),t(j,[2,27]),{4:l,5:h,6:30,9:14,10:16,11:18,12:19,13:20,16:f,17:g,19:y,21:[1,82],22:b,24:x,25:k,26:O,27:I,28:R,29:Y,32:31,33:V,35:X,37:J,38:st,42:lt,45:6,50:tt,51:at,52:q,53:z,56:$,60:s},t(j,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(Ct,vt){if(vt.recoverable)this.trace(Ct);else{var xt=new Error(Ct);throw xt.hash=vt,xt}},parse:function(Ct){var vt=this,xt=[0],Ot=[],Ht=[null],ft=[],_e=this.table,et="",it=0,dt=0,Q=2,G=1,U=ft.slice.call(arguments,1),yt=Object.create(this.lexer),B={yy:{}};for(var It in this.yy)Object.prototype.hasOwnProperty.call(this.yy,It)&&(B.yy[It]=this.yy[It]);yt.setInput(Ct,B.yy),B.yy.lexer=yt,B.yy.parser=this,typeof yt.yylloc=="undefined"&&(yt.yylloc={});var rt=yt.yylloc;ft.push(rt);var Ae=yt.options&&yt.options.ranges;typeof B.yy.parseError=="function"?this.parseError=B.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function bt(){var je;return je=Ot.pop()||yt.lex()||G,typeof je!="number"&&(je instanceof Array&&(Ot=je,je=Ot.pop()),je=vt.symbols_[je]||je),je}for(var de,Jt,$t,te,Xt={},Ft,wt,dn,We;;){if(Jt=xt[xt.length-1],this.defaultActions[Jt]?$t=this.defaultActions[Jt]:((de===null||typeof de=="undefined")&&(de=bt()),$t=_e[Jt]&&_e[Jt][de]),typeof $t=="undefined"||!$t.length||!$t[0]){var Ue="";We=[];for(Ft in _e[Jt])this.terminals_[Ft]&&Ft>Q&&We.push("'"+this.terminals_[Ft]+"'");yt.showPosition?Ue="Parse error on line "+(it+1)+`:
`+yt.showPosition()+`
Expecting `+We.join(", ")+", got '"+(this.terminals_[de]||de)+"'":Ue="Parse error on line "+(it+1)+": Unexpected "+(de==G?"end of input":"'"+(this.terminals_[de]||de)+"'"),this.parseError(Ue,{text:yt.match,token:this.terminals_[de]||de,line:yt.yylineno,loc:rt,expected:We})}if($t[0]instanceof Array&&$t.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Jt+", token: "+de);switch($t[0]){case 1:xt.push(de),Ht.push(yt.yytext),ft.push(yt.yylloc),xt.push($t[1]),de=null,dt=yt.yyleng,et=yt.yytext,it=yt.yylineno,rt=yt.yylloc;break;case 2:if(wt=this.productions_[$t[1]][1],Xt.$=Ht[Ht.length-wt],Xt._$={first_line:ft[ft.length-(wt||1)].first_line,last_line:ft[ft.length-1].last_line,first_column:ft[ft.length-(wt||1)].first_column,last_column:ft[ft.length-1].last_column},Ae&&(Xt._$.range=[ft[ft.length-(wt||1)].range[0],ft[ft.length-1].range[1]]),te=this.performAction.apply(Xt,[et,dt,it,B.yy,$t[1],Ht,ft].concat(U)),typeof te!="undefined")return te;wt&&(xt=xt.slice(0,-1*wt*2),Ht=Ht.slice(0,-1*wt),ft=ft.slice(0,-1*wt)),xt.push(this.productions_[$t[1]][0]),Ht.push(Xt.$),ft.push(Xt._$),dn=_e[xt[xt.length-2]][xt[xt.length-1]],xt.push(dn);break;case 3:return!0}}return!0}},ue=function(){var ut={EOF:1,parseError:function(vt,xt){if(this.yy.parser)this.yy.parser.parseError(vt,xt);else throw new Error(vt)},setInput:function(Ct,vt){return this.yy=vt||this.yy||{},this._input=Ct,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ct=this._input[0];this.yytext+=Ct,this.yyleng++,this.offset++,this.match+=Ct,this.matched+=Ct;var vt=Ct.match(/(?:\r\n?|\n).*/g);return vt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ct},unput:function(Ct){var vt=Ct.length,xt=Ct.split(/(?:\r\n?|\n)/g);this._input=Ct+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-vt),this.offset-=vt;var Ot=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),xt.length-1&&(this.yylineno-=xt.length-1);var Ht=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:xt?(xt.length===Ot.length?this.yylloc.first_column:0)+Ot[Ot.length-xt.length].length-xt[0].length:this.yylloc.first_column-vt},this.options.ranges&&(this.yylloc.range=[Ht[0],Ht[0]+this.yyleng-vt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ct){this.unput(this.match.slice(Ct))},pastInput:function(){var Ct=this.matched.substr(0,this.matched.length-this.match.length);return(Ct.length>20?"...":"")+Ct.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ct=this.match;return Ct.length<20&&(Ct+=this._input.substr(0,20-Ct.length)),(Ct.substr(0,20)+(Ct.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ct=this.pastInput(),vt=new Array(Ct.length+1).join("-");return Ct+this.upcomingInput()+`
`+vt+"^"},test_match:function(Ct,vt){var xt,Ot,Ht;if(this.options.backtrack_lexer&&(Ht={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ht.yylloc.range=this.yylloc.range.slice(0))),Ot=Ct[0].match(/(?:\r\n?|\n).*/g),Ot&&(this.yylineno+=Ot.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ot?Ot[Ot.length-1].length-Ot[Ot.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ct[0].length},this.yytext+=Ct[0],this.match+=Ct[0],this.matches=Ct,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ct[0].length),this.matched+=Ct[0],xt=this.performAction.call(this,this.yy,this,vt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),xt)return xt;if(this._backtrack){for(var ft in Ht)this[ft]=Ht[ft];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ct,vt,xt,Ot;this._more||(this.yytext="",this.match="");for(var Ht=this._currentRules(),ft=0;ft<Ht.length;ft++)if(xt=this._input.match(this.rules[Ht[ft]]),xt&&(!vt||xt[0].length>vt[0].length)){if(vt=xt,Ot=ft,this.options.backtrack_lexer){if(Ct=this.test_match(xt,Ht[ft]),Ct!==!1)return Ct;if(this._backtrack){vt=!1;continue}else return!1}else if(!this.options.flex)break}return vt?(Ct=this.test_match(vt,Ht[Ot]),Ct!==!1?Ct:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var vt=this.next();return vt||this.lex()},begin:function(vt){this.conditionStack.push(vt)},popState:function(){var vt=this.conditionStack.length-1;return vt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(vt){return vt=this.conditionStack.length-1-Math.abs(vt||0),vt>=0?this.conditionStack[vt]:"INITIAL"},pushState:function(vt){this.begin(vt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(vt,xt,Ot,Ht){switch(Ot){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),xt.yytext=xt.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),xt.yytext=xt.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.begin("STATE_STRING");break;case 49:return this.popState(),this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),xt.yytext=xt.yytext.substr(2).trim(),31;case 69:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return xt.yytext=xt.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return ut}();Dt.lexer=ue;function qt(){this.yy={}}return qt.prototype=Dt,Dt.Parser=qt,new qt}();Q2.parser=Q2;const Uw=Q2,HX=(t,e)=>{var n;return((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*stateDiagram/)!==null},WX=(t,e)=>{var n;return!!(t.match(/^\s*stateDiagram-v2/)!==null||t.match(/^\s*stateDiagram/)&&((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},jX="LR",qX="TB",w0="state",J2="relation",GX="classDef",XX="applyClass",sd="default",zw="divider",ty="[*]",Hw="start",Ww=ty,jw="end",qw="color",Gw="fill",KX="bgFill",ZX=",";function Xw(){return{}}let Kw=jX,T0=[],ad=Xw();const Zw=()=>({relations:[],states:{},documents:{}});let E0={root:Zw()},Ei=E0.root,od=0,Qw=0;const QX={LINE:0,DOTTED_LINE:1},JX={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},C0=t=>JSON.parse(JSON.stringify(t)),tK=function(t,e,n){Tr.parseDirective(this,t,e,n)},eK=t=>{E.info("Setting root doc",t),T0=t},nK=()=>T0,S0=(t,e,n)=>{if(e.stmt===J2)S0(t,e.state1,!0),S0(t,e.state2,!1);else if(e.stmt===w0&&e.id==="[*]"&&(e.id=n?t.id+"_start":t.id+"_end",e.start=n),e.doc){const i=[];let s=[],o;for(o=0;o<e.doc.length;o++)if(e.doc[o].type===zw){const l=C0(e.doc[o]);l.doc=C0(s),i.push(l),s=[]}else s.push(e.doc[o]);if(i.length>0&&s.length>0){const l={stmt:w0,id:b3(),type:"divider",doc:C0(s)};i.push(C0(l)),e.doc=i}e.doc.forEach(l=>S0(e,l,!0))}},rK=()=>(S0({id:"root"},{id:"root",doc:T0},!0),{id:"root",doc:T0}),iK=t=>{let e;t.doc?e=t.doc:e=t,E.info(e),Jw(!0),E.info("Extract",e),e.forEach(n=>{switch(n.stmt){case w0:Vl(n.id,n.type,n.doc,n.description,n.note,n.classes,n.styles,n.textStyles);break;case J2:t6(n.state1,n.state2,n.description);break;case GX:e6(n.id,n.classes);break;case XX:iy(n.id,n.styleClass);break}})},Vl=function(t,e=sd,n=null,i=null,s=null,o=null,l=null,h=null){Ei.states[t]===void 0?(E.info("Adding state ",t,i),Ei.states[t]={id:t,descriptions:[],type:e,doc:n,note:s,classes:[],styles:[],textStyles:[]}):(Ei.states[t].doc||(Ei.states[t].doc=n),Ei.states[t].type||(Ei.states[t].type=e)),i&&(E.info("Setting state description",t,i),typeof i=="string"&&ry(t,i.trim()),typeof i=="object"&&i.forEach(f=>ry(t,f.trim()))),s&&(Ei.states[t].note=s,Ei.states[t].note.text=gn.sanitizeText(Ei.states[t].note.text,ht())),o&&(E.info("Setting state classes",t,o),(typeof o=="string"?[o]:o).forEach(g=>iy(t,g.trim()))),l&&(E.info("Setting state styles",t,l),(typeof l=="string"?[l]:l).forEach(g=>pK(t,g.trim()))),h&&(E.info("Setting state styles",t,l),(typeof h=="string"?[h]:h).forEach(g=>gK(t,g.trim())))},Jw=function(t){E0={root:Zw()},Ei=E0.root,od=0,ad=Xw(),t||Ps()},ld=function(t){return Ei.states[t]},sK=function(){return Ei.states},aK=function(){E.info("Documents = ",E0)},oK=function(){return Ei.relations};function ey(t=""){let e=t;return t===ty&&(od++,e=`${Hw}${od}`),e}function ny(t="",e=sd){return t===ty?Hw:e}function lK(t=""){let e=t;return t===Ww&&(od++,e=`${jw}${od}`),e}function cK(t="",e=sd){return t===Ww?jw:e}function uK(t,e,n){let i=ey(t.id),s=ny(t.id,t.type),o=ey(e.id),l=ny(e.id,e.type);Vl(i,s,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),Vl(o,l,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),Ei.relations.push({id1:i,id2:o,relationTitle:gn.sanitizeText(n,ht())})}const t6=function(t,e,n){if(typeof t=="object")uK(t,e,n);else{const i=ey(t),s=ny(t),o=lK(e),l=cK(e);Vl(i,s),Vl(o,l),Ei.relations.push({id1:i,id2:o,title:gn.sanitizeText(n,ht())})}},ry=function(t,e){const n=Ei.states[t],i=e.startsWith(":")?e.replace(":","").trim():e;n.descriptions.push(gn.sanitizeText(i,ht()))},hK=function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},dK=()=>(Qw++,"divider-id-"+Qw),e6=function(t,e=""){ad[t]===void 0&&(ad[t]={id:t,styles:[],textStyles:[]});const n=ad[t];e!=null&&e.split(ZX).forEach(i=>{const s=i.replace(/([^;]*);/,"$1").trim();if(i.match(qw)){const l=s.replace(Gw,KX).replace(qw,Gw);n.textStyles.push(l)}n.styles.push(s)})},fK=function(){return ad},iy=function(t,e){t.split(",").forEach(function(n){let i=ld(n);if(i===void 0){const s=n.trim();Vl(s),i=ld(s)}i.classes.push(e)})},pK=function(t,e){const n=ld(t);n!==void 0&&n.textStyles.push(e)},gK=function(t,e){const n=ld(t);n!==void 0&&n.textStyles.push(e)},co={parseDirective:tK,getConfig:()=>ht().state,addState:Vl,clear:Jw,getState:ld,getStates:sK,getRelations:oK,getClasses:fK,getDirection:()=>Kw,addRelation:t6,getDividerId:dK,setDirection:t=>{Kw=t},cleanupLabel:hK,lineType:QX,relationType:JX,logDocuments:aK,getRootDoc:nK,setRootDoc:eK,getRootDocV2:rK,extract:iK,trimColon:t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),getAccTitle:Vs,setAccTitle:vs,getAccDescription:Ys,setAccDescription:$s,addStyleClass:e6,setCssClass:iy,addDescription:ry,setDiagramTitle:Ga,getDiagramTitle:Xa},mK=t=>t.append("circle").attr("class","start-state").attr("r",ht().state.sizeUnit).attr("cx",ht().state.padding+ht().state.sizeUnit).attr("cy",ht().state.padding+ht().state.sizeUnit),yK=t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",ht().state.textHeight).attr("class","divider").attr("x2",ht().state.textHeight*2).attr("y1",0).attr("y2",0),_K=(t,e)=>{const n=t.append("text").attr("x",2*ht().state.padding).attr("y",ht().state.textHeight+2*ht().state.padding).attr("font-size",ht().state.fontSize).attr("class","state-title").text(e.id),i=n.node().getBBox();return t.insert("rect",":first-child").attr("x",ht().state.padding).attr("y",ht().state.padding).attr("width",i.width+2*ht().state.padding).attr("height",i.height+2*ht().state.padding).attr("rx",ht().state.radius),n},bK=(t,e)=>{const n=function(x,k,O){const I=x.append("tspan").attr("x",2*ht().state.padding).text(k);O||I.attr("dy",ht().state.textHeight)},s=t.append("text").attr("x",2*ht().state.padding).attr("y",ht().state.textHeight+1.3*ht().state.padding).attr("font-size",ht().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),o=s.height,l=t.append("text").attr("x",ht().state.padding).attr("y",o+ht().state.padding*.4+ht().state.dividerMargin+ht().state.textHeight).attr("class","state-description");let h=!0,f=!0;e.descriptions.forEach(function(x){h||(n(l,x,f),f=!1),h=!1});const g=t.append("line").attr("x1",ht().state.padding).attr("y1",ht().state.padding+o+ht().state.dividerMargin/2).attr("y2",ht().state.padding+o+ht().state.dividerMargin/2).attr("class","descr-divider"),y=l.node().getBBox(),b=Math.max(y.width,s.width);return g.attr("x2",b+3*ht().state.padding),t.insert("rect",":first-child").attr("x",ht().state.padding).attr("y",ht().state.padding).attr("width",b+2*ht().state.padding).attr("height",y.height+o+2*ht().state.padding).attr("rx",ht().state.radius),t},vK=(t,e,n)=>{const i=ht().state.padding,s=2*ht().state.padding,o=t.node().getBBox(),l=o.width,h=o.x,f=t.append("text").attr("x",0).attr("y",ht().state.titleShift).attr("font-size",ht().state.fontSize).attr("class","state-title").text(e.id),y=f.node().getBBox().width+s;let b=Math.max(y,l);b===l&&(b=b+s);let x;const k=t.node().getBBox();e.doc,x=h-i,y>l&&(x=(l-b)/2+i),Math.abs(h-k.x)<i&&y>l&&(x=h-(y-l)/2);const O=1-ht().state.textHeight;return t.insert("rect",":first-child").attr("x",x).attr("y",O).attr("class",n?"alt-composit":"composit").attr("width",b).attr("height",k.height+ht().state.textHeight+ht().state.titleShift+1).attr("rx","0"),f.attr("x",x+i),y<=l&&f.attr("x",h+(b-s)/2-y/2+i),t.insert("rect",":first-child").attr("x",x).attr("y",ht().state.titleShift-ht().state.textHeight-ht().state.padding).attr("width",b).attr("height",ht().state.textHeight*3).attr("rx",ht().state.radius),t.insert("rect",":first-child").attr("x",x).attr("y",ht().state.titleShift-ht().state.textHeight-ht().state.padding).attr("width",b).attr("height",k.height+3+2*ht().state.textHeight).attr("rx",ht().state.radius),t},xK=t=>(t.append("circle").attr("class","end-state-outer").attr("r",ht().state.sizeUnit+ht().state.miniPadding).attr("cx",ht().state.padding+ht().state.sizeUnit+ht().state.miniPadding).attr("cy",ht().state.padding+ht().state.sizeUnit+ht().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",ht().state.sizeUnit).attr("cx",ht().state.padding+ht().state.sizeUnit+2).attr("cy",ht().state.padding+ht().state.sizeUnit+2)),kK=(t,e)=>{let n=ht().state.forkWidth,i=ht().state.forkHeight;if(e.parentId){let s=n;n=i,i=s}return t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",i).attr("x",ht().state.padding).attr("y",ht().state.padding)},wK=(t,e,n,i)=>{let s=0;const o=i.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let l=t.replace(/\r\n/g,"<br/>");l=l.replace(/\n/g,"<br/>");const h=l.split(gn.lineBreakRegex);let f=1.25*ht().state.noteMargin;for(const g of h){const y=g.trim();if(y.length>0){const b=o.append("tspan");b.text(y),f===0&&(f+=b.node().getBBox().height),s+=f,b.attr("x",e+ht().state.noteMargin),b.attr("y",n+s+1.25*ht().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:s}},TK=(t,e)=>{e.attr("class","state-note");const n=e.append("rect").attr("x",0).attr("y",ht().state.padding),i=e.append("g"),{textWidth:s,textHeight:o}=wK(t,0,0,i);return n.attr("height",o+2*ht().state.noteMargin),n.attr("width",s+ht().state.noteMargin*2),n},n6=function(t,e){const n=e.id,i={id:n,label:e.id,width:0,height:0},s=t.append("g").attr("id",n).attr("class","stateGroup");e.type==="start"&&mK(s),e.type==="end"&&xK(s),(e.type==="fork"||e.type==="join")&&kK(s,e),e.type==="note"&&TK(e.note.text,s),e.type==="divider"&&yK(s),e.type==="default"&&e.descriptions.length===0&&_K(s,e),e.type==="default"&&e.descriptions.length>0&&bK(s,e);const o=s.node().getBBox();return i.width=o.width+2*ht().state.padding,i.height=o.height+2*ht().state.padding,i};let r6=0;const EK=function(t,e,n){const i=function(f){switch(f){case co.relationType.AGGREGATION:return"aggregation";case co.relationType.EXTENSION:return"extension";case co.relationType.COMPOSITION:return"composition";case co.relationType.DEPENDENCY:return"dependency"}};e.points=e.points.filter(f=>!Number.isNaN(f.y));const s=e.points,o=Dc().x(function(f){return f.x}).y(function(f){return f.y}).curve(Ic),l=t.append("path").attr("d",o(s)).attr("id","edge"+r6).attr("class","transition");let h="";if(ht().state.arrowMarkerAbsolute&&(h=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,h=h.replace(/\(/g,"\\("),h=h.replace(/\)/g,"\\)")),l.attr("marker-end","url("+h+"#"+i(co.relationType.DEPENDENCY)+"End)"),n.title!==void 0){const f=t.append("g").attr("class","stateLabel"),{x:g,y}=kn.calcLabelPosition(e.points),b=gn.getRows(n.title);let x=0;const k=[];let O=0,I=0;for(let V=0;V<=b.length;V++){const X=f.append("text").attr("text-anchor","middle").text(b[V]).attr("x",g).attr("y",y+x),J=X.node().getBBox();O=Math.max(O,J.width),I=Math.min(I,J.x),E.info(J.x,g,y+x),x===0&&(x=X.node().getBBox().height,E.info("Title height",x,y)),k.push(X)}let R=x*b.length;if(b.length>1){const V=(b.length-1)*x*.5;k.forEach((X,J)=>X.attr("y",y+J*x-V)),R=x*b.length}const Y=f.node().getBBox();f.insert("rect",":first-child").attr("class","box").attr("x",g-O/2-ht().state.padding/2).attr("y",y-R/2-ht().state.padding/2-3.5).attr("width",O+ht().state.padding).attr("height",R+ht().state.padding),E.info(Y)}r6++};let rs;const sy={},CK=function(){},SK=function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},AK=function(t,e,n,i){rs=ht().state;const s=ht().securityLevel;let o;s==="sandbox"&&(o=re("#i"+e));const l=re(s==="sandbox"?o.nodes()[0].contentDocument.body:"body"),h=s==="sandbox"?o.nodes()[0].contentDocument:document;E.debug("Rendering diagram "+t);const f=l.select(`[id='${e}']`);SK(f),new jr({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const y=i.db.getRootDoc();i6(y,f,void 0,!1,l,h,i);const b=rs.padding,x=f.node().getBBox(),k=x.width+b*2,O=x.height+b*2,I=k*1.75;Fs(f,O,I,rs.useMaxWidth),f.attr("viewBox",`${x.x-rs.padding}  ${x.y-rs.padding} `+k+" "+O)},LK=t=>t?t.length*rs.fontSizeFactor:1,i6=(t,e,n,i,s,o,l)=>{const h=new jr({compound:!0,multigraph:!0});let f,g=!0;for(f=0;f<t.length;f++)if(t[f].stmt==="relation"){g=!1;break}n?h.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:g?1:rs.edgeLengthFactor,nodeSep:g?1:50,isMultiGraph:!0}):h.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:g?1:rs.edgeLengthFactor,nodeSep:g?1:50,ranker:"tight-tree",isMultiGraph:!0}),h.setDefaultEdgeLabel(function(){return{}}),l.db.extract(t);const y=l.db.getStates(),b=l.db.getRelations(),x=Object.keys(y);for(const Y of x){const V=y[Y];n&&(V.parentId=n);let X;if(V.doc){let J=e.append("g").attr("id",V.id).attr("class","stateGroup");X=i6(V.doc,J,V.id,!i,s,o,l);{J=vK(J,V,i);let st=J.node().getBBox();X.width=st.width,X.height=st.height+rs.padding/2,sy[V.id]={y:rs.compositTitleSize}}}else X=n6(e,V);if(V.note){const J={descriptions:[],id:V.id+"-note",note:V.note,type:"note"},st=n6(e,J);V.note.position==="left of"?(h.setNode(X.id+"-note",st),h.setNode(X.id,X)):(h.setNode(X.id,X),h.setNode(X.id+"-note",st)),h.setParent(X.id,X.id+"-group"),h.setParent(X.id+"-note",X.id+"-group")}else h.setNode(X.id,X)}E.debug("Count=",h.nodeCount(),h);let k=0;b.forEach(function(Y){k++,E.debug("Setting edge",Y),h.setEdge(Y.id1,Y.id2,{relation:Y,width:LK(Y.title),height:rs.labelHeight*gn.getRows(Y.title).length,labelpos:"c"},"id"+k)}),su(h),E.debug("Graph after layout",h.nodes());const O=e.node();h.nodes().forEach(function(Y){Y!==void 0&&h.node(Y)!==void 0?(E.warn("Node "+Y+": "+JSON.stringify(h.node(Y))),s.select("#"+O.id+" #"+Y).attr("transform","translate("+(h.node(Y).x-h.node(Y).width/2)+","+(h.node(Y).y+(sy[Y]?sy[Y].y:0)-h.node(Y).height/2)+" )"),s.select("#"+O.id+" #"+Y).attr("data-x-shift",h.node(Y).x-h.node(Y).width/2),o.querySelectorAll("#"+O.id+" #"+Y+" .divider").forEach(X=>{const J=X.parentElement;let st=0,lt=0;J&&(J.parentElement&&(st=J.parentElement.getBBox().width),lt=parseInt(J.getAttribute("data-x-shift"),10),Number.isNaN(lt)&&(lt=0)),X.setAttribute("x1",0-lt+8),X.setAttribute("x2",st-lt-8)})):E.debug("No Node "+Y+": "+JSON.stringify(h.node(Y)))});let I=O.getBBox();h.edges().forEach(function(Y){Y!==void 0&&h.edge(Y)!==void 0&&(E.debug("Edge "+Y.v+" -> "+Y.w+": "+JSON.stringify(h.edge(Y))),EK(e,h.edge(Y),h.edge(Y).relation))}),I=O.getBBox();const R={id:n||"root",label:n||"root",width:0,height:0};return R.width=I.width+2*rs.padding,R.height=I.height+2*rs.padding,E.debug("Doc rendered",R,h),R},OK={setConf:CK,draw:AK},A0="rect",ay="rectWithTitle",MK="start",NK="end",DK="divider",IK="roundedWithTitle",RK="note",BK="noteGroup",mu="statediagram",FK=`${mu}-state`,s6="transition",PK="note",VK=`${s6} note-edge`,$K=`${mu}-${PK}`,YK=`${mu}-cluster`,UK=`${mu}-cluster-alt`,a6="parent",o6="note",zK="state",oy="----",HK=`${oy}${o6}`,l6=`${oy}${a6}`,c6="fill:none",u6="fill: #333",h6="c",d6="text",f6="normal";let L0={},Uo=0;const WK=function(t){const e=Object.keys(t);for(const n of e)t[n]},jK=function(t,e){E.trace("Extracting classes"),e.db.clear();try{return e.parser.parse(t),e.db.extract(e.db.getRootDocV2()),e.db.getClasses()}catch(n){return n}};function qK(t){return t==null?"":t.classes?t.classes.join(" "):""}function ly(t="",e=0,n="",i=oy){const s=n!==null&&n.length>0?`${i}${n}`:"";return`${zK}-${t}${s}-${e}`}const cd=(t,e,n,i,s,o)=>{const l=n.id,h=qK(i[l]);if(l!=="root"){let f=A0;n.start===!0&&(f=MK),n.start===!1&&(f=NK),n.type!==sd&&(f=n.type),L0[l]||(L0[l]={id:l,shape:f,description:gn.sanitizeText(l,ht()),classes:`${h} ${FK}`});const g=L0[l];n.description&&(Array.isArray(g.description)?(g.shape=ay,g.description.push(n.description)):g.description.length>0?(g.shape=ay,g.description===l?g.description=[n.description]:g.description=[g.description,n.description]):(g.shape=A0,g.description=n.description),g.description=gn.sanitizeTextOrArray(g.description,ht())),g.description.length===1&&g.shape===ay&&(g.shape=A0),!g.type&&n.doc&&(E.info("Setting cluster for ",l,cy(n)),g.type="group",g.dir=cy(n),g.shape=n.type===zw?DK:IK,g.classes=g.classes+" "+YK+" "+(o?UK:""));const y={labelStyle:"",shape:g.shape,labelText:g.description,classes:g.classes,style:"",id:l,dir:g.dir,domId:ly(l,Uo),type:g.type,padding:15};if(n.note){const b={labelStyle:"",shape:RK,labelText:n.note.text,classes:$K,style:"",id:l+HK+"-"+Uo,domId:ly(l,Uo,o6),type:g.type,padding:15},x={labelStyle:"",shape:BK,labelText:n.note.text,classes:g.classes,style:"",id:l+l6,domId:ly(l,Uo,a6),type:"group",padding:0};Uo++;const k=l+l6;t.setNode(k,x),t.setNode(b.id,b),t.setNode(l,y),t.setParent(l,k),t.setParent(b.id,k);let O=l,I=b.id;n.note.position==="left of"&&(O=b.id,I=l),t.setEdge(O,I,{arrowhead:"none",arrowType:"",style:c6,labelStyle:"",classes:VK,arrowheadStyle:u6,labelpos:h6,labelType:d6,thickness:f6})}else t.setNode(l,y)}e&&e.id!=="root"&&(E.trace("Setting node ",l," to be child of its parent ",e.id),t.setParent(l,e.id)),n.doc&&(E.trace("Adding nodes children "),GK(t,n,n.doc,i,s,!o))},GK=(t,e,n,i,s,o)=>{E.trace("items",n),n.forEach(l=>{switch(l.stmt){case w0:cd(t,e,l,i,s,o);break;case sd:cd(t,e,l,i,s,o);break;case J2:{cd(t,e,l.state1,i,s,o),cd(t,e,l.state2,i,s,o);const h={id:"edge"+Uo,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:c6,labelStyle:"",label:gn.sanitizeText(l.description,ht()),arrowheadStyle:u6,labelpos:h6,labelType:d6,thickness:f6,classes:s6};t.setEdge(l.state1.id,l.state2.id,h,Uo),Uo++}break}})},cy=(t,e=qX)=>{let n=e;if(t.doc)for(let i=0;i<t.doc.length;i++){const s=t.doc[i];s.stmt==="dir"&&(n=s.value)}return n},XK={setConf:WK,getClasses:jK,draw:function(t,e,n,i){E.info("Drawing state diagram (v2)",e),L0={},i.db.getDirection();const{securityLevel:s,state:o}=ht(),l=o.nodeSpacing||50,h=o.rankSpacing||50;E.info(i.db.getRootDocV2()),i.db.extract(i.db.getRootDocV2()),E.info(i.db.getRootDocV2());const f=i.db.getStates(),g=new jr({multigraph:!0,compound:!0}).setGraph({rankdir:cy(i.db.getRootDocV2()),nodesep:l,ranksep:h,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});cd(g,void 0,i.db.getRootDocV2(),f,i.db,!0);let y;s==="sandbox"&&(y=re("#i"+e));const b=re(s==="sandbox"?y.nodes()[0].contentDocument.body:"body"),x=b.select(`[id="${e}"]`),k=b.select("#"+e+" g");o2(k,g,["barb"],mu,e);const O=8;kn.insertTitle(x,"statediagramTitleText",o.titleTopMargin,i.db.getDiagramTitle());const I=x.node().getBBox(),R=I.width+O*2,Y=I.height+O*2;x.attr("class",mu);const V=x.node().getBBox();Fs(x,Y,R,o.useMaxWidth);const X=`${V.x-O} ${V.y-O} ${R} ${Y}`;E.debug(`viewBox ${X}`),x.attr("viewBox",X);const J=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const st of J){const lt=st.getBBox(),tt=document.createElementNS("http://www.w3.org/2000/svg",A0);tt.setAttribute("rx",0),tt.setAttribute("ry",0),tt.setAttribute("width",lt.width),tt.setAttribute("height",lt.height),st.insertBefore(tt,st.firstChild)}}};var uy=function(){var t=function(I,R,Y,V){for(Y=Y||{},V=I.length;V--;Y[I[V]]=R);return Y},e=[1,2],n=[1,5],i=[6,9,11,17,18,20,22,23,24,26],s=[1,15],o=[1,16],l=[1,17],h=[1,18],f=[1,19],g=[1,20],y=[1,24],b=[4,6,9,11,17,18,20,22,23,24,26],x={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(R,Y,V,X,J,st,lt){var tt=st.length-1;switch(J){case 1:return st[tt-1];case 3:this.$=[];break;case 4:st[tt-1].push(st[tt]),this.$=st[tt-1];break;case 5:case 6:this.$=st[tt];break;case 7:case 8:this.$=[];break;case 11:X.setDiagramTitle(st[tt].substr(6)),this.$=st[tt].substr(6);break;case 12:this.$=st[tt].trim(),X.setAccTitle(this.$);break;case 13:case 14:this.$=st[tt].trim(),X.setAccDescription(this.$);break;case 15:X.addSection(st[tt].substr(8)),this.$=st[tt].substr(8);break;case 16:X.addTask(st[tt-1],st[tt]),this.$="task";break;case 18:X.parseDirective("%%{","open_directive");break;case 19:X.parseDirective(st[tt],"type_directive");break;case 20:st[tt]=st[tt].trim().replace(/'/g,'"'),X.parseDirective(st[tt],"arg_directive");break;case 21:X.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(i,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:s,18:o,20:l,22:h,23:f,24:g,26:n},{1:[2,2]},{14:22,15:[1,23],29:y},t([15,29],[2,19]),t(i,[2,8],{1:[2,1]}),t(i,[2,4]),{7:21,10:25,12:4,17:s,18:o,20:l,22:h,23:f,24:g,26:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,11]),{19:[1,26]},{21:[1,27]},t(i,[2,14]),t(i,[2,15]),{25:[1,28]},t(i,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(i,[2,5]),t(i,[2,12]),t(i,[2,13]),t(i,[2,16]),t(b,[2,9]),{14:32,29:y},{29:[2,20]},{11:[1,33]},t(b,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(R,Y){if(Y.recoverable)this.trace(R);else{var V=new Error(R);throw V.hash=Y,V}},parse:function(R){var Y=this,V=[0],X=[],J=[null],st=[],lt=this.table,tt="",at=0,q=0,z=2,$=1,N=st.slice.call(arguments,1),j=Object.create(this.lexer),A={yy:{}};for(var gt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,gt)&&(A.yy[gt]=this.yy[gt]);j.setInput(R,A.yy),A.yy.lexer=j,A.yy.parser=this,typeof j.yylloc=="undefined"&&(j.yylloc={});var L=j.yylloc;st.push(L);var Dt=j.options&&j.options.ranges;typeof A.yy.parseError=="function"?this.parseError=A.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ue(){var it;return it=X.pop()||j.lex()||$,typeof it!="number"&&(it instanceof Array&&(X=it,it=X.pop()),it=Y.symbols_[it]||it),it}for(var qt,ut,Ct,vt,xt={},Ot,Ht,ft,_e;;){if(ut=V[V.length-1],this.defaultActions[ut]?Ct=this.defaultActions[ut]:((qt===null||typeof qt=="undefined")&&(qt=ue()),Ct=lt[ut]&&lt[ut][qt]),typeof Ct=="undefined"||!Ct.length||!Ct[0]){var et="";_e=[];for(Ot in lt[ut])this.terminals_[Ot]&&Ot>z&&_e.push("'"+this.terminals_[Ot]+"'");j.showPosition?et="Parse error on line "+(at+1)+`:
`+j.showPosition()+`
Expecting `+_e.join(", ")+", got '"+(this.terminals_[qt]||qt)+"'":et="Parse error on line "+(at+1)+": Unexpected "+(qt==$?"end of input":"'"+(this.terminals_[qt]||qt)+"'"),this.parseError(et,{text:j.match,token:this.terminals_[qt]||qt,line:j.yylineno,loc:L,expected:_e})}if(Ct[0]instanceof Array&&Ct.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ut+", token: "+qt);switch(Ct[0]){case 1:V.push(qt),J.push(j.yytext),st.push(j.yylloc),V.push(Ct[1]),qt=null,q=j.yyleng,tt=j.yytext,at=j.yylineno,L=j.yylloc;break;case 2:if(Ht=this.productions_[Ct[1]][1],xt.$=J[J.length-Ht],xt._$={first_line:st[st.length-(Ht||1)].first_line,last_line:st[st.length-1].last_line,first_column:st[st.length-(Ht||1)].first_column,last_column:st[st.length-1].last_column},Dt&&(xt._$.range=[st[st.length-(Ht||1)].range[0],st[st.length-1].range[1]]),vt=this.performAction.apply(xt,[tt,q,at,A.yy,Ct[1],J,st].concat(N)),typeof vt!="undefined")return vt;Ht&&(V=V.slice(0,-1*Ht*2),J=J.slice(0,-1*Ht),st=st.slice(0,-1*Ht)),V.push(this.productions_[Ct[1]][0]),J.push(xt.$),st.push(xt._$),ft=lt[V[V.length-2]][V[V.length-1]],V.push(ft);break;case 3:return!0}}return!0}},k=function(){var I={EOF:1,parseError:function(Y,V){if(this.yy.parser)this.yy.parser.parseError(Y,V);else throw new Error(Y)},setInput:function(R,Y){return this.yy=Y||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var Y=R.match(/(?:\r\n?|\n).*/g);return Y?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},unput:function(R){var Y=R.length,V=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Y),this.offset-=Y;var X=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),V.length-1&&(this.yylineno-=V.length-1);var J=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:V?(V.length===X.length?this.yylloc.first_column:0)+X[X.length-V.length].length-V[0].length:this.yylloc.first_column-Y},this.options.ranges&&(this.yylloc.range=[J[0],J[0]+this.yyleng-Y]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(R){this.unput(this.match.slice(R))},pastInput:function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var R=this.pastInput(),Y=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+Y+"^"},test_match:function(R,Y){var V,X,J;if(this.options.backtrack_lexer&&(J={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(J.yylloc.range=this.yylloc.range.slice(0))),X=R[0].match(/(?:\r\n?|\n).*/g),X&&(this.yylineno+=X.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-X[X.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],V=this.performAction.call(this,this.yy,this,Y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),V)return V;if(this._backtrack){for(var st in J)this[st]=J[st];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,Y,V,X;this._more||(this.yytext="",this.match="");for(var J=this._currentRules(),st=0;st<J.length;st++)if(V=this._input.match(this.rules[J[st]]),V&&(!Y||V[0].length>Y[0].length)){if(Y=V,X=st,this.options.backtrack_lexer){if(R=this.test_match(V,J[st]),R!==!1)return R;if(this._backtrack){Y=!1;continue}else return!1}else if(!this.options.flex)break}return Y?(R=this.test_match(Y,J[X]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Y=this.next();return Y||this.lex()},begin:function(Y){this.conditionStack.push(Y)},popState:function(){var Y=this.conditionStack.length-1;return Y>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Y){return Y=this.conditionStack.length-1-Math.abs(Y||0),Y>=0?this.conditionStack[Y]:"INITIAL"},pushState:function(Y){this.begin(Y)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Y,V,X,J){switch(X){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return I}();x.lexer=k;function O(){this.yy={}}return O.prototype=x,x.Parser=O,new O}();uy.parser=uy;const KK=uy,ZK=t=>t.match(/^\s*journey/)!==null;let yu="";const hy=[],ud=[],hd=[],QK=function(t,e,n){Tr.parseDirective(this,t,e,n)},JK=function(){hy.length=0,ud.length=0,yu="",hd.length=0,Ps()},tZ=function(t){yu=t,hy.push(t)},eZ=function(){return hy},nZ=function(){let t=p6();const e=100;let n=0;for(;!t&&n<e;)t=p6(),n++;return ud.push(...hd),ud},rZ=function(){const t=[];return ud.forEach(n=>{n.people&&t.push(...n.people)}),[...new Set(t)].sort()},iZ=function(t,e){const n=e.substr(1).split(":");let i=0,s=[];n.length===1?(i=Number(n[0]),s=[]):(i=Number(n[0]),s=n[1].split(","));const o=s.map(h=>h.trim()),l={section:yu,type:yu,people:o,task:t,score:i};hd.push(l)},sZ=function(t){const e={section:yu,type:yu,description:t,task:t,classes:[]};ud.push(e)},p6=function(){const t=function(n){return hd[n].processed};let e=!0;for(const[n,i]of hd.entries())t(n),e=e&&i.processed;return e},g6={parseDirective:QK,getConfig:()=>ht().journey,clear:JK,setDiagramTitle:Ga,getDiagramTitle:Xa,setAccTitle:vs,getAccTitle:Vs,setAccDescription:$s,getAccDescription:Ys,addSection:tZ,getSections:eZ,getTasks:nZ,addTask:iZ,addTaskOrg:sZ,getActors:function(){return rZ()}},O0=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.class!==void 0&&n.attr("class",e.class),n},aZ=function(t,e){const i=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),s=t.append("g");s.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),s.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(f){const g=Dg().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",g).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function l(f){const g=Dg().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",g).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function h(f){f.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return e.score>3?o(s):e.score<3?l(s):h(s),i},m6=function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),n.class!==void 0&&n.attr("class",n.class),e.title!==void 0&&n.append("title").text(e.title),n},y6=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.attr("class","legend"),i.style("text-anchor",e.anchor),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.text(n),i},oZ=function(t,e){function n(s,o,l,h,f){return s+","+o+" "+(s+l)+","+o+" "+(s+l)+","+(o+h-f)+" "+(s+l-f*1.2)+","+(o+h)+" "+s+","+(o+h)}const i=t.append("polygon");i.attr("points",n(e.x,e.y,50,20,7)),i.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,y6(t,e)},lZ=function(t,e,n){const i=t.append("g"),s=dy();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=n.width,s.height=n.height,s.class="journey-section section-type-"+e.num,s.rx=3,s.ry=3,O0(i,s),b6(n)(e.text,i,s.x,s.y,s.width,s.height,{class:"journey-section section-type-"+e.num},n,e.colour)};let _6=-1;const cZ=function(t,e,n){const i=e.x+n.width/2,s=t.append("g");_6++;const o=300+5*30;s.append("line").attr("id","task"+_6).attr("x1",i).attr("y1",e.y).attr("x2",i).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),aZ(s,{cx:i,cy:300+(5-e.score)*30,score:e.score});const l=dy();l.x=e.x,l.y=e.y,l.fill=e.fill,l.width=n.width,l.height=n.height,l.class="task task-type-"+e.num,l.rx=3,l.ry=3,O0(s,l);let h=e.x+14;e.people.forEach(f=>{const g=e.actors[f].color,y={cx:h,cy:e.y,r:7,fill:g,stroke:"#000",title:f,pos:e.actors[f].position};m6(s,y),h+=10}),b6(n)(e.task,s,l.x,l.y,l.width,l.height,{class:"task"},n,e.colour)},uZ=function(t,e){O0(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},hZ=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},dy=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},b6=function(){function t(s,o,l,h,f,g,y,b){const x=o.append("text").attr("x",l+f/2).attr("y",h+g/2+5).style("font-color",b).style("text-anchor","middle").text(s);i(x,y)}function e(s,o,l,h,f,g,y,b,x){const{taskFontSize:k,taskFontFamily:O}=b,I=s.split(/<br\s*\/?>/gi);for(let R=0;R<I.length;R++){const Y=R*k-k*(I.length-1)/2,V=o.append("text").attr("x",l+f/2).attr("y",h).attr("fill",x).style("text-anchor","middle").style("font-size",k).style("font-family",O);V.append("tspan").attr("x",l+f/2).attr("dy",Y).text(I[R]),V.attr("y",h+g/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(V,y)}}function n(s,o,l,h,f,g,y,b){const x=o.append("switch"),O=x.append("foreignObject").attr("x",l).attr("y",h).attr("width",f).attr("height",g).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");O.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),e(s,x,l,h,f,g,y,b),i(O,y)}function i(s,o){for(const l in o)l in o&&s.attr(l,o[l])}return function(s){return s.textPlacement==="fo"?n:s.textPlacement==="old"?t:e}}(),dd={drawRect:O0,drawCircle:m6,drawSection:lZ,drawText:y6,drawLabel:oZ,drawTask:cZ,drawBackgroundRect:uZ,getTextObj:hZ,getNoteRect:dy,initGraphics:function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}},dZ=function(t){Object.keys(t).forEach(function(n){M0[n]=t[n]})},uo={};function fZ(t){const e=ht().journey;let n=60;Object.keys(uo).forEach(i=>{const s=uo[i].color,o={cx:20,cy:n,r:7,fill:s,stroke:"#000",pos:uo[i].position};dd.drawCircle(t,o);const l={x:40,y:n+7,fill:"#666",text:i,textMargin:e.boxTextMargin|5};dd.drawText(t,l),n+=20})}const M0=ht().journey,$l=M0.leftMargin,pZ=function(t,e,n,i){const s=ht().journey;i.db.clear(),i.parser.parse(t+`
`);const o=ht().securityLevel;let l;o==="sandbox"&&(l=re("#i"+e));const h=re(o==="sandbox"?l.nodes()[0].contentDocument.body:"body");ks.init();const f=h.select("#"+e);dd.initGraphics(f);const g=i.db.getTasks(),y=i.db.getDiagramTitle(),b=i.db.getActors();for(const Y in uo)delete uo[Y];let x=0;b.forEach(Y=>{uo[Y]={color:s.actorColours[x%s.actorColours.length],position:x},x++}),fZ(f),ks.insert(0,0,$l,Object.keys(uo).length*50),gZ(f,g,0);const k=ks.getBounds();y&&f.append("text").text(y).attr("x",$l).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const O=k.stopy-k.starty+2*s.diagramMarginY,I=$l+k.stopx+2*s.diagramMarginX;Fs(f,O,I,s.useMaxWidth),f.append("line").attr("x1",$l).attr("y1",s.height*4).attr("x2",I-$l-4).attr("y2",s.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const R=y?70:0;f.attr("viewBox",`${k.startx} -25 ${I} ${O+R}`),f.attr("preserveAspectRatio","xMinYMin meet"),f.attr("height",O+R+25)},ks={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,i){t[e]===void 0?t[e]=n:t[e]=i(n,t[e])},updateBounds:function(t,e,n,i){const s=ht().journey,o=this;let l=0;function h(f){return function(y){l++;const b=o.sequenceItems.length-l+1;o.updateVal(y,"starty",e-b*s.boxMargin,Math.min),o.updateVal(y,"stopy",i+b*s.boxMargin,Math.max),o.updateVal(ks.data,"startx",t-b*s.boxMargin,Math.min),o.updateVal(ks.data,"stopx",n+b*s.boxMargin,Math.max),f!=="activation"&&(o.updateVal(y,"startx",t-b*s.boxMargin,Math.min),o.updateVal(y,"stopx",n+b*s.boxMargin,Math.max),o.updateVal(ks.data,"starty",e-b*s.boxMargin,Math.min),o.updateVal(ks.data,"stopy",i+b*s.boxMargin,Math.max))}}this.sequenceItems.forEach(h())},insert:function(t,e,n,i){const s=Math.min(t,n),o=Math.max(t,n),l=Math.min(e,i),h=Math.max(e,i);this.updateVal(ks.data,"startx",s,Math.min),this.updateVal(ks.data,"starty",l,Math.min),this.updateVal(ks.data,"stopx",o,Math.max),this.updateVal(ks.data,"stopy",h,Math.max),this.updateBounds(s,l,o,h)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},fy=M0.sectionFills,v6=M0.sectionColours,gZ=function(t,e,n){const i=ht().journey;let s="";const o=i.height*2+i.diagramMarginY,l=n+o;let h=0,f="#CCC",g="black",y=0;for(const[b,x]of e.entries()){if(s!==x.section){f=fy[h%fy.length],y=h%fy.length,g=v6[h%v6.length];const O={x:b*i.taskMargin+b*i.width+$l,y:50,text:x.section,fill:f,num:y,colour:g};dd.drawSection(t,O,i),s=x.section,h++}const k=x.people.reduce((O,I)=>(uo[I]&&(O[I]=uo[I]),O),{});x.x=b*i.taskMargin+b*i.width+$l,x.y=l,x.width=i.diagramMarginX,x.height=i.diagramMarginY,x.colour=g,x.fill=f,x.num=y,x.actors=k,dd.drawTask(t,x,i),ks.insert(x.x,x.y,x.x+x.width+i.taskMargin,300+5*30)}},x6={setConf:dZ,draw:pZ};let k6={};const py={setConf:function(t){k6={...k6,...t}},draw:(t,e,n)=>{try{E.debug(`Renering svg for syntax error
`);const i=re("#"+e),s=i.append("g");s.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),s.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),s.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),s.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),s.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),s.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),s.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),s.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+n),i.attr("height",100),i.attr("width",500),i.attr("viewBox","768 0 912 512")}catch(i){E.error("Error while rendering info diagram"),E.error(WR(i))}}};let w6=!1;const fd=()=>{w6||(w6=!0,ci("error",{db:{clear:()=>{}},styles:P3,renderer:py,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},t=>t.toLowerCase().trim()==="error"),ci("c4",{parser:GB,db:r5,renderer:d5,styles:W3,init:t=>{d5.setConf(t.c4)}},XB),ci("class",{parser:f5,db:qc,renderer:gW,styles:xh,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,qc.clear()}},RF),ci("classDiagram",{parser:f5,db:qc,renderer:fj,styles:xh,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,qc.clear()}},BF),ci("er",{parser:pj,db:bj,renderer:Dj,styles:F3},gj),ci("gantt",{parser:Qq,db:F2,renderer:OG,styles:V3},Jq),ci("info",{parser:MG,db:NG,renderer:DG,styles:$3},IG),ci("pie",{parser:RG,db:FG,renderer:PG,styles:Y3},BG),ci("requirement",{parser:VG,db:YG,renderer:GG,styles:U3},$G),ci("sequence",{parser:XG,db:Ow,renderer:Yw,styles:z3,init:t=>{if(t.sequence||(t.sequence={}),t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,"sequenceDiagram"in t)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");Ow.setWrap(t.wrap),Yw.setConf(t.sequence)}},KG),ci("state",{parser:Uw,db:co,renderer:OK,styles:x1,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,co.clear()}},HX),ci("stateDiagram",{parser:Uw,db:co,renderer:XK,styles:x1,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,co.clear()}},WX),ci("journey",{parser:KK,db:g6,renderer:x6,styles:H3,init:t=>{x6.setConf(t.journey),g6.clear()}},ZK),ci("flowchart",{parser:Ok,db:io,renderer:E2,styles:v1,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Kq.setConf(t.flowchart),io.clear(),io.setGen("gen-1")}},Ij),ci("flowchart-v2",{parser:Ok,db:io,renderer:E2,styles:v1,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,N3({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),E2.setConf(t.flowchart),io.clear(),io.setGen("gen-2")}},Rj),ci("gitGraph",{parser:bB,db:VB,renderer:jB,styles:qB},vB))};class gy{constructor(e,n){p(this,"type","graph"),p(this,"parser"),p(this,"renderer"),p(this,"db"),p(this,"detectTypeFailed",!1);var i,s;this.txt=e;const o=ht();this.txt=e;try{this.type=Zg(e,o)}catch(f){this.handleError(f,n),this.type="error",this.detectTypeFailed=!0}const l=q3(this.type);E.debug("Type "+this.type),this.db=l.db,(s=(i=this.db).clear)==null||s.call(i),this.renderer=l.renderer,this.parser=l.parser;const h=this.parser.parse.bind(this.parser);this.parser.parse=f=>h(wI(f,this.db)),this.parser.parser.yy=this.db,l.init&&(l.init(o),E.debug("Initialized diagram "+this.type,o)),this.txt+=`
`,this.parse(this.txt,n)}parse(e,n){var i,s;if(this.detectTypeFailed)return!1;try{return e=e+`
`,(s=(i=this.db).clear)==null||s.call(i),this.parser.parse(e),!0}catch(o){this.handleError(o,n)}return!1}handleError(e,n){if(n===void 0)throw e;if(rm(e)){n(e.str,e.hash);return}n(e)}getParser(){return this.parser}getType(){return this.type}}const my=(t,e)=>{const n=Zg(t,ht());try{q3(n)}catch{const s=CI(n);if(!s)throw new Error(`Diagram ${n} not found.`);return s().then(({diagram:o})=>(ci(n,o,void 0),new gy(t,e)))}return new gy(t,e)},yy=gy;function mZ(t,e){ru(e)||t.attr("aria-roledescription",e)}function yZ(t,e,n,i){if(t.insert!==void 0)if(e||n){if(n){const s="chart-desc-"+i;t.attr("aria-describedby",s),t.insert("desc",":first-child").attr("id",s).text(n)}if(e){const s="chart-title-"+i;t.attr("aria-labelledby",s),t.insert("title",":first-child").attr("id",s).text(e)}}else return}const _y=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],T6="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",E6="sandbox",C6="loose",_Z="http://www.w3.org/2000/svg",S6="http://www.w3.org/1999/xlink",A6="http://www.w3.org/1999/xhtml",bZ="100%",vZ="100%",xZ="border:0;margin:0;",kZ="margin:0",wZ="allow-top-navigation-by-user-activation allow-popups",TZ='The "iframe" tag is not supported by your browser.',L6=["foreignobject"],O6=["dominant-baseline"];function EZ(t,e){return fd(),new yy(t,e).parse(t,e)}async function CZ(t,e){return fd(),(await my(t,e)).parse(t,e)}const M6=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?"\uFB02\xB0\xB0"+i+"\xB6\xDF":"\uFB02\xB0"+i+"\xB6\xDF"}),e},by=function(t){let e=t;return e=e.replace(/ﬂ°°/g,"&#"),e=e.replace(/ﬂ°/g,"&"),e=e.replace(/¶ß/g,";"),e},N6=(t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,SZ=(t,e,n={})=>{var i;let s="";if(t.themeCSS!==void 0&&(s+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(s+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(s+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),!ru(n)&&_y.includes(e)){const f=t.htmlLabels||((i=t.flowchart)==null?void 0:i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const g in n){const y=n[g];ru(y.styles)||f.forEach(b=>{s+=N6(y.id,b,y.styles)}),ru(y.textStyles)||(s+=N6(y.id,"tspan",y.textStyles))}}return s},D6=(t,e,n,i)=>{const s=SZ(t,e,n),o=gB(e,s,t.themeVariables);return um(iB(`${i}{${o}}`),aB)},I6=(t="",e,n)=>{let i=t;return!n&&!e&&(i=i.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),i=by(i),i=i.replace(/<br>/g,"<br/>"),i},R6=(t="",e)=>{const n=e?e.viewBox.baseVal.height+"px":vZ,i=btoa('<body style="'+kZ+'">'+t+"</body>");return`<iframe style="width:${bZ};height:${n};${xZ}" src="data:text/html;base64,${i}" sandbox="${wZ}">
  ${TZ}
</iframe>`},N0=(t,e,n,i,s)=>{const o=t.append("div");o.attr("id",n),i&&o.attr("style",i);const l=o.append("svg").attr("id",e).attr("width","100%").attr("xmlns",_Z);return s&&l.attr("xmlns:xlink",s),l.append("g"),t};function D0(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const B6=(t,e,n,i)=>{var s,o,l;(s=t.getElementById(e))==null||s.remove(),(o=t.getElementById(n))==null||o.remove(),(l=t.getElementById(i))==null||l.remove()},AZ=function(t,e,n,i){var s,o,l,h,f;fd(),vh();const g=kn.detectInit(e);g&&(Cl(g),hm(g));const y=ht();E.debug(y),e.length>((s=y==null?void 0:y.maxTextSize)!=null?s:5e4)&&(e=T6),e=e.replace(/\r\n?/g,`
`);const b="#"+t,x="i"+t,k="#"+x,O="d"+t,I="#"+O;let R=re("body");const Y=y.securityLevel===E6,V=y.securityLevel===C6,X=y.fontFamily;if(i!==void 0){if(i&&(i.innerHTML=""),Y){const qt=D0(re(i),x);R=re(qt.nodes()[0].contentDocument.body),R.node().style.margin=0}else R=re(i);N0(R,t,O,`font-family: ${X}`,S6)}else{if(B6(document,t,O,x),Y){const qt=D0(re("body"),x);R=re(qt.nodes()[0].contentDocument.body),R.node().style.margin=0}else R=re("body");N0(R,t,O)}e=M6(e);let J,st;try{if(J=my(e),"then"in J)throw new Error("Diagram is a promise. Use renderAsync.")}catch(qt){J=new yy("error"),st=qt}const lt=R.select(I).node(),tt=J.type,at=lt.firstChild,q=at.firstChild,z=_y.includes(tt)?J.renderer.getClasses(e,J):{},$=D6(y,tt,z,b),N=document.createElement("style");N.innerHTML=$,at.insertBefore(N,q);try{J.renderer.draw(e,t,y1.version,J)}catch(qt){throw py.draw(e,t,y1.version),qt}const j=R.select(`${I} svg`),A=(l=(o=J.db).getAccTitle)==null?void 0:l.call(o),gt=(f=(h=J.db).getAccDescription)==null?void 0:f.call(h);F6(tt,j,A,gt),R.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",A6);let L=R.select(I).node().innerHTML;if(E.debug("config.arrowMarkerAbsolute",y.arrowMarkerAbsolute),L=I6(L,Y,oi(y.arrowMarkerAbsolute)),Y){const qt=R.select(I+" svg").node();L=R6(L,qt)}else V||(L=hh.sanitize(L,{ADD_TAGS:L6,ADD_ATTR:O6}));if(n!==void 0)switch(tt){case"flowchart":case"flowchart-v2":n(L,io.bindFunctions);break;case"gantt":n(L,F2.bindFunctions);break;case"class":case"classDiagram":n(L,qc.bindFunctions);break;default:n(L)}else E.debug("CB = undefined!");Mw();const ue=re(Y?k:I).node();if(ue&&"remove"in ue&&ue.remove(),st)throw st;return L},LZ=async function(t,e,n,i){var s,o,l,h,f;fd(),vh();const g=kn.detectInit(e);g&&(Cl(g),hm(g));const y=ht();E.debug(y),e.length>((s=y==null?void 0:y.maxTextSize)!=null?s:5e4)&&(e=T6),e=e.replace(/\r\n?/g,`
`);const b="#"+t,x="i"+t,k="#"+x,O="d"+t,I="#"+O;let R=re("body");const Y=y.securityLevel===E6,V=y.securityLevel===C6,X=y.fontFamily;if(i!==void 0){if(i&&(i.innerHTML=""),Y){const qt=D0(re(i),x);R=re(qt.nodes()[0].contentDocument.body),R.node().style.margin=0}else R=re(i);N0(R,t,O,`font-family: ${X}`,S6)}else{if(B6(document,t,O,x),Y){const qt=D0(re("body"),x);R=re(qt.nodes()[0].contentDocument.body),R.node().style.margin=0}else R=re("body");N0(R,t,O)}e=M6(e);let J,st;try{J=await my(e)}catch(qt){J=new yy("error"),st=qt}const lt=R.select(I).node(),tt=J.type,at=lt.firstChild,q=at.firstChild,z=_y.includes(tt)?J.renderer.getClasses(e,J):{},$=D6(y,tt,z,b),N=document.createElement("style");N.innerHTML=$,at.insertBefore(N,q);try{await J.renderer.draw(e,t,y1.version,J)}catch(qt){throw py.draw(e,t,y1.version),qt}const j=R.select(`${I} svg`),A=(l=(o=J.db).getAccTitle)==null?void 0:l.call(o),gt=(f=(h=J.db).getAccDescription)==null?void 0:f.call(h);F6(tt,j,A,gt),R.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",A6);let L=R.select(I).node().innerHTML;if(E.debug("config.arrowMarkerAbsolute",y.arrowMarkerAbsolute),L=I6(L,Y,oi(y.arrowMarkerAbsolute)),Y){const qt=R.select(I+" svg").node();L=R6(L,qt)}else V||(L=hh.sanitize(L,{ADD_TAGS:L6,ADD_ATTR:O6}));if(n!==void 0)switch(tt){case"flowchart":case"flowchart-v2":n(L,io.bindFunctions);break;case"gantt":n(L,F2.bindFunctions);break;case"class":case"classDiagram":n(L,qc.bindFunctions);break;default:n(L)}else E.debug("CB = undefined!");Mw();const ue=re(Y?k:I).node();if(ue&&"remove"in ue&&ue.remove(),st)throw st;return L};let Yl={};const OZ=function(t,e,n,i){try{if(e!==void 0)switch(e=e.trim(),n){case"open_directive":Yl={};break;case"type_directive":if(!Yl)throw new Error("currentDirective is undefined");Yl.type=e.toLowerCase();break;case"arg_directive":if(!Yl)throw new Error("currentDirective is undefined");Yl.args=JSON.parse(e);break;case"close_directive":MZ(t,Yl,i),Yl=void 0;break}}catch(s){E.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${n}`),E.error(s.message)}},MZ=function(t,e,n){switch(E.debug(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":{["config"].forEach(i=>{e.args[i]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),e.args[n]=e.args[i],delete e.args[i])}),E.debug("sanitize in handleDirective",e.args),Cl(e.args),E.debug("sanitize in handleDirective (done)",e.args),hm(e.args);break}case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap(e.type==="wrap");break;case"themeCss":E.warn("themeCss encountered");break;default:E.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e);break}};function NZ(t={}){var e;(t==null?void 0:t.fontFamily)&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={fontFamily:t.fontFamily}),lB(t),(t==null?void 0:t.theme)&&t.theme in Ha?t.themeVariables=Ha[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Ha.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?oB(t):M3();H(n.logLevel),fd()}function F6(t,e,n,i){mZ(e,t),yZ(e,n,i,e.attr("id"))}const Tr=Object.freeze({render:AZ,renderAsync:LZ,parse:EZ,parseAsync:CZ,parseDirective:OZ,initialize:NZ,getConfig:ht,setConfig:N3,getSiteConfig:M3,updateSiteConfig:cB,reset:()=>{vh()},globalReset:()=>{vh(Wc)},defaultConfig:Wc});H(ht().logLevel),vh(ht());let P6=!1;const DZ=async function(t,e,n){try{P6?await Y6(t,e,n):$6(t,e,n)}catch(i){E.warn("Syntax Error rendering"),rm(i)&&E.warn(i.str),ws.parseError&&ws.parseError(i)}},V6=(t,e,n)=>{E.warn(t),rm(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},$6=function(t,e,n){const i=Tr.getConfig();t&&(ws.sequenceConfig=t),E.debug(`${n?"":"No "}Callback function found`);let s;if(e===void 0)s=document.querySelectorAll(".mermaid");else if(typeof e=="string")s=document.querySelectorAll(e);else if(e instanceof HTMLElement)s=[e];else if(e instanceof NodeList)s=e;else throw new Error("Invalid argument nodes for mermaid.init");E.debug(`Found ${s.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(E.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),Tr.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const o=new kn.initIdGenerator(i.deterministicIds,i.deterministicIDSeed);let l;const h=[];for(const f of Array.from(s)){E.info("Rendering diagram: "+f.id);/*! Check if previously processed */if(f.getAttribute("data-processed"))continue;f.setAttribute("data-processed","true");const g=`mermaid-${o.next()}`;l=f.innerHTML,l=kn.entityDecode(l).trim().replace(/<br\s*\/?>/gi,"<br/>");const y=kn.detectInit(l);y&&E.debug("Detected early reinit: ",y);try{Tr.render(g,l,(b,x)=>{f.innerHTML=b,n!==void 0&&n(g),x&&x(f)},f)}catch(b){V6(b,h,ws.parseError)}}if(h.length>0)throw h[0]},IZ=t=>{for(const{id:e,detector:n,loader:i}of t)d3(e,n,i)},RZ=async t=>{E.debug(`Loading ${t.length} external diagrams`);const n=(await Promise.allSettled(t.map(async({id:i,detector:s,loader:o})=>{const{diagram:l}=await o();ci(i,l,s)}))).filter(i=>i.status==="rejected");if(n.length>0){E.error(`Failed to load ${n.length} external diagrams`);for(const i of n)E.error(i);throw new Error(`Failed to load ${n.length} external diagrams`)}},Y6=async function(t,e,n){const i=Tr.getConfig();t&&(ws.sequenceConfig=t),E.debug(`${n?"":"No "}Callback function found`);let s;if(e===void 0)s=document.querySelectorAll(".mermaid");else if(typeof e=="string")s=document.querySelectorAll(e);else if(e instanceof HTMLElement)s=[e];else if(e instanceof NodeList)s=e;else throw new Error("Invalid argument nodes for mermaid.init");E.debug(`Found ${s.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(E.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),Tr.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const o=new kn.initIdGenerator(i.deterministicIds,i.deterministicIDSeed);let l;const h=[];for(const f of Array.from(s)){E.info("Rendering diagram: "+f.id);/*! Check if previously processed */if(f.getAttribute("data-processed"))continue;f.setAttribute("data-processed","true");const g=`mermaid-${o.next()}`;l=f.innerHTML,l=kn.entityDecode(l).trim().replace(/<br\s*\/?>/gi,"<br/>");const y=kn.detectInit(l);y&&E.debug("Detected early reinit: ",y);try{await Tr.renderAsync(g,l,(b,x)=>{f.innerHTML=b,n!==void 0&&n(g),x&&x(f)},f)}catch(b){V6(b,h,ws.parseError)}}if(h.length>0)throw h[0]},BZ=function(t){Tr.initialize(t)},FZ=async(t,{lazyLoad:e=!0}={})=>{e?IZ(t):await RZ(t),P6=!0},U6=function(){if(ws.startOnLoad){const{startOnLoad:t}=Tr.getConfig();t&&ws.init()}};if(typeof document!="undefined"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",U6,!1)}const PZ=function(t){ws.parseError=t},VZ=t=>Tr.parse(t,ws.parseError),I0=[];let vy=!1;const z6=async()=>{if(!vy){for(vy=!0;I0.length>0;){const t=I0.shift();if(t)try{await t()}catch(e){E.error("Error executing queue",e)}}vy=!1}},$Z=t=>new Promise((e,n)=>{const i=()=>new Promise((s,o)=>{Tr.parseAsync(t,ws.parseError).then(l=>{s(l),e(l)},l=>{E.error("Error parsing",l),o(l),n(l)})});I0.push(i),z6()}),YZ=(t,e,n,i)=>new Promise((s,o)=>{const l=()=>new Promise((h,f)=>{Tr.renderAsync(t,e,n,i).then(g=>{h(g),s(g)},g=>{E.error("Error parsing",g),f(g),o(g)})});I0.push(l),z6()}),ws={startOnLoad:!0,diagrams:{},mermaidAPI:Tr,parse:VZ,parseAsync:$Z,render:Tr.render,renderAsync:YZ,init:DZ,initThrowsErrors:$6,initThrowsErrorsAsync:Y6,registerExternalDiagrams:FZ,initialize:BZ,parseError:void 0,contentLoaded:U6,setParseErrorHandler:PZ};return ws})})(L_,L_.exports);var wp=Jot(L_.exports);let tlt=r=>crypto.getRandomValues(new Uint8Array(r)),elt=(r,a,u)=>{let d=(2<<Math.log(r.length-1)/Math.LN2)-1,p=-~(1.6*d*a/r.length);return(_=a)=>{let v="";for(;;){let C=u(p),S=p;for(;S--;)if(v+=r[C[S]&d]||"",v.length===_)return v}}},nlt=(r,a=21)=>elt(r,a,tlt);const rlt=typeof atob=="function",vb=typeof Buffer=="function",NT=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const ilt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",slt=Array.prototype.slice.call(ilt),J0=(r=>{let a={};return r.forEach((u,d)=>a[u]=d),a})(slt),alt=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,lc=String.fromCharCode.bind(String),DT=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(r,a=u=>u)=>new Uint8Array(Array.prototype.slice.call(r,0).map(a)),nC=r=>r.replace(/[^A-Za-z0-9\+\/]/g,""),olt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,llt=r=>{switch(r.length){case 4:var a=(7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3),u=a-65536;return lc((u>>>10)+55296)+lc((u&1023)+56320);case 3:return lc((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return lc((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},clt=r=>r.replace(olt,llt),ult=r=>{if(r=r.replace(/\s+/g,""),!alt.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(r.length&3));let a,u="",d,p;for(let _=0;_<r.length;)a=J0[r.charAt(_++)]<<18|J0[r.charAt(_++)]<<12|(d=J0[r.charAt(_++)])<<6|(p=J0[r.charAt(_++)]),u+=d===64?lc(a>>16&255):p===64?lc(a>>16&255,a>>8&255):lc(a>>16&255,a>>8&255,a&255);return u},rC=rlt?r=>atob(nC(r)):vb?r=>Buffer.from(r,"base64").toString("binary"):ult,hlt=vb?r=>DT(Buffer.from(r,"base64")):r=>DT(rC(r),a=>a.charCodeAt(0)),dlt=vb?r=>Buffer.from(r,"base64").toString("utf8"):NT?r=>NT.decode(hlt(r)):r=>clt(rC(r)),flt=r=>nC(r.replace(/[-_]/g,a=>a=="-"?"+":"/")),plt=r=>dlt(flt(r));var glt=()=>({theme:"default"});wp.startOnLoad=!1;wp.initialize({startOnLoad:!1});const mlt=nlt("abcedfghicklmn",10),IT=new Map;function ylt(r,a){const u=r+JSON.stringify(a),d=IT.get(u);if(d)return d;wp.initialize({startOnLoad:!1,...Y8(glt()||{}),...Y8(a)});const p=plt(r),_=mlt(),v=wp.render(_,p);return IT.set(u,v),v}const _lt=Xn({__name:"ShadowRoot",props:{innerHtml:null},emits:["shadow"],setup(r,{emit:a}){const u=r;le(ve);const d=Se(),p=Qt(()=>d.value?d.value.shadowRoot||d.value.attachShadow({mode:"open"}):null);return al(()=>{p.value&&(a("shadow",p.value),p.value.innerHTML=u.innerHtml)}),(_,v)=>(Mt(),Pe("div",{ref_key:"el",ref:d},null,512))}}),xb=Xn({__name:"Mermaid",props:{code:null,scale:null,theme:null},setup(r){const a=r;le(ve);const u=Ra(),d=Se(),p=Qt(()=>ylt(a.code||"",{theme:a.theme||(qp.value?"dark":void 0),...u.attrs})),_=Qt(()=>p.value),v=Se();return Vn(_,()=>{v.value=void 0}),al(()=>{var S,D,E;const C=(D=(S=d.value)==null?void 0:S.children)==null?void 0:D[0];if(C&&C.hasAttribute("viewBox")&&v.value==null){const H=parseFloat(((E=C.getAttribute("viewBox"))==null?void 0:E.split(" ")[3])||"");v.value=isNaN(H)?void 0:H}},{flush:"post"}),al(()=>{var S,D;const C=(D=(S=d.value)==null?void 0:S.children)==null?void 0:D[0];C!=null&&a.scale!=null&&v.value!=null&&(C.setAttribute("height",`${v.value*a.scale}`),C.removeAttribute("width"),C.removeAttribute("style"))},{flush:"post"}),(C,S)=>(Mt(),be(_lt,{ref_key:"el",ref:d,class:"mermaid","inner-html":St(_),onShadow:S[0]||(S[0]=D=>d.value=D)},null,8,["inner-html"]))}}),blt=w("h2",null,[w("code",null,"Product")],-1),vlt={grid:"~ cols-4 gap-4"},xlt=w("div",{class:"col-span-2"},[w("p",null,[P("A product of two objects "),w("code",null,"a"),P(" and "),w("code",null,"b"),P(" is the object "),w("code",null,"c"),P(" equipped with two projections such that for any other object "),w("code",null,"c\u2019"),P(" equipped with two projections there is a unique morphism "),w("code",null,"m"),P(" from "),w("code",null,"c\u2019"),P(" to "),w("code",null,"c"),P(" that factorizes those projections")])],-1),klt={class:"col-start-4"},wlt={__name:"21",setup(r){const a={};return le(ve),(u,d)=>{const p=xb;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[blt,w("div",vlt,[xlt,w("div",klt,[Ne(p,ii({code:"Z3JhcGggVEQKQycoYycpIC0uIG0gLi0-ICBDKGMpCkMnLS0gcCcgLS0-IEEoYSkKQy0tIHAgLS0-IEEoYSkKQy0tIHEgLS0-IEIoYikKQyctLSBxJyAtLT4gQihiKQ"},{theme:"dark",scale:2}),null,16)])])]),_:1},16)}}},Tlt=w("h2",null,[w("code",null,"Product")],-1),Elt={grid:"~ cols-4 gap-4"},Clt=w("div",{class:"col-span-2"},[w("p",null,[P("A product of two objects "),w("code",null,"a"),P(" and "),w("code",null,"b"),P(" is the object "),w("code",null,"c"),P(" equipped with two projections such that for any other object "),w("code",null,"c\u2019"),P(" equipped with two projections there is a unique morphism "),w("code",null,"m"),P(" from "),w("code",null,"c\u2019"),P(" to "),w("code",null,"c"),P(" that factorizes those projections")])],-1),Slt={class:"col-start-4"},Alt={__name:"22",setup(r){const a={};return le(ve),(u,d)=>{const p=xb;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[Tlt,w("div",Elt,[Clt,w("div",Slt,[Ne(p,ii({code:"Z3JhcGggVEQKQycoSW50KSAtLiBtIC4tPiAgQygoSW50LEJvb2wpKQpDJy0tIHAgLS0-IEEoYSkKQy0tIGZzdCAtLT4gQShJbnQpCkMtLSBzbmQgLS0-IEIoQm9vbCkKQyctLSBxIC0tPiBCKEJvb2wp"},{theme:"dark",scale:1.78}),null,16)])])]),_:1},16)}}},Llt={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Olt=w("path",{fill:"currentColor",d:"M200 32h-36.3a47.8 47.8 0 0 0-71.4 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32.1 32.1 0 0 1 32 32H96a32.1 32.1 0 0 1 32-32Zm72 184H56V48h26.8A47.2 47.2 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.2 47.2 0 0 0-2.8-16H200Z"},null,-1),Mlt=[Olt];function Nlt(r,a){return Mt(),Pe("svg",Llt,Mlt)}var Dlt={name:"ph-clipboard",render:Nlt};const Ilt={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Rlt=w("path",{fill:"currentColor",d:"M177.8 98.5a8 8 0 0 1-.3 11.3l-58.6 56a8.1 8.1 0 0 1-5.6 2.2a7.9 7.9 0 0 1-5.5-2.2l-29.3-28a8 8 0 1 1 11-11.6l23.8 22.7l53.2-50.7a8 8 0 0 1 11.3.3ZM232 128A104 104 0 1 1 128 24a104.2 104.2 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),Blt=[Rlt];function Flt(r,a){return Mt(),Pe("svg",Ilt,Blt)}var Plt={name:"ph-check-circle",render:Flt};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function iC(r){return typeof r=="undefined"||r===null}function Vlt(r){return typeof r=="object"&&r!==null}function $lt(r){return Array.isArray(r)?r:iC(r)?[]:[r]}function Ylt(r,a){var u,d,p,_;if(a)for(_=Object.keys(a),u=0,d=_.length;u<d;u+=1)p=_[u],r[p]=a[p];return r}function Ult(r,a){var u="",d;for(d=0;d<a;d+=1)u+=r;return u}function zlt(r){return r===0&&Number.NEGATIVE_INFINITY===1/r}var Hlt=iC,Wlt=Vlt,jlt=$lt,qlt=Ult,Glt=zlt,Xlt=Ylt,kb={isNothing:Hlt,isObject:Wlt,toArray:jlt,repeat:qlt,isNegativeZero:Glt,extend:Xlt};function sC(r,a){var u="",d=r.reason||"(unknown reason)";return r.mark?(r.mark.name&&(u+='in "'+r.mark.name+'" '),u+="("+(r.mark.line+1)+":"+(r.mark.column+1)+")",!a&&r.mark.snippet&&(u+=`

`+r.mark.snippet),d+" "+u):d}function qd(r,a){Error.call(this),this.name="YAMLException",this.reason=r,this.mark=a,this.message=sC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}qd.prototype=Object.create(Error.prototype);qd.prototype.constructor=qd;qd.prototype.toString=function(a){return this.name+": "+sC(this,a)};var ic=qd,Klt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Zlt=["scalar","sequence","mapping"];function Qlt(r){var a={};return r!==null&&Object.keys(r).forEach(function(u){r[u].forEach(function(d){a[String(d)]=u})}),a}function Jlt(r,a){if(a=a||{},Object.keys(a).forEach(function(u){if(Klt.indexOf(u)===-1)throw new ic('Unknown option "'+u+'" is met in definition of "'+r+'" YAML type.')}),this.options=a,this.tag=r,this.kind=a.kind||null,this.resolve=a.resolve||function(){return!0},this.construct=a.construct||function(u){return u},this.instanceOf=a.instanceOf||null,this.predicate=a.predicate||null,this.represent=a.represent||null,this.representName=a.representName||null,this.defaultStyle=a.defaultStyle||null,this.multi=a.multi||!1,this.styleAliases=Qlt(a.styleAliases||null),Zlt.indexOf(this.kind)===-1)throw new ic('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')}var Li=Jlt;function RT(r,a){var u=[];return r[a].forEach(function(d){var p=u.length;u.forEach(function(_,v){_.tag===d.tag&&_.kind===d.kind&&_.multi===d.multi&&(p=v)}),u[p]=d}),u}function tct(){var r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},a,u;function d(p){p.multi?(r.multi[p.kind].push(p),r.multi.fallback.push(p)):r[p.kind][p.tag]=r.fallback[p.tag]=p}for(a=0,u=arguments.length;a<u;a+=1)arguments[a].forEach(d);return r}function O_(r){return this.extend(r)}O_.prototype.extend=function(a){var u=[],d=[];if(a instanceof Li)d.push(a);else if(Array.isArray(a))d=d.concat(a);else if(a&&(Array.isArray(a.implicit)||Array.isArray(a.explicit)))a.implicit&&(u=u.concat(a.implicit)),a.explicit&&(d=d.concat(a.explicit));else throw new ic("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");u.forEach(function(_){if(!(_ instanceof Li))throw new ic("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(_.loadKind&&_.loadKind!=="scalar")throw new ic("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(_.multi)throw new ic("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),d.forEach(function(_){if(!(_ instanceof Li))throw new ic("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var p=Object.create(O_.prototype);return p.implicit=(this.implicit||[]).concat(u),p.explicit=(this.explicit||[]).concat(d),p.compiledImplicit=RT(p,"implicit"),p.compiledExplicit=RT(p,"explicit"),p.compiledTypeMap=tct(p.compiledImplicit,p.compiledExplicit),p};var ect=O_,nct=new Li("tag:yaml.org,2002:str",{kind:"scalar",construct:function(r){return r!==null?r:""}}),rct=new Li("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(r){return r!==null?r:[]}}),ict=new Li("tag:yaml.org,2002:map",{kind:"mapping",construct:function(r){return r!==null?r:{}}}),sct=new ect({explicit:[nct,rct,ict]});function act(r){if(r===null)return!0;var a=r.length;return a===1&&r==="~"||a===4&&(r==="null"||r==="Null"||r==="NULL")}function oct(){return null}function lct(r){return r===null}var cct=new Li("tag:yaml.org,2002:null",{kind:"scalar",resolve:act,construct:oct,predicate:lct,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function uct(r){if(r===null)return!1;var a=r.length;return a===4&&(r==="true"||r==="True"||r==="TRUE")||a===5&&(r==="false"||r==="False"||r==="FALSE")}function hct(r){return r==="true"||r==="True"||r==="TRUE"}function dct(r){return Object.prototype.toString.call(r)==="[object Boolean]"}var fct=new Li("tag:yaml.org,2002:bool",{kind:"scalar",resolve:uct,construct:hct,predicate:dct,represent:{lowercase:function(r){return r?"true":"false"},uppercase:function(r){return r?"TRUE":"FALSE"},camelcase:function(r){return r?"True":"False"}},defaultStyle:"lowercase"});function pct(r){return 48<=r&&r<=57||65<=r&&r<=70||97<=r&&r<=102}function gct(r){return 48<=r&&r<=55}function mct(r){return 48<=r&&r<=57}function yct(r){if(r===null)return!1;var a=r.length,u=0,d=!1,p;if(!a)return!1;if(p=r[u],(p==="-"||p==="+")&&(p=r[++u]),p==="0"){if(u+1===a)return!0;if(p=r[++u],p==="b"){for(u++;u<a;u++)if(p=r[u],p!=="_"){if(p!=="0"&&p!=="1")return!1;d=!0}return d&&p!=="_"}if(p==="x"){for(u++;u<a;u++)if(p=r[u],p!=="_"){if(!pct(r.charCodeAt(u)))return!1;d=!0}return d&&p!=="_"}if(p==="o"){for(u++;u<a;u++)if(p=r[u],p!=="_"){if(!gct(r.charCodeAt(u)))return!1;d=!0}return d&&p!=="_"}}if(p==="_")return!1;for(;u<a;u++)if(p=r[u],p!=="_"){if(!mct(r.charCodeAt(u)))return!1;d=!0}return!(!d||p==="_")}function _ct(r){var a=r,u=1,d;if(a.indexOf("_")!==-1&&(a=a.replace(/_/g,"")),d=a[0],(d==="-"||d==="+")&&(d==="-"&&(u=-1),a=a.slice(1),d=a[0]),a==="0")return 0;if(d==="0"){if(a[1]==="b")return u*parseInt(a.slice(2),2);if(a[1]==="x")return u*parseInt(a.slice(2),16);if(a[1]==="o")return u*parseInt(a.slice(2),8)}return u*parseInt(a,10)}function bct(r){return Object.prototype.toString.call(r)==="[object Number]"&&r%1===0&&!kb.isNegativeZero(r)}var vct=new Li("tag:yaml.org,2002:int",{kind:"scalar",resolve:yct,construct:_ct,predicate:bct,represent:{binary:function(r){return r>=0?"0b"+r.toString(2):"-0b"+r.toString(2).slice(1)},octal:function(r){return r>=0?"0o"+r.toString(8):"-0o"+r.toString(8).slice(1)},decimal:function(r){return r.toString(10)},hexadecimal:function(r){return r>=0?"0x"+r.toString(16).toUpperCase():"-0x"+r.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),xct=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function kct(r){return!(r===null||!xct.test(r)||r[r.length-1]==="_")}function wct(r){var a,u;return a=r.replace(/_/g,"").toLowerCase(),u=a[0]==="-"?-1:1,"+-".indexOf(a[0])>=0&&(a=a.slice(1)),a===".inf"?u===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:a===".nan"?NaN:u*parseFloat(a,10)}var Tct=/^[-+]?[0-9]+e/;function Ect(r,a){var u;if(isNaN(r))switch(a){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===r)switch(a){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===r)switch(a){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(kb.isNegativeZero(r))return"-0.0";return u=r.toString(10),Tct.test(u)?u.replace("e",".e"):u}function Cct(r){return Object.prototype.toString.call(r)==="[object Number]"&&(r%1!==0||kb.isNegativeZero(r))}var Sct=new Li("tag:yaml.org,2002:float",{kind:"scalar",resolve:kct,construct:wct,predicate:Cct,represent:Ect,defaultStyle:"lowercase"}),Act=sct.extend({implicit:[cct,fct,vct,Sct]}),Lct=Act,aC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),oC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Oct(r){return r===null?!1:aC.exec(r)!==null||oC.exec(r)!==null}function Mct(r){var a,u,d,p,_,v,C,S=0,D=null,E,H,W;if(a=aC.exec(r),a===null&&(a=oC.exec(r)),a===null)throw new Error("Date resolve error");if(u=+a[1],d=+a[2]-1,p=+a[3],!a[4])return new Date(Date.UTC(u,d,p));if(_=+a[4],v=+a[5],C=+a[6],a[7]){for(S=a[7].slice(0,3);S.length<3;)S+="0";S=+S}return a[9]&&(E=+a[10],H=+(a[11]||0),D=(E*60+H)*6e4,a[9]==="-"&&(D=-D)),W=new Date(Date.UTC(u,d,p,_,v,C,S)),D&&W.setTime(W.getTime()-D),W}function Nct(r){return r.toISOString()}var Dct=new Li("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Oct,construct:Mct,instanceOf:Date,represent:Nct});function Ict(r){return r==="<<"||r===null}var Rct=new Li("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Ict}),wb=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Bct(r){if(r===null)return!1;var a,u,d=0,p=r.length,_=wb;for(u=0;u<p;u++)if(a=_.indexOf(r.charAt(u)),!(a>64)){if(a<0)return!1;d+=6}return d%8===0}function Fct(r){var a,u,d=r.replace(/[\r\n=]/g,""),p=d.length,_=wb,v=0,C=[];for(a=0;a<p;a++)a%4===0&&a&&(C.push(v>>16&255),C.push(v>>8&255),C.push(v&255)),v=v<<6|_.indexOf(d.charAt(a));return u=p%4*6,u===0?(C.push(v>>16&255),C.push(v>>8&255),C.push(v&255)):u===18?(C.push(v>>10&255),C.push(v>>2&255)):u===12&&C.push(v>>4&255),new Uint8Array(C)}function Pct(r){var a="",u=0,d,p,_=r.length,v=wb;for(d=0;d<_;d++)d%3===0&&d&&(a+=v[u>>18&63],a+=v[u>>12&63],a+=v[u>>6&63],a+=v[u&63]),u=(u<<8)+r[d];return p=_%3,p===0?(a+=v[u>>18&63],a+=v[u>>12&63],a+=v[u>>6&63],a+=v[u&63]):p===2?(a+=v[u>>10&63],a+=v[u>>4&63],a+=v[u<<2&63],a+=v[64]):p===1&&(a+=v[u>>2&63],a+=v[u<<4&63],a+=v[64],a+=v[64]),a}function Vct(r){return Object.prototype.toString.call(r)==="[object Uint8Array]"}var $ct=new Li("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Bct,construct:Fct,predicate:Vct,represent:Pct}),Yct=Object.prototype.hasOwnProperty,Uct=Object.prototype.toString;function zct(r){if(r===null)return!0;var a=[],u,d,p,_,v,C=r;for(u=0,d=C.length;u<d;u+=1){if(p=C[u],v=!1,Uct.call(p)!=="[object Object]")return!1;for(_ in p)if(Yct.call(p,_))if(!v)v=!0;else return!1;if(!v)return!1;if(a.indexOf(_)===-1)a.push(_);else return!1}return!0}function Hct(r){return r!==null?r:[]}var Wct=new Li("tag:yaml.org,2002:omap",{kind:"sequence",resolve:zct,construct:Hct}),jct=Object.prototype.toString;function qct(r){if(r===null)return!0;var a,u,d,p,_,v=r;for(_=new Array(v.length),a=0,u=v.length;a<u;a+=1){if(d=v[a],jct.call(d)!=="[object Object]"||(p=Object.keys(d),p.length!==1))return!1;_[a]=[p[0],d[p[0]]]}return!0}function Gct(r){if(r===null)return[];var a,u,d,p,_,v=r;for(_=new Array(v.length),a=0,u=v.length;a<u;a+=1)d=v[a],p=Object.keys(d),_[a]=[p[0],d[p[0]]];return _}var Xct=new Li("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:qct,construct:Gct}),Kct=Object.prototype.hasOwnProperty;function Zct(r){if(r===null)return!0;var a,u=r;for(a in u)if(Kct.call(u,a)&&u[a]!==null)return!1;return!0}function Qct(r){return r!==null?r:{}}var Jct=new Li("tag:yaml.org,2002:set",{kind:"mapping",resolve:Zct,construct:Qct});Lct.extend({implicit:[Dct,Rct],explicit:[$ct,Wct,Xct,Jct]});function BT(r){return r===48?"\0":r===97?"\x07":r===98?"\b":r===116||r===9?"	":r===110?`
`:r===118?"\v":r===102?"\f":r===114?"\r":r===101?"\x1B":r===32?" ":r===34?'"':r===47?"/":r===92?"\\":r===78?"\x85":r===95?"\xA0":r===76?"\u2028":r===80?"\u2029":""}var tut=new Array(256),eut=new Array(256);for(var Tu=0;Tu<256;Tu++)tut[Tu]=BT(Tu)?1:0,eut[Tu]=BT(Tu);function nut(r){return Array.from(new Set(r))}function FT(...r){let a,u,d;r.length===1?(a=0,d=1,[u]=r):[a,u,d=1]=r;const p=[];let _=a;for(;_<u;)p.push(_),_+=d||1;return p}function rut(r,a){if(!a||a==="all"||a==="*")return FT(1,r+1);const u=[];for(const d of a.split(/[,;]/g))if(!d.includes("-"))u.push(+d);else{const[p,_]=d.split("-",2);u.push(...FT(+p,_?+_+1:r+1))}return nut(u).filter(d=>d<=r).sort((d,p)=>d-p)}const iut=["title"],Ba=Xn({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(r){const a=r;le(ve);const u=le(Ld),d=le(rc),p=le(Od);function _(H=5){const W=[],K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ot=K.length;for(let Tt=0;Tt<H;Tt++)W.push(K.charAt(Math.floor(Math.random()*ot)));return W.join("")}const v=Se(),C=Ra();_c(()=>{const H=a.at==null?d==null?void 0:d.value.length:a.at,W=Qt(()=>p!=null&&p.value?a.ranges.length-1:Math.min(Math.max(0,((u==null?void 0:u.value)||0)-(H||0)),a.ranges.length-1)),K=Qt(()=>a.ranges[W.value]||"");if(a.ranges.length>=2&&!(p!=null&&p.value)){const ot=_(),Tt=Btt(a.ranges.length-1).map(Lt=>ot+Lt);d!=null&&d.value&&(d.value.push(...Tt),Yp(()=>Tt.forEach(Lt=>y_(d.value,Lt)),C))}al(()=>{if(!v.value)return;const Tt=v.value.querySelector(".shiki-dark")?Array.from(v.value.querySelectorAll(".shiki")):[v.value];for(const Lt of Tt){const Kt=Array.from(Lt.querySelectorAll(".line")),Pt=rut(Kt.length,K.value);if(Kt.forEach((Nt,Gt)=>{const he=Pt.includes(Gt+1);Nt.classList.toggle(tc,!0),Nt.classList.toggle("highlighted",he),Nt.classList.toggle("dishonored",!he)}),a.maxHeight){const Nt=Lt.querySelector(".line.highlighted");Nt&&Nt.scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:S,copy:D}=Vet();function E(){var W,K;const H=(K=(W=v.value)==null?void 0:W.querySelector(".slidev-code"))==null?void 0:K.textContent;H&&D(H)}return(H,W)=>{const K=Plt,ot=Dlt;return Mt(),Pe("div",{ref_key:"el",ref:v,class:"slidev-code-wrapper relative group",style:Oi({"max-height":a.maxHeight,"overflow-y":a.maxHeight?"scroll":void 0})},[Ia(H.$slots,"default"),St(Jn).codeCopy?(Mt(),Pe("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:St(S)?"Copied":"Copy",onClick:W[0]||(W[0]=Tt=>E())},[St(S)?(Mt(),be(K,{key:0,class:"p-2 w-8 h-8"})):(Mt(),be(ot,{key:1,class:"p-2 w-8 h-8"}))],8,iut)):zn("v-if",!0)],4)}}}),sut=w("h2",null,[w("code",null,"Product")],-1),aut=w("pre",{class:"slidev-code language-rust"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token keyword"},"struct"),P(),w("span",{class:"token type-definition class-name"},"Point"),P(),w("span",{class:"token punctuation"},"{")]),P(`
`),w("span",{class:"line"},[P("    x"),w("span",{class:"token punctuation"},":"),P(),w("span",{class:"token keyword"},"u8"),w("span",{class:"token punctuation"},",")]),P(`
`),w("span",{class:"line"},[P("    y"),w("span",{class:"token punctuation"},":"),P(),w("span",{class:"token keyword"},"u8"),w("span",{class:"token punctuation"},",")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token punctuation"},"}")]),P(`
`),w("span",{class:"line"}),P(`
`),w("span",{class:"line"},[w("span",{class:"token keyword"},"struct"),P(),w("span",{class:"token type-definition class-name"},"Point"),w("span",{class:"token punctuation"},"("),w("span",{class:"token keyword"},"u8"),w("span",{class:"token punctuation"},","),P(),w("span",{class:"token keyword"},"u8"),w("span",{class:"token punctuation"},")"),w("span",{class:"token punctuation"},";")])])],-1),out=w("p",null,[P("Point has "),w("code",null,"x * y"),P(),w("em",null,"(255 * 255)"),P(" possible values")],-1),lut={__name:"23",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[sut,Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[aut]),_:1},16),out]),_:1},16)}}},cut=w("h2",null,[w("code",null,"Coproduct")],-1),uut={grid:"~ cols-4 gap-4"},hut=w("div",{class:"col-span-2"},[w("p",null,[P("A coproduct (sum) of two objects "),w("code",null,"a"),P(" and "),w("code",null,"b"),P(" is the object "),w("code",null,"c"),P(" equipped with two injections such that for any other object "),w("code",null,"c\u2019"),P(" equipped with two injections there is a unique morphism "),w("code",null,"m"),P(" from "),w("code",null,"c"),P(" to "),w("code",null,"c\u2019"),P(" that factorizes those injections")])],-1),dut={class:"col-start-4"},fut={__name:"24",setup(r){const a={};return le(ve),(u,d)=>{const p=xb;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[cut,w("div",uut,[hut,w("div",dut,[Ne(p,ii({code:"Z3JhcGggVEIKQShhKSAtLSBpIC0tPiBDKGMpCkEoYSkgLS0gaScgLS0-IEMnKGMnKQpCKGIpIC0tIGogLS0-IEMoYykKQyhjKSAtLiBtIC4tPiBDJyhjJykKQihiKSAtLSBqJyAtLT4gQycoYycp"},{theme:"dark",scale:2}),null,16)])])]),_:1},16)}}},put=w("h2",null,[w("code",null,"Sum"),P(" types")],-1),gut=w("pre",{class:"slidev-code language-rust"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token keyword"},"enum"),P(),w("span",{class:"token type-definition class-name"},"Card"),P(),w("span",{class:"token punctuation"},"{")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token class-name"},"Number"),w("span",{class:"token punctuation"},"("),w("span",{class:"token keyword"},"u8"),w("span",{class:"token punctuation"},")"),w("span",{class:"token punctuation"},","),P(),w("span",{class:"token comment"},"// injection `i`: u8 -> Card")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token class-name"},"Figure"),w("span",{class:"token punctuation"},"("),w("span",{class:"token class-name"},"FigureType"),w("span",{class:"token punctuation"},")"),w("span",{class:"token punctuation"},","),P(),w("span",{class:"token comment"},"// injection `j`: FigureType -> Card")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token punctuation"},"}")]),P(`
`),w("span",{class:"line"}),P(`
`),w("span",{class:"line"},[w("span",{class:"token comment"},"// enum FigureType {")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token comment"},"//     King,")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token comment"},"//     Queen,")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token comment"},"//     Jack,")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token comment"},"// }")])])],-1),mut=w("p",null,[P("Card has "),w("code",null,"3 + n"),P(),w("em",null,"(3 + 255)"),P(" possible values")],-1),yut={__name:"25",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[put,Ne(p,ii({},{ranges:["all","2","3","all"]}),{default:ke(()=>[gut]),_:1},16),mut]),_:1},16)}}};var _ut=Xn({props:{every:{type:Number,default:1},at:{type:[Number,String],default:null},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1}},render(){var _,v;const r=m8("click"),a=m8("after"),u=(C,S,D)=>Up(C,[[S,this.at!=null?+this.at+D:null,"",{hide:this.hide,fade:this.fade}]]);let d=(v=(_=this.$slots).default)==null?void 0:v.call(_);if(!d)return;d=Rtt(d);const p=C=>C.map((S,D)=>gc(S)?u(Ai(S),D%this.every===0?r:a,Math.floor(D/this.every)):S);return d.length===1&&["ul","ol"].includes(d[0].type)&&Array.isArray(d[0].children)?Ai(d[0],{},[p(d[0].children)]):p(d)}}),ju=Xn({props:{at:{type:[Number,String],default:null},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1}},render(){return Ne(_ut,{every:99999,at:this.at,hide:this.hide,fade:this.fade},{default:this.$slots.default})}});const but=w("pre",{class:"slidev-code language-rust"},[w("code",null,[w("span",{class:"line"}),P(`
`),w("span",{class:"line"},[w("span",{class:"token keyword"},"struct"),P(),w("span",{class:"token type-definition class-name"},"Contact1"),P(),w("span",{class:"token punctuation"},"{")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token class-name"},"Address"),P(),w("span",{class:"token punctuation"},":"),P(),w("span",{class:"token class-name"},"Option"),w("span",{class:"token operator"},"<"),w("span",{class:"token class-name"},"String"),w("span",{class:"token operator"},">"),w("span",{class:"token punctuation"},",")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token class-name"},"Number"),P(),w("span",{class:"token punctuation"},":"),P(),w("span",{class:"token class-name"},"Option"),w("span",{class:"token operator"},"<"),w("span",{class:"token keyword"},"u32"),w("span",{class:"token operator"},">")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token punctuation"},"}")]),P(`
`),w("span",{class:"line"}),P(`
`),w("span",{class:"line"},[w("span",{class:"token keyword"},"enum"),P(),w("span",{class:"token type-definition class-name"},"Contact2"),w("span",{class:"token punctuation"},"{"),P()]),P(`
`),w("span",{class:"line"},[P("  "),w("span",{class:"token class-name"},"AddressAndNumber"),w("span",{class:"token punctuation"},"("),w("span",{class:"token class-name"},"String"),w("span",{class:"token punctuation"},","),P(),w("span",{class:"token keyword"},"u32"),w("span",{class:"token punctuation"},")"),w("span",{class:"token punctuation"},",")]),P(`
`),w("span",{class:"line"},[P("  "),w("span",{class:"token class-name"},"Address"),w("span",{class:"token punctuation"},"("),w("span",{class:"token class-name"},"String"),w("span",{class:"token punctuation"},")"),w("span",{class:"token punctuation"},",")]),P(`
`),w("span",{class:"line"},[P("  "),w("span",{class:"token class-name"},"Number"),w("span",{class:"token punctuation"},"("),w("span",{class:"token keyword"},"u32"),w("span",{class:"token punctuation"},")"),w("span",{class:"token punctuation"},",")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token punctuation"},"}")])])],-1),vut=w("p",null,[w("em",null,"Contact1"),P(" has "),w("code",null,"c1 = (s + 1) * (i + 1)"),P(" values. "),w("br"),w("em",null,"Contact2"),P(" has "),w("code",null,"c2 = (s * i) + s + i"),P(" values. "),w("br"),P(" But "),w("code",null,"c1 = (s * i) + s + i + 1"),P(". "),w("br"),P(" So "),w("code",null,"c1 != c2"),P(" (no address provided is not possible in "),w("em",null,"Contact2"),P(")")],-1),xut={__name:"26",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba,_=ju;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[but]),_:1},16),Ne(_,null,{default:ke(()=>[vut]),_:1})]),_:1},16)}}},kut=w("h2",null,[P("Make illegal states "),w("code",null,"unrepresentable")],-1),wut={__name:"27",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[kut]),_:1},16))}},Tut=w("h2",null,"Phew.",-1),Eut=w("p",null,[P("Now, back to "),w("code",null,"Algebraic"),P(" Structures")],-1),Cut={__name:"28",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Tut,Eut]),_:1},16))}};var Sut="/slides/presentations/programming_with_algebra/category_theory_two_elements.png";const Aut=w("img",{src:Sut,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),Lut={__name:"29",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Aut]),_:1},16))}},Out=w("img",{src:eC,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),Mut={__name:"30",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Out]),_:1},16))}};var lC="/slides/presentations/programming_with_algebra/category_theory_functor.png";const cC=r=>(ob("data-v-eed6ff44"),r=r(),lb(),r),Nut=cC(()=>w("h2",null,[w("code",null,"Lift"),P(" content into a "),w("code",null,"context")],-1)),Dut=cC(()=>w("p",null,[w("img",{src:lC,alt:""})],-1)),Iut={__name:"31",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Nut,Dut]),_:1},16))}};var Rut=Jd(Iut,[["__scopeId","data-v-eed6ff44"]]);const But=w("ul",null,[w("li",null,[w("code",null,"Option"),P(),w("em",null,"(Maybe)")]),w("li",null,[w("code",null,"List")]),w("li",null,[w("code",null,"Result"),P(),w("em",null,"(Either)")]),w("li",null,[w("code",null,"Future")]),w("li",null,"\u2026")],-1),Fut={__name:"32",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[But]),_:1},16))}},Put=w("h1",null,[w("code",null,"Functor")],-1),Vut=w("p",null,[P("placing stuffs into "),w("code",null,"boxes")],-1),$ut={__name:"33",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Put,Vut]),_:1},16))}};const uC=r=>(ob("data-v-18526721"),r=r(),lb(),r),Yut=uC(()=>w("h2",null,[w("code",null,"Lift"),P(" content into a "),w("code",null,"context")],-1)),Uut=uC(()=>w("p",null,[w("img",{src:lC,alt:""})],-1)),zut={__name:"34",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Yut,Uut]),_:1},16))}};var Hut=Jd(zut,[["__scopeId","data-v-18526721"]]),Wut="/slides/presentations/programming_with_algebra/category_theory_functor_2.jpg";const hC=r=>(ob("data-v-5b054a64"),r=r(),lb(),r),jut=hC(()=>w("h2",null,[w("code",null,"Mapping"),P(" categories")],-1)),qut=hC(()=>w("p",null,[w("img",{src:Wut,alt:""})],-1)),Gut={__name:"35",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[jut,qut]),_:1},16))}};var Xut=Jd(Gut,[["__scopeId","data-v-5b054a64"]]);const Kut=w("h2",null,[w("code",null,"Functor")],-1),Zut=w("ol",null,[w("li",null,[P("placing stuffs into "),w("code",null,"boxes")]),w("li",null,[P("a "),w("code",null,"mapping"),P(" between categories")])],-1),Qut=w("pre",{class:"slidev-code language-haskell"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token keyword"},"class"),P(),w("span",{class:"token constant"},"Functor"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token keyword"},"where")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token builtin"},"fmap"),P(),w("span",{class:"token operator"},"::"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"b"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"b")])])],-1),Jut={__name:"36",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba,_=ju;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[Kut,Zut,Ne(_,null,{default:ke(()=>[Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[Qut]),_:1},16)]),_:1})]),_:1},16)}}},tht=w("h2",null,[w("code",null,"Maybe"),P(" Functor")],-1),eht=w("pre",{class:"slidev-code language-haskell"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token keyword"},"data"),P("  "),w("span",{class:"token constant"},"Maybe"),P(),w("span",{class:"token hvariable"},"a"),P("  "),w("span",{class:"token operator"},"="),P("  "),w("span",{class:"token constant"},"Nothing"),P(),w("span",{class:"token operator"},"|"),P(),w("span",{class:"token constant"},"Just"),P(),w("span",{class:"token hvariable"},"a")]),P(`
`),w("span",{class:"line"}),P(`
`),w("span",{class:"line"},[w("span",{class:"token keyword"},"instance"),P("  "),w("span",{class:"token constant"},"Functor"),P(),w("span",{class:"token constant"},"Maybe"),P("  "),w("span",{class:"token keyword"},"where")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token builtin"},"fmap"),P(),w("span",{class:"token hvariable"},"_"),P(),w("span",{class:"token constant"},"Nothing"),P("       "),w("span",{class:"token operator"},"="),P(),w("span",{class:"token constant"},"Nothing")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token builtin"},"fmap"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token constant"},"Just"),P(),w("span",{class:"token hvariable"},"a"),w("span",{class:"token punctuation"},")"),P("      "),w("span",{class:"token operator"},"="),P(),w("span",{class:"token constant"},"Just"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"a"),w("span",{class:"token punctuation"},")")])])],-1),nht={__name:"37",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[tht,Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[eht]),_:1},16)]),_:1},16)}}},rht=w("h2",null,[w("code",null,"List"),P(" Functor")],-1),iht=w("pre",{class:"slidev-code language-haskell"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token keyword"},"data"),P(),w("span",{class:"token constant"},"List"),P(),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},"="),P(),w("span",{class:"token punctuation"},"["),w("span",{class:"token punctuation"},"]"),P(),w("span",{class:"token operator"},"|"),P(),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},":"),P(),w("span",{class:"token constant"},"List"),P(),w("span",{class:"token hvariable"},"a")]),P(`
`),w("span",{class:"line"}),P(`
`),w("span",{class:"line"},[w("span",{class:"token keyword"},"instance"),P(),w("span",{class:"token constant"},"Functor"),P(),w("span",{class:"token constant"},"List"),P(),w("span",{class:"token keyword"},"where")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token builtin"},"fmap"),P(),w("span",{class:"token hvariable"},"_"),P(),w("span",{class:"token punctuation"},"["),w("span",{class:"token punctuation"},"]"),P("     "),w("span",{class:"token operator"},"="),P(),w("span",{class:"token punctuation"},"["),w("span",{class:"token punctuation"},"]")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token builtin"},"fmap"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token hvariable"},"x"),w("span",{class:"token operator"},":"),w("span",{class:"token hvariable"},"xs"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"="),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"x"),P(),w("span",{class:"token operator"},":"),P(),w("span",{class:"token builtin"},"fmap"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"xs")])])],-1),sht={__name:"38",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[rht,Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[iht]),_:1},16)]),_:1},16)}}};var aht="/slides/presentations/programming_with_algebra/category_theory_function_boxed.png";const oht=w("img",{src:aht,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),lht={__name:"39",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[oht]),_:1},16))}};var cht="/slides/presentations/programming_with_algebra/category_theory_ap.png";const uht=w("img",{src:cht,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),hht={__name:"40",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[uht]),_:1},16))}};var dht="/slides/presentations/programming_with_algebra/category_theory_ap_indipendent.png";const fht=w("img",{src:dht,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),pht={__name:"41",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[fht]),_:1},16))}},ght=w("h2",null,[w("code",null,"Applicatives")],-1),mht=w("ol",null,[w("li",null,[P("applying "),w("code",null,"lifted"),P(" function")]),w("li",null,[w("code",null,"combine"),P(" more boxes into one")]),w("li",null,[P("fmap with "),w("code",null,"n-arity"),P(" functions")])],-1),yht=w("pre",{class:"slidev-code language-haskell"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token keyword"},"class"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token constant"},"Functor"),P(),w("span",{class:"token hvariable"},"f"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"=>"),P(),w("span",{class:"token constant"},"Applicative"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token keyword"},"where")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token punctuation"},"("),w("span",{class:"token operator"},"<*>"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"::"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"b"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"b")]),P(`
`),w("span",{class:"line"}),P(`
`),w("span",{class:"line"},[w("span",{class:"token hvariable"},"liftA2"),P(),w("span",{class:"token operator"},"::"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token constant"},"Applicative"),P(),w("span",{class:"token hvariable"},"f"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"=>"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"b"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"c"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"b"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"c")])])],-1),_ht={__name:"42",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba,_=ju;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[ght,mht,Ne(_,null,{default:ke(()=>[Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[yht]),_:1},16)]),_:1})]),_:1},16)}}},bht=w("h2",null,[w("code",null,"Maybe"),P(" Applicative")],-1),vht=w("pre",{class:"slidev-code language-haskell"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token keyword"},"instance"),P(),w("span",{class:"token constant"},"Applicative"),P(),w("span",{class:"token constant"},"Maybe"),P(),w("span",{class:"token keyword"},"where")]),P(`
`),w("span",{class:"line"},[P("  "),w("span",{class:"token punctuation"},"("),w("span",{class:"token operator"},"<*>"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token constant"},"Nothing"),P(),w("span",{class:"token hvariable"},"_"),P(),w("span",{class:"token operator"},"="),P(),w("span",{class:"token constant"},"Nothing")]),P(`
`),w("span",{class:"line"},[P("  "),w("span",{class:"token punctuation"},"("),w("span",{class:"token operator"},"<*>"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token hvariable"},"_"),P(),w("span",{class:"token constant"},"Nothing"),P(),w("span",{class:"token operator"},"="),P(),w("span",{class:"token constant"},"Nothing")]),P(`
`),w("span",{class:"line"},[P("  "),w("span",{class:"token punctuation"},"("),w("span",{class:"token operator"},"<*>"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token constant"},"Just"),P(),w("span",{class:"token hvariable"},"f"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token constant"},"Just"),P(),w("span",{class:"token hvariable"},"x"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"="),P(),w("span",{class:"token constant"},"Just"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token hvariable"},"f"),P(),w("span",{class:"token hvariable"},"x"),w("span",{class:"token punctuation"},")")])])],-1),xht=w("pre",{class:"slidev-code language-haskell"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token operator"},">>"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token operator"},"*"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"<$>"),P(),w("span",{class:"token constant"},"Just"),P(),w("span",{class:"token number"},"4"),P(),w("span",{class:"token operator"},"<*>"),P(),w("span",{class:"token constant"},"Just"),P(),w("span",{class:"token number"},"5")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token comment"},"-- Just 20")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token operator"},">>"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token operator"},"*"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"<$>"),P(),w("span",{class:"token constant"},"Nothing"),P(),w("span",{class:"token operator"},"<*>"),P(),w("span",{class:"token constant"},"Just"),P(),w("span",{class:"token number"},"2")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token comment"},"-- Nothing")])])],-1),kht={__name:"43",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba,_=ju;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[bht,Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[vht]),_:1},16),Ne(_,null,{default:ke(()=>[Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[xht]),_:1},16)]),_:1})]),_:1},16)}}};var wht="/slides/presentations/programming_with_algebra/category_theory_monad_1.png";const Tht=w("img",{src:wht,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),Eht={__name:"44",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Tht]),_:1},16))}};var Cht="/slides/presentations/programming_with_algebra/category_theory_monad_flatten.png";const Sht=w("img",{src:Cht,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),Aht={__name:"45",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Sht]),_:1},16))}};var Lht="/slides/presentations/programming_with_algebra/category_theory_monad_2.png";const Oht=w("img",{src:Lht,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),Mht={__name:"46",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Oht]),_:1},16))}},Nht=w("h1",null,[P("Here you are, "),w("code",null,"Monads"),P("!")],-1),Dht={__name:"47",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Nht]),_:1},16))}};var Iht="/slides/presentations/programming_with_algebra/category_theory_monad_chain.png";const Rht=w("img",{src:Iht,class:"rounded-3-xl shadow-xl m-120 h-120"},null,-1),Bht={__name:"48",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Rht]),_:1},16))}},Fht=w("h2",null,[w("code",null,"Monads")],-1),Pht=w("ol",null,[w("li",null,[w("code",null,"flattening"),P(" boxes")]),w("li",null,[w("code",null,"chaining"),P(" computations")])],-1),Vht=w("pre",{class:"slidev-code language-haskell"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token keyword"},"class"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token constant"},"Applicative"),P(),w("span",{class:"token hvariable"},"m"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"=>"),P(),w("span",{class:"token constant"},"Monad"),P(),w("span",{class:"token hvariable"},"m"),P(),w("span",{class:"token keyword"},"where")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token hvariable"},"bind"),P(),w("span",{class:"token operator"},"::"),P(),w("span",{class:"token hvariable"},"m"),P(),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token punctuation"},"("),w("span",{class:"token hvariable"},"a"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"m"),P(),w("span",{class:"token hvariable"},"b"),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token operator"},"->"),P(),w("span",{class:"token hvariable"},"m"),P(),w("span",{class:"token hvariable"},"b")])])],-1),$ht={__name:"49",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba,_=ju;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[Fht,Pht,Ne(_,null,{default:ke(()=>[Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[Vht]),_:1},16)]),_:1})]),_:1},16)}}},Yht=w("h3",null,[w("code",null,"Do"),P(" notation")],-1),Uht=w("pre",{class:"slidev-code language-haskell"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token hvariable"},"getUsername"),P(),w("span",{class:"token hvariable"},"path"),P(),w("span",{class:"token operator"},"="),P(),w("span",{class:"token keyword"},"do")]),P(`
`),w("span",{class:"line"},[P("  "),w("span",{class:"token hvariable"},"contents"),P(),w("span",{class:"token operator"},"<-"),P(),w("span",{class:"token builtin"},"readFile"),P(),w("span",{class:"token hvariable"},"path")]),P(`
`),w("span",{class:"line"},[P("  "),w("span",{class:"token hvariable"},"username"),P(),w("span",{class:"token operator"},"<-"),P(),w("span",{class:"token hvariable"},"readUsername"),P(),w("span",{class:"token hvariable"},"contents")]),P(`
`),w("span",{class:"line"},[P("  "),w("span",{class:"token builtin"},"return"),P(),w("span",{class:"token hvariable"},"username")])])],-1),zht=w("pre",{class:"slidev-code language-rust"},[w("code",null,[w("span",{class:"line"},[w("span",{class:"token comment"},"/// `?` Operator")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token keyword"},"fn"),P(),w("span",{class:"token function-definition function"},"read_username_from_file"),w("span",{class:"token punctuation"},"("),w("span",{class:"token punctuation"},")"),P(),w("span",{class:"token punctuation"},"->"),P(),w("span",{class:"token class-name"},"Result"),w("span",{class:"token operator"},"<"),w("span",{class:"token class-name"},"String"),w("span",{class:"token punctuation"},","),P(),w("span",{class:"token namespace"},[P("io"),w("span",{class:"token punctuation"},"::")]),w("span",{class:"token class-name"},"Error"),w("span",{class:"token operator"},">"),P(),w("span",{class:"token punctuation"},"{")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token keyword"},"let"),P(),w("span",{class:"token keyword"},"mut"),P(" username_file "),w("span",{class:"token operator"},"="),P(),w("span",{class:"token class-name"},"File"),w("span",{class:"token punctuation"},"::"),w("span",{class:"token function"},"open"),w("span",{class:"token punctuation"},"("),w("span",{class:"token string"},'"hello.txt"'),w("span",{class:"token punctuation"},")"),w("span",{class:"token operator"},"?"),w("span",{class:"token punctuation"},";")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token keyword"},"let"),P(),w("span",{class:"token keyword"},"mut"),P(" username "),w("span",{class:"token operator"},"="),P(),w("span",{class:"token class-name"},"String"),w("span",{class:"token punctuation"},"::"),w("span",{class:"token function"},"new"),w("span",{class:"token punctuation"},"("),w("span",{class:"token punctuation"},")"),w("span",{class:"token punctuation"},";")]),P(`
`),w("span",{class:"line"},[P("    username_file"),w("span",{class:"token punctuation"},"."),w("span",{class:"token function"},"read_to_string"),w("span",{class:"token punctuation"},"("),w("span",{class:"token operator"},"&"),w("span",{class:"token keyword"},"mut"),P(" username"),w("span",{class:"token punctuation"},")"),w("span",{class:"token operator"},"?"),w("span",{class:"token punctuation"},";")]),P(`
`),w("span",{class:"line"},[P("    "),w("span",{class:"token class-name"},"Ok"),w("span",{class:"token punctuation"},"("),P("username"),w("span",{class:"token punctuation"},")")]),P(`
`),w("span",{class:"line"},[w("span",{class:"token punctuation"},"}")])])],-1),Hht={__name:"50",setup(r){const a={};return le(ve),(u,d)=>{const p=Ba,_=ju;return Mt(),be(sn,en(Je(a)),{default:ke(()=>[Yht,Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[Uht]),_:1},16),Ne(_,null,{default:ke(()=>[Ne(p,ii({},{ranges:[""]}),{default:ke(()=>[zht]),_:1},16)]),_:1})]),_:1},16)}}},Wht=w("h2",null,[P("A "),w("code",null,"generic"),P(" model of "),w("code",null,"computation"),P(" that lets you choose the environmental features that you want for your computations")],-1),jht={__name:"51",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Wht]),_:1},16))}},qht=w("h2",null,[P("It\u2019s all about being "),w("code",null,"explicit")],-1),Ght={__name:"52",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[qht]),_:1},16))}},Xht=w("h2",null,[w("code",null,"Summary")],-1),Kht=w("ol",null,[w("li",null,[w("code",null,"Category Theory"),P(" => how things compose")]),w("li",null,[w("code",null,"ADTs"),P(" => compose types to make illegal states unrepresentable")]),w("li",null,[w("code",null,"Functor"),P(" => lift values into a context")]),w("li",null,[w("code",null,"Applicative"),P(" => indipendent values applied to a function in a context")]),w("li",null,[w("code",null,"Monad"),P(" => sequencing contextful operations")])],-1),Zht={__name:"53",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Xht,Kht]),_:1},16))}};var Qht="/slides/presentations/programming_with_algebra/fantasy_land.png";const Jht=w("h2",null,[P("Where to go "),w("code",null,"next"),P("?")],-1),tdt=w("p",null,[w("img",{src:Qht,alt:""})],-1),edt={__name:"54",setup(r){const a={};return le(ve),(u,d)=>(Mt(),be(sn,en(Je(a)),{default:ke(()=>[Jht,tdt]),_:1},16))}};var ndt=[{path:"1",name:"page-1",component:Yat,meta:{theme:"eloc",title:"Programming with Algebras",slide:{raw:`---
theme: eloc
title: Programming with Algebras
---

# Programming with Algebras

Stefano Candori

<!--
- Talk from Bartoz, LambdaCon 2015.
- Algebra is the study of variables and the rules for manipulating these variables in formulas/equation
- Algebra of data structures, Algebraic structures
- Category theory trait d'union for interpreting and formalizing  equational algebra and algebraic structure

https://jrsinclair.com/articles/2019/algebraic-structures-what-i-wish-someone-had-explained-about-functional-programming/

-->
`,title:"Programming with Algebras",level:1,content:`# Programming with Algebras

Stefano Candori`,frontmatter:{theme:"eloc",title:"Programming with Algebras"},note:`- Talk from Bartoz, LambdaCon 2015.
- Algebra is the study of variables and the rules for manipulating these variables in formulas/equation
- Algebra of data structures, Algebraic structures
- Category theory trait d'union for interpreting and formalizing  equational algebra and algebraic structure

https://jrsinclair.com/articles/2019/algebraic-structures-what-i-wish-someone-had-explained-about-functional-programming/`,index:0,start:0,end:19,notesHTML:`<ul>
<li>Talk from Bartoz, LambdaCon 2015.</li>
<li>Algebra is the study of variables and the rules for manipulating these variables in formulas/equation</li>
<li>Algebra of data structures, Algebraic structures</li>
<li>Category theory trait d'union for interpreting and formalizing  equational algebra and algebraic structure</li>
</ul>
<p>https://jrsinclair.com/articles/2019/algebraic-structures-what-i-wish-someone-had-explained-about-functional-programming/</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:Wat,meta:{slide:{raw:"\n## A `monad` is just a `monoid` in the category of `endofunctors`, what's the problem?\n\n_\u2014 James Iry_\n",title:"A `monad` is just a `monoid` in the category of `endofunctors`, what's the problem?",level:2,content:"## A `monad` is just a `monoid` in the category of `endofunctors`, what's the problem?\n\n_\u2014 James Iry_",frontmatter:{},index:1,start:20,end:25,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:qat,meta:{slide:{raw:`
<div class="grid grid-cols-2 gap-4 justify-items-center items-center">
    <img src="/category_theory_composition.png" class="rounded-3-xl shadow-xl h-80" />
    <img src="/category_theory_two_elements_boxed.png" class="rounded-3-xl shadow-xl h-70" />
</div>
`,content:`<div class="grid grid-cols-2 gap-4 justify-items-center items-center">
    <img src="/category_theory_composition.png" class="rounded-3-xl shadow-xl h-80" />
    <img src="/category_theory_two_elements_boxed.png" class="rounded-3-xl shadow-xl h-70" />
</div>`,frontmatter:{},index:2,start:26,end:32,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:Xat,meta:{slide:{raw:`
## You do not need to know <br/>\`category theory\` to <br/> write \`good\` functional \`code\`

<!-- 
functional programming is just compose functions, compose and compose again. 
No mutable data. Deterministict and Pure functions (no side effects). Bla blah

So why study category theory? 

Let's start with a metaphore (doing things step by step and abstracting things i know how to do)
-->
`,title:"You do not need to know <br/>`category theory` to <br/> write `good` functional `code`",level:2,content:"## You do not need to know <br/>`category theory` to <br/> write `good` functional `code`",frontmatter:{},note:`functional programming is just compose functions, compose and compose again. 
No mutable data. Deterministict and Pure functions (no side effects). Bla blah

So why study category theory? 

Let's start with a metaphore (doing things step by step and abstracting things i know how to do)`,index:3,start:33,end:45,notesHTML:`<p>functional programming is just compose functions, compose and compose again.
No mutable data. Deterministict and Pure functions (no side effects). Bla blah</p>
<p>So why study category theory?</p>
<p>Let's start with a metaphore (doing things step by step and abstracting things i know how to do)</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:Zat,meta:{slide:{raw:"\n## `Composition` and `abstraction` are the essence of `human reasoning` \n",title:"`Composition` and `abstraction` are the essence of `human reasoning`",level:2,content:"## `Composition` and `abstraction` are the essence of `human reasoning`",frontmatter:{},index:4,start:46,end:49,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:Jat,meta:{slide:{raw:"\n## `Composition` and `abstraction` are the essence of `programming` \n",title:"`Composition` and `abstraction` are the essence of `programming`",level:2,content:"## `Composition` and `abstraction` are the essence of `programming`",frontmatter:{},index:5,start:50,end:53,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:eot,meta:{slide:{raw:`
## \`Composition\` and \`abstraction\` are the essence of \`category theory\` 

<!-- 
So again study category theory (be pragmatic)? 

Functional programming patterns (algebraic structures) for simplify and 
solve common challenges that we encounter in our code daily, 
such as nullable values, error handling, parallel and sequential 
operations and data validation -> (monoids, functor, applicative, monads, traversable).

Software design patterns were popularised by a bunch of smart people. They observed common approaches to programming problems 
and then wrote books about it. Like design patterns, algebraic structures also represent templates for solving a problem. 
And they can be used in many different situations. Unlike design patterns though, algebraic structures have their basis in mathematics. 

Category theory gives a formalization and allows us to understand and interpret those patterns!

Algebraic structures help us in the same way all other abstractions help us. -->
`,title:"`Composition` and `abstraction` are the essence of `category theory`",level:2,content:"## `Composition` and `abstraction` are the essence of `category theory`",frontmatter:{},note:`So again study category theory (be pragmatic)? 

Functional programming patterns (algebraic structures) for simplify and 
solve common challenges that we encounter in our code daily, 
such as nullable values, error handling, parallel and sequential 
operations and data validation -> (monoids, functor, applicative, monads, traversable).

Software design patterns were popularised by a bunch of smart people. They observed common approaches to programming problems 
and then wrote books about it. Like design patterns, algebraic structures also represent templates for solving a problem. 
And they can be used in many different situations. Unlike design patterns though, algebraic structures have their basis in mathematics. 

Category theory gives a formalization and allows us to understand and interpret those patterns!

Algebraic structures help us in the same way all other abstractions help us.`,index:6,start:54,end:73,notesHTML:`<p>So again study category theory (be pragmatic)?</p>
<p>Functional programming patterns (algebraic structures) for simplify and
solve common challenges that we encounter in our code daily,
such as nullable values, error handling, parallel and sequential
operations and data validation -&gt; (monoids, functor, applicative, monads, traversable).</p>
<p>Software design patterns were popularised by a bunch of smart people. They observed common approaches to programming problems
and then wrote books about it. Like design patterns, algebraic structures also represent templates for solving a problem.
And they can be used in many different situations. Unlike design patterns though, algebraic structures have their basis in mathematics.</p>
<p>Category theory gives a formalization and allows us to understand and interpret those patterns!</p>
<p>Algebraic structures help us in the same way all other abstractions help us.</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:fot,meta:{slide:{raw:'\n## `Category theory`\n\n1. helps to `understand` how and why things are done in a certain way\n2. `unlocks` your abstract thinking\n3. lends to extremely useful programming `ideas` which are percolating into every language\n4. It\'s funny and makes me `happy` <uim-rocket class="text-purple-400"/>\n',title:"`Category theory`",level:2,content:'## `Category theory`\n\n1. helps to `understand` how and why things are done in a certain way\n2. `unlocks` your abstract thinking\n3. lends to extremely useful programming `ideas` which are percolating into every language\n4. It\'s funny and makes me `happy` <uim-rocket class="text-purple-400"/>',frontmatter:{},index:7,start:74,end:82,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:mot,meta:{slide:{raw:`
## \`Applied\` Category Theory

* Emerging field!
* Explosion of papers, research, development in last 10 years
* Builds a common vocabulary of composition across disciplines (e.g. databases, thermodynamics, quantum theory, digital circuits, distributed systems, ...)
`,title:"`Applied` Category Theory",level:2,content:`## \`Applied\` Category Theory

* Emerging field!
* Explosion of papers, research, development in last 10 years
* Builds a common vocabulary of composition across disciplines (e.g. databases, thermodynamics, quantum theory, digital circuits, distributed systems, ...)`,frontmatter:{},index:8,start:83,end:90,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:bot,meta:{slide:{raw:"\n## The `Plan`\n\n* I want to put `category theory` on your roadmap/radar\n* The big idea: `compositionality`\n* Case study: algebraic structures in functional design patterns (`functors`, `applicatives` and `monads`!)\n",title:"The `Plan`",level:2,content:"## The `Plan`\n\n* I want to put `category theory` on your roadmap/radar\n* The big idea: `compositionality`\n* Case study: algebraic structures in functional design patterns (`functors`, `applicatives` and `monads`!)",frontmatter:{},index:9,start:91,end:98,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:xot,meta:{slide:{raw:"\n## A `category` consists of `objects` and `arrows` that go between them\n",title:"A `category` consists of `objects` and `arrows` that go between them",level:2,content:"## A `category` consists of `objects` and `arrows` that go between them",frontmatter:{},index:10,start:99,end:102,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:Tot,meta:{slide:{raw:`
<img src="/category_pig.png" class="rounded-3-xl shadow-xl m-120 h-120" />
`,content:'<img src="/category_pig.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},index:11,start:103,end:106,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:Cot,meta:{slide:{raw:"\n# Arrows `compose`\n",title:"Arrows `compose`",level:1,content:"# Arrows `compose`",frontmatter:{},index:12,start:107,end:110,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:Aot,meta:{slide:{raw:`
<img src="/category_theory_composition.png" class="rounded-3-xl shadow-xl m-120 h-120" />

<!-- 

We don't mind what objects are! flowers? numbers? Chair? boxes? that's ok 

An object in category theory is an abstract nebulous entity. All you can ever know about it is how it relates to other object \u2014 how it connects with them using arrows.

-->
`,content:'<img src="/category_theory_composition.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},note:`We don't mind what objects are! flowers? numbers? Chair? boxes? that's ok 

An object in category theory is an abstract nebulous entity. All you can ever know about it is how it relates to other object \u2014 how it connects with them using arrows.`,index:13,start:111,end:122,notesHTML:`<p>We don't mind what objects are! flowers? numbers? Chair? boxes? that's ok</p>
<p>An object in category theory is an abstract nebulous entity. All you can ever know about it is how it relates to other object \u2014 how it connects with them using arrows.</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:Iot,meta:{layout:"image-right",image:"/category_laws.png",slide:{raw:`---
layout: image-right
image: /category_laws.png

---

## \`Laws\`

1. __Identity__ for composition
2. __Associativity__ in composition 
`,title:"`Laws`",level:2,content:`## \`Laws\`

1. __Identity__ for composition
2. __Associativity__ in composition`,frontmatter:{layout:"image-right",image:"/category_laws.png"},index:14,start:122,end:133,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:Pot,meta:{slide:{raw:`
### 1-Object Category: \`Monoid\`


![](/monoid_pig.png)
`,title:"1-Object Category: `Monoid`",level:3,content:`### 1-Object Category: \`Monoid\`


![](/monoid_pig.png)`,frontmatter:{},index:15,start:134,end:140,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:Uot,meta:{slide:{raw:`
### Addition \`Monoid\`

![](/category_theory_monoid.jpg)
`,title:"Addition `Monoid`",level:3,content:"### Addition `Monoid`\n\n![](/category_theory_monoid.jpg)",frontmatter:{},index:16,start:141,end:146,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:jot,meta:{slide:{raw:`
### Category of Sets (\`types\` + \`functions\`)

![](/category_composition_example.png)

`,title:"Category of Sets (`types` + `functions`)",level:3,content:"### Category of Sets (`types` + `functions`)\n\n![](/category_composition_example.png)",frontmatter:{},index:17,start:147,end:153,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:Got,meta:{slide:{raw:`
# Breathe.

<!-- 

1) believe or not you'just meet your first algebraic structure. A category is an algebraic structure.

2) An algebraic structure consists of a nonempty set A, 
a collection of operations on A (typically binary operations), and a finite set of laws, that these operations must satisfy. 

But before, let's dig into something a bit different...ADTs!

-->
`,title:"Breathe.",level:1,content:"# Breathe.",frontmatter:{},note:`1) believe or not you'just meet your first algebraic structure. A category is an algebraic structure.

2) An algebraic structure consists of a nonempty set A, 
a collection of operations on A (typically binary operations), and a finite set of laws, that these operations must satisfy. 

But before, let's dig into something a bit different...ADTs!`,index:18,start:154,end:168,notesHTML:`<ol>
<li>
<p>believe or not you'just meet your first algebraic structure. A category is an algebraic structure.</p>
</li>
<li>
<p>An algebraic structure consists of a nonempty set A,
a collection of operations on A (typically binary operations), and a finite set of laws, that these operations must satisfy.</p>
</li>
</ol>
<p>But before, let's dig into something a bit different...ADTs!</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:Qot,meta:{slide:{raw:`
## \`Algebrical Data Types\`

A type formed by combining other types

1. __Product__ types
2. __Sum__ types

<!-- 
Algebrical data types are not algebraic structure, they only share the name :)

One of the most amazing aspects of mathematics is that it applies to such a wide range of areas.
we'll use elementary school algebra to reason about functional data types. 

-->
`,title:"`Algebrical Data Types`",level:2,content:`## \`Algebrical Data Types\`

A type formed by combining other types

1. __Product__ types
2. __Sum__ types`,frontmatter:{},note:`Algebrical data types are not algebraic structure, they only share the name :)

One of the most amazing aspects of mathematics is that it applies to such a wide range of areas.
we'll use elementary school algebra to reason about functional data types.`,index:19,start:169,end:185,notesHTML:`<p>Algebrical data types are not algebraic structure, they only share the name :)</p>
<p>One of the most amazing aspects of mathematics is that it applies to such a wide range of areas.
we'll use elementary school algebra to reason about functional data types.</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:wlt,meta:{slide:{raw:`
## \`Product\`

<div grid="~ cols-4 gap-4">
<div class="col-span-2">

A product of two objects \`a\` and \`b\` is the object \`c\` equipped with two projections such that for any other object \`c\u2019\` equipped with two projections there is a unique morphism \`m\` from \`c\u2019\` to \`c\` that factorizes those projections

</div>
<div class="col-start-4">
\`\`\`mermaid {theme: 'dark', scale: 2}
graph TD
C'(c') -. m .->  C(c)
C'-- p' --> A(a)
C-- p --> A(a)
C-- q --> B(b)
C'-- q' --> B(b)
\`\`\`
</div>
</div>
`,title:"`Product`",level:2,content:`## \`Product\`

<div grid="~ cols-4 gap-4">
<div class="col-span-2">

A product of two objects \`a\` and \`b\` is the object \`c\` equipped with two projections such that for any other object \`c\u2019\` equipped with two projections there is a unique morphism \`m\` from \`c\u2019\` to \`c\` that factorizes those projections

</div>
<div class="col-start-4">
\`\`\`mermaid {theme: 'dark', scale: 2}
graph TD
C'(c') -. m .->  C(c)
C'-- p' --> A(a)
C-- p --> A(a)
C-- q --> B(b)
C'-- q' --> B(b)
\`\`\`
</div>
</div>`,frontmatter:{},index:20,start:186,end:207,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:Alt,meta:{slide:{raw:`
## \`Product\`

<div grid="~ cols-4 gap-4">
<div class="col-span-2">

A product of two objects \`a\` and \`b\` is the object \`c\` equipped with two projections such that for any other object \`c\u2019\` equipped with two projections there is a unique morphism \`m\` from \`c\u2019\` to \`c\` that factorizes those projections

</div>
<div class="col-start-4">
\`\`\`mermaid {theme: 'dark', scale: 1.78}
graph TD
C'(Int) -. m .->  C((Int,Bool))
C'-- p --> A(a)
C-- fst --> A(Int)
C-- snd --> B(Bool)
C'-- q --> B(Bool)
\`\`\`
</div>
</div>

<!-- Example of morphism m Int -> (Int, True) -->
`,title:"`Product`",level:2,content:`## \`Product\`

<div grid="~ cols-4 gap-4">
<div class="col-span-2">

A product of two objects \`a\` and \`b\` is the object \`c\` equipped with two projections such that for any other object \`c\u2019\` equipped with two projections there is a unique morphism \`m\` from \`c\u2019\` to \`c\` that factorizes those projections

</div>
<div class="col-start-4">
\`\`\`mermaid {theme: 'dark', scale: 1.78}
graph TD
C'(Int) -. m .->  C((Int,Bool))
C'-- p --> A(a)
C-- fst --> A(Int)
C-- snd --> B(Bool)
C'-- q --> B(Bool)
\`\`\`
</div>
</div>`,frontmatter:{},note:"Example of morphism m Int -> (Int, True)",index:21,start:208,end:231,notesHTML:`<p>Example of morphism m Int -&gt; (Int, True)</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:lut,meta:{slide:{raw:`
## \`Product\`

\`\`\`rust
struct Point {
    x: u8,
    y: u8,
}

struct Point(u8, u8);
\`\`\`

Point has \`x * y\` _(255 * 255)_ possible values


<!-- 

Struct: defines a physically grouped list of variables under one name in a block of memory

A common thing to do in category theory is to reverse all the arrows and get the "dual" category.
Given each "statement" you get another "statement" for free: 

E.g. Doing so for a the product gives us the co-product -->
`,title:"`Product`",level:2,content:`## \`Product\`

\`\`\`rust
struct Point {
    x: u8,
    y: u8,
}

struct Point(u8, u8);
\`\`\`

Point has \`x * y\` _(255 * 255)_ possible values`,frontmatter:{},note:`Struct: defines a physically grouped list of variables under one name in a block of memory

A common thing to do in category theory is to reverse all the arrows and get the "dual" category.
Given each "statement" you get another "statement" for free: 

E.g. Doing so for a the product gives us the co-product`,index:22,start:232,end:256,notesHTML:`<p>Struct: defines a physically grouped list of variables under one name in a block of memory</p>
<p>A common thing to do in category theory is to reverse all the arrows and get the &quot;dual&quot; category.
Given each &quot;statement&quot; you get another &quot;statement&quot; for free:</p>
<p>E.g. Doing so for a the product gives us the co-product</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:fut,meta:{slide:{raw:`
## \`Coproduct\`

<div grid="~ cols-4 gap-4">
<div class="col-span-2">

A coproduct (sum) of two objects \`a\` and \`b\` is the object \`c\` equipped with two injections such that for any other object \`c\u2019\` equipped with two injections there is a unique morphism \`m\` from \`c\` to \`c\u2019\` that factorizes those injections

</div>
<div class="col-start-4">
\`\`\`mermaid {theme: 'dark', scale: 2}
graph TB
A(a) -- i --> C(c)
A(a) -- i' --> C'(c')
B(b) -- j --> C(c)
C(c) -. m .-> C'(c')
B(b) -- j' --> C'(c')
\`\`\`
</div>
</div>


<!-- The two injections can either be implemented as constructors or as functions. Let's see an example -->
`,title:"`Coproduct`",level:2,content:`## \`Coproduct\`

<div grid="~ cols-4 gap-4">
<div class="col-span-2">

A coproduct (sum) of two objects \`a\` and \`b\` is the object \`c\` equipped with two injections such that for any other object \`c\u2019\` equipped with two injections there is a unique morphism \`m\` from \`c\` to \`c\u2019\` that factorizes those injections

</div>
<div class="col-start-4">
\`\`\`mermaid {theme: 'dark', scale: 2}
graph TB
A(a) -- i --> C(c)
A(a) -- i' --> C'(c')
B(b) -- j --> C(c)
C(c) -. m .-> C'(c')
B(b) -- j' --> C'(c')
\`\`\`
</div>
</div>`,frontmatter:{},note:"The two injections can either be implemented as constructors or as functions. Let's see an example",index:23,start:257,end:281,notesHTML:`<p>The two injections can either be implemented as constructors or as functions. Let's see an example</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:yut,meta:{slide:{raw:`
## \`Sum\` types

\`\`\`rust{all|2|3|all}
enum Card {
    Number(u8), // injection \`i\`: u8 -> Card
    Figure(FigureType), // injection \`j\`: FigureType -> Card
}

// enum FigureType {
//     King,
//     Queen,
//     Jack,
// }
\`\`\`

Card has \`3 + n\` _(3 + 255)_ possible values

<!-- type which can be one of a few different variant (discriminate unions).  -->
`,title:"`Sum` types",level:2,content:`## \`Sum\` types

\`\`\`rust{all|2|3|all}
enum Card {
    Number(u8), // injection \`i\`: u8 -> Card
    Figure(FigureType), // injection \`j\`: FigureType -> Card
}

// enum FigureType {
//     King,
//     Queen,
//     Jack,
// }
\`\`\`

Card has \`3 + n\` _(3 + 255)_ possible values`,frontmatter:{},note:"type which can be one of a few different variant (discriminate unions).",index:24,start:282,end:302,notesHTML:`<p>type which can be one of a few different variant (discriminate unions).</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:xut,meta:{slide:{raw:`
\`\`\`rust

struct Contact1 {
    Address : Option<String>,
    Number : Option<u32>
}

enum Contact2{ 
  AddressAndNumber(String, u32),
  Address(String),
  Number(u32),
}

\`\`\`

<v-click>

_Contact1_ has \`c1 = (s + 1) * (i + 1)\` values. <br />
_Contact2_ has \`c2 = (s * i) + s + i\` values. <br />
But \`c1 = (s * i) + s + i + 1\`. <br />
So \`c1 != c2\` (no address provided is not possible in _Contact2_)

</v-click>

<!-- possible in Contact1 {Address = None, Number = None} -->
`,content:`\`\`\`rust

struct Contact1 {
    Address : Option<String>,
    Number : Option<u32>
}

enum Contact2{ 
  AddressAndNumber(String, u32),
  Address(String),
  Number(u32),
}

\`\`\`

<v-click>

_Contact1_ has \`c1 = (s + 1) * (i + 1)\` values. <br />
_Contact2_ has \`c2 = (s * i) + s + i\` values. <br />
But \`c1 = (s * i) + s + i + 1\`. <br />
So \`c1 != c2\` (no address provided is not possible in _Contact2_)

</v-click>`,frontmatter:{},note:"possible in Contact1 {Address = None, Number = None}",index:25,start:303,end:330,notesHTML:`<p>possible in Contact1 {Address = None, Number = None}</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:wut,meta:{slide:{raw:"\n## Make illegal states `unrepresentable`\n",title:"Make illegal states `unrepresentable`",level:2,content:"## Make illegal states `unrepresentable`",frontmatter:{},index:26,start:331,end:334,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:Cut,meta:{slide:{raw:`
## Phew.
Now, back to \`Algebraic\` Structures
`,title:"Phew.",level:2,content:"## Phew.\nNow, back to `Algebraic` Structures",frontmatter:{},index:27,start:335,end:339,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:Lut,meta:{slide:{raw:`
<img src="/category_theory_two_elements.png" class="rounded-3-xl shadow-xl m-120 h-120" />
`,content:'<img src="/category_theory_two_elements.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},index:28,start:340,end:343,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:Mut,meta:{slide:{raw:`
<img src="/category_theory_two_elements_boxed.png" class="rounded-3-xl shadow-xl m-120 h-120" />
`,content:'<img src="/category_theory_two_elements_boxed.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},index:29,start:344,end:347,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",name:"page-31",component:Rut,meta:{slide:{raw:`
## \`Lift\` content into a \`context\`

![](/category_theory_functor.png)

<style>
  img {
    height: 460px;
  }
</style>

<!-- 
We we want/need to add some metadata to our content.

we have a triangle, maybe more than one.

We have something which is nullable -->
`,title:"`Lift` content into a `context`",level:2,content:`## \`Lift\` content into a \`context\`

![](/category_theory_functor.png)

<style>
  img {
    height: 460px;
  }
</style>`,frontmatter:{},note:`We we want/need to add some metadata to our content.

we have a triangle, maybe more than one.

We have something which is nullable`,index:30,start:348,end:366,notesHTML:`<p>We we want/need to add some metadata to our content.</p>
<p>we have a triangle, maybe more than one.</p>
<p>We have something which is nullable</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:30,no:31},__clicksElements:[],__preloaded:!1}},{path:"32",name:"page-32",component:Fut,meta:{slide:{raw:"\n* `Option` _(Maybe)_\n* `List`\n* `Result` _(Either)_\n* `Future`\n* ...\n",content:"* `Option` _(Maybe)_\n* `List`\n* `Result` _(Either)_\n* `Future`\n* ...",frontmatter:{},index:31,start:367,end:374,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:31,no:32},__clicksElements:[],__preloaded:!1}},{path:"33",name:"page-33",component:$ut,meta:{slide:{raw:"\n# `Functor`\n\nplacing stuffs into `boxes`\n",title:"`Functor`",level:1,content:"# `Functor`\n\nplacing stuffs into `boxes`",frontmatter:{},index:32,start:375,end:380,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:32,no:33},__clicksElements:[],__preloaded:!1}},{path:"34",name:"page-34",component:Hut,meta:{slide:{raw:`
## \`Lift\` content into a \`context\`

![](/category_theory_functor.png)

<style>
  img {
    height: 460px;
  }
</style>


<!-- 

Back again to this slide. 

-->`,title:"`Lift` content into a `context`",level:2,content:`## \`Lift\` content into a \`context\`

![](/category_theory_functor.png)

<style>
  img {
    height: 460px;
  }
</style>`,frontmatter:{},note:"Back again to this slide.",index:33,start:381,end:398,notesHTML:`<p>Back again to this slide.</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:33,no:34},__clicksElements:[],__preloaded:!1}},{path:"35",name:"page-35",component:Xut,meta:{slide:{raw:`
## \`Mapping\` categories

![](/category_theory_functor_2.jpg)

<style>
  img {
    height: 460px;
  }
</style>

<!-- 

Can be seen as a mapping from one category to another.
To be a functor i have to know how to map objects but also how to map arrows/functions!

If i know how to transform a triangle into a square, i must know how to transform a boxed triangle in a boxed square, isn' it?

-->
`,title:"`Mapping` categories",level:2,content:`## \`Mapping\` categories

![](/category_theory_functor_2.jpg)

<style>
  img {
    height: 460px;
  }
</style>`,frontmatter:{},note:`Can be seen as a mapping from one category to another.
To be a functor i have to know how to map objects but also how to map arrows/functions!

If i know how to transform a triangle into a square, i must know how to transform a boxed triangle in a boxed square, isn' it?`,index:34,start:399,end:419,notesHTML:`<p>Can be seen as a mapping from one category to another.
To be a functor i have to know how to map objects but also how to map arrows/functions!</p>
<p>If i know how to transform a triangle into a square, i must know how to transform a boxed triangle in a boxed square, isn' it?</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:34,no:35},__clicksElements:[],__preloaded:!1}},{path:"36",name:"page-36",component:Jut,meta:{slide:{raw:`
## \`Functor\`
1. placing stuffs into \`boxes\`
2. a \`mapping\` between categories

<v-click>
\`\`\`haskell
class Functor f where
    fmap :: (a -> b) -> f a -> f b
\`\`\`
</v-click>

<!-- Ultra quick haskell syntax recap: http://cheat.sh/haskell/Type_signatures 
Currying: translating the evaluation of a function that takes multiple arguments 
into evaluating a sequence of functions, each with a single argument. 
-->
`,title:"`Functor`",level:2,content:"## `Functor`\n1. placing stuffs into `boxes`\n2. a `mapping` between categories\n\n<v-click>\n```haskell\nclass Functor f where\n    fmap :: (a -> b) -> f a -> f b\n```\n</v-click>",frontmatter:{},note:`Ultra quick haskell syntax recap: http://cheat.sh/haskell/Type_signatures 
Currying: translating the evaluation of a function that takes multiple arguments 
into evaluating a sequence of functions, each with a single argument.`,index:35,start:420,end:437,notesHTML:`<p>Ultra quick haskell syntax recap: http://cheat.sh/haskell/Type_signatures
Currying: translating the evaluation of a function that takes multiple arguments
into evaluating a sequence of functions, each with a single argument.</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:35,no:36},__clicksElements:[],__preloaded:!1}},{path:"37",name:"page-37",component:nht,meta:{slide:{raw:`
## \`Maybe\` Functor

\`\`\`haskell
data  Maybe a  =  Nothing | Just a

instance  Functor Maybe  where
    fmap _ Nothing       = Nothing
    fmap f (Just a)      = Just (f a)
\`\`\`
`,title:"`Maybe` Functor",level:2,content:"## `Maybe` Functor\n\n```haskell\ndata  Maybe a  =  Nothing | Just a\n\ninstance  Functor Maybe  where\n    fmap _ Nothing       = Nothing\n    fmap f (Just a)      = Just (f a)\n```",frontmatter:{},index:36,start:438,end:449,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:36,no:37},__clicksElements:[],__preloaded:!1}},{path:"38",name:"page-38",component:sht,meta:{slide:{raw:`
## \`List\` Functor

\`\`\`haskell
data List a = [] | a : List a

instance Functor List where
    fmap _ []     = []
    fmap f (x:xs) = f x : fmap f xs
\`\`\`
`,title:"`List` Functor",level:2,content:"## `List` Functor\n\n```haskell\ndata List a = [] | a : List a\n\ninstance Functor List where\n    fmap _ []     = []\n    fmap f (x:xs) = f x : fmap f xs\n```",frontmatter:{},index:37,start:450,end:461,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:37,no:38},__clicksElements:[],__preloaded:!1}},{path:"39",name:"page-39",component:lht,meta:{slide:{raw:`
<img src="/category_theory_function_boxed.png" class="rounded-3-xl shadow-xl m-120 h-120" />
`,content:'<img src="/category_theory_function_boxed.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},index:38,start:462,end:465,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:38,no:39},__clicksElements:[],__preloaded:!1}},{path:"40",name:"page-40",component:hht,meta:{slide:{raw:`
<img src="/category_theory_ap.png" class="rounded-3-xl shadow-xl m-120 h-120" />
`,content:'<img src="/category_theory_ap.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},index:39,start:466,end:469,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:39,no:40},__clicksElements:[],__preloaded:!1}},{path:"41",name:"page-41",component:pht,meta:{slide:{raw:`
<img src="/category_theory_ap_indipendent.png" class="rounded-3-xl shadow-xl m-120 h-120" />
`,content:'<img src="/category_theory_ap_indipendent.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},index:40,start:470,end:473,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:40,no:41},__clicksElements:[],__preloaded:!1}},{path:"42",name:"page-42",component:_ht,meta:{slide:{raw:"\n## `Applicatives`\n1. applying `lifted` function\n2. `combine` more boxes into one\n3. fmap with `n-arity` functions\n\n<v-click>\n```haskell\nclass (Functor f) => Applicative f where\n    (<*>) :: f (a -> b) -> f a -> f b\n\nliftA2 :: (Applicative f) => (a -> b -> c) -> f a -> f b -> f c\n```\n</v-click>\n",title:"`Applicatives`",level:2,content:"## `Applicatives`\n1. applying `lifted` function\n2. `combine` more boxes into one\n3. fmap with `n-arity` functions\n\n<v-click>\n```haskell\nclass (Functor f) => Applicative f where\n    (<*>) :: f (a -> b) -> f a -> f b\n\nliftA2 :: (Applicative f) => (a -> b -> c) -> f a -> f b -> f c\n```\n</v-click>",frontmatter:{},index:41,start:474,end:489,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:41,no:42},__clicksElements:[],__preloaded:!1}},{path:"43",name:"page-43",component:kht,meta:{slide:{raw:`
## \`Maybe\` Applicative

\`\`\`haskell
instance Applicative Maybe where
  (<*>) Nothing _ = Nothing
  (<*>) _ Nothing = Nothing
  (<*>) (Just f) (Just x) = Just (f x)
\`\`\`

<v-click>
\`\`\`haskell
>> (*) <$> Just 4 <*> Just 5
-- Just 20
>> (*) <$> Nothing <*> Just 2
-- Nothing
\`\`\`
</v-click>
`,title:"`Maybe` Applicative",level:2,content:`## \`Maybe\` Applicative

\`\`\`haskell
instance Applicative Maybe where
  (<*>) Nothing _ = Nothing
  (<*>) _ Nothing = Nothing
  (<*>) (Just f) (Just x) = Just (f x)
\`\`\`

<v-click>
\`\`\`haskell
>> (*) <$> Just 4 <*> Just 5
-- Just 20
>> (*) <$> Nothing <*> Just 2
-- Nothing
\`\`\`
</v-click>`,frontmatter:{},index:42,start:490,end:509,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:42,no:43},__clicksElements:[],__preloaded:!1}},{path:"44",name:"page-44",component:Eht,meta:{slide:{raw:`
<img src="/category_theory_monad_1.png" class="rounded-3-xl shadow-xl m-120 h-120" />

<!-- not a functor, we want to dig into two levels
not an applicative, they are not indipendent boxes, but one inside the other -->
`,content:'<img src="/category_theory_monad_1.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},note:`not a functor, we want to dig into two levels
not an applicative, they are not indipendent boxes, but one inside the other`,index:43,start:510,end:516,notesHTML:`<p>not a functor, we want to dig into two levels
not an applicative, they are not indipendent boxes, but one inside the other</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:43,no:44},__clicksElements:[],__preloaded:!1}},{path:"45",name:"page-45",component:Aht,meta:{slide:{raw:`
<img src="/category_theory_monad_flatten.png" class="rounded-3-xl shadow-xl m-120 h-120" />
`,content:'<img src="/category_theory_monad_flatten.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},index:44,start:517,end:520,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:44,no:45},__clicksElements:[],__preloaded:!1}},{path:"46",name:"page-46",component:Mht,meta:{slide:{raw:`
<img src="/category_theory_monad_2.png" class="rounded-3-xl shadow-xl m-120 h-120" />

<!-- a flat + map operation -->
`,content:'<img src="/category_theory_monad_2.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},note:"a flat + map operation",index:45,start:521,end:526,notesHTML:`<p>a flat + map operation</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:45,no:46},__clicksElements:[],__preloaded:!1}},{path:"47",name:"page-47",component:Dht,meta:{slide:{raw:`
# Here you are, \`Monads\`!
<!-- believe it or not, monad is just flattening boxes. -->
`,title:"Here you are, `Monads`!",level:1,content:"# Here you are, `Monads`!",frontmatter:{},note:"believe it or not, monad is just flattening boxes.",index:46,start:527,end:531,notesHTML:`<p>believe it or not, monad is just flattening boxes.</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:46,no:47},__clicksElements:[],__preloaded:!1}},{path:"48",name:"page-48",component:Bht,meta:{slide:{raw:`
<img src="/category_theory_monad_chain.png" class="rounded-3-xl shadow-xl m-120 h-120" />

<!-- A lot of common, useful computations 
 follow the pattern of performing sequences of tiny computations on values, and monad simply abstract that!

 flatmap: connect the output of one computation to a function that consumes the output and then returns another computation.
 
 -->
`,content:'<img src="/category_theory_monad_chain.png" class="rounded-3-xl shadow-xl m-120 h-120" />',frontmatter:{},note:`A lot of common, useful computations 
 follow the pattern of performing sequences of tiny computations on values, and monad simply abstract that!

 flatmap: connect the output of one computation to a function that consumes the output and then returns another computation.`,index:47,start:532,end:542,notesHTML:`<p>A lot of common, useful computations
follow the pattern of performing sequences of tiny computations on values, and monad simply abstract that!</p>
<p>flatmap: connect the output of one computation to a function that consumes the output and then returns another computation.</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:47,no:48},__clicksElements:[],__preloaded:!1}},{path:"49",name:"page-49",component:$ht,meta:{slide:{raw:`
## \`Monads\`
1. \`flattening\` boxes
2. \`chaining\` computations

<v-click>
\`\`\`haskell
class (Applicative m) => Monad m where
    bind :: m a -> (a -> m b) -> m b
\`\`\`
</v-click>

<!-- Every computation depends on the previous.
 bind = flatmap: connect the output of one computation to a function that consumes the output and then returns another computation.
 -->

`,title:"`Monads`",level:2,content:"## `Monads`\n1. `flattening` boxes\n2. `chaining` computations\n\n<v-click>\n```haskell\nclass (Applicative m) => Monad m where\n    bind :: m a -> (a -> m b) -> m b\n```\n</v-click>",frontmatter:{},note:`Every computation depends on the previous.
 bind = flatmap: connect the output of one computation to a function that consumes the output and then returns another computation.`,index:48,start:543,end:560,notesHTML:`<p>Every computation depends on the previous.
bind = flatmap: connect the output of one computation to a function that consumes the output and then returns another computation.</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:48,no:49},__clicksElements:[],__preloaded:!1}},{path:"50",name:"page-50",component:Hht,meta:{slide:{raw:`
### \`Do\` notation

\`\`\`haskell
getUsername path = do
  contents <- readFile path
  username <- readUsername contents
  return username
\`\`\`
<v-click>
\`\`\`rust
/// \`?\` Operator
fn read_username_from_file() -> Result<String, io::Error> {
    let mut username_file = File::open("hello.txt")?;
    let mut username = String::new();
    username_file.read_to_string(&mut username)?;
    Ok(username)
}
\`\`\`
</v-click>
`,title:"`Do` notation",level:3,content:`### \`Do\` notation

\`\`\`haskell
getUsername path = do
  contents <- readFile path
  username <- readUsername contents
  return username
\`\`\`
<v-click>
\`\`\`rust
/// \`?\` Operator
fn read_username_from_file() -> Result<String, io::Error> {
    let mut username_file = File::open("hello.txt")?;
    let mut username = String::new();
    username_file.read_to_string(&mut username)?;
    Ok(username)
}
\`\`\`
</v-click>`,frontmatter:{},index:49,start:561,end:582,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:49,no:50},__clicksElements:[],__preloaded:!1}},{path:"51",name:"page-51",component:jht,meta:{slide:{raw:`
## A \`generic\` model of \`computation\` that lets you choose the environmental features that you want for your computations

<!-- 
All monad based environments support a fundamental operations:  bind.
- bind: connect the output of one computation to a function that consumes the output and then returns another computation.

It's just that a lot of common, useful computations follow the pattern of performing sequences of tiny computations on values. And that's what bind let you do. They let you build up useful, complex computations.
Here's where it gets cool. Different monads offer different kinds of environments/side effects in which to interpret the computations that you construct. 

For example, the State monad lets you perform computations within an environment in which each computation has access to some blob of state. 

BUT:
If you're accustomed to imperative programming languages, you're probably thinking, "Big deal, I can mix state into my computations already. I don't need monads to let me do it." And you would be right.

But you would also be missing the point. 

Often, you don't need to work with state. And yet most programming languages force you to carry out all of your computations in an environment that makes you manage state anyway, at least in your head. When you don't need it, it's baggage. It's a burden. It's one more thing that can go wrong.

If you're using monads, on the other hand, you can be explicit about when you need and do not need state \u2013 and other environmental features. 

NEXT PAGE!

https://www.reddit.com/r/programming/comments/ox6s/ask_reddit_what_the_hell_are_monads/ 

-->
`,title:"A `generic` model of `computation` that lets you choose the environmental features that you want for your computations",level:2,content:"## A `generic` model of `computation` that lets you choose the environmental features that you want for your computations",frontmatter:{},note:`All monad based environments support a fundamental operations:  bind.
- bind: connect the output of one computation to a function that consumes the output and then returns another computation.

It's just that a lot of common, useful computations follow the pattern of performing sequences of tiny computations on values. And that's what bind let you do. They let you build up useful, complex computations.
Here's where it gets cool. Different monads offer different kinds of environments/side effects in which to interpret the computations that you construct. 

For example, the State monad lets you perform computations within an environment in which each computation has access to some blob of state. 

BUT:
If you're accustomed to imperative programming languages, you're probably thinking, "Big deal, I can mix state into my computations already. I don't need monads to let me do it." And you would be right.

But you would also be missing the point. 

Often, you don't need to work with state. And yet most programming languages force you to carry out all of your computations in an environment that makes you manage state anyway, at least in your head. When you don't need it, it's baggage. It's a burden. It's one more thing that can go wrong.

If you're using monads, on the other hand, you can be explicit about when you need and do not need state \u2013 and other environmental features. 

NEXT PAGE!

https://www.reddit.com/r/programming/comments/ox6s/ask_reddit_what_the_hell_are_monads/`,index:50,start:583,end:610,notesHTML:`<p>All monad based environments support a fundamental operations:  bind.</p>
<ul>
<li>bind: connect the output of one computation to a function that consumes the output and then returns another computation.</li>
</ul>
<p>It's just that a lot of common, useful computations follow the pattern of performing sequences of tiny computations on values. And that's what bind let you do. They let you build up useful, complex computations.
Here's where it gets cool. Different monads offer different kinds of environments/side effects in which to interpret the computations that you construct.</p>
<p>For example, the State monad lets you perform computations within an environment in which each computation has access to some blob of state.</p>
<p>BUT:
If you're accustomed to imperative programming languages, you're probably thinking, &quot;Big deal, I can mix state into my computations already. I don't need monads to let me do it.&quot; And you would be right.</p>
<p>But you would also be missing the point.</p>
<p>Often, you don't need to work with state. And yet most programming languages force you to carry out all of your computations in an environment that makes you manage state anyway, at least in your head. When you don't need it, it's baggage. It's a burden. It's one more thing that can go wrong.</p>
<p>If you're using monads, on the other hand, you can be explicit about when you need and do not need state \u2013 and other environmental features.</p>
<p>NEXT PAGE!</p>
<p>https://www.reddit.com/r/programming/comments/ox6s/ask_reddit_what_the_hell_are_monads/</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:50,no:51},__clicksElements:[],__preloaded:!1}},{path:"52",name:"page-52",component:Ght,meta:{slide:{raw:`
## It's all about being \`explicit\`

 <!-- You can build your environments to perfectly match your requirements. 
 
 (And, if you're using a programming language like Haskell/Rust that offers a 
 modern static type system in addition to monads, you can be assured of never 
 accidentally mixing computations intended for different environments.) 

If you want an environment that supports exceptions, closures, and state, just stack up a few monads, and you've got it. 
If you need continuations, I/O, and a stream of random integers, no problem: just set up a different stack. 

Monad transformers, FTW (we'll see later in the exercise)

 -->
`,title:"It's all about being `explicit`",level:2,content:"## It's all about being `explicit`",frontmatter:{},note:`You can build your environments to perfectly match your requirements. 
 
 (And, if you're using a programming language like Haskell/Rust that offers a 
 modern static type system in addition to monads, you can be assured of never 
 accidentally mixing computations intended for different environments.) 

If you want an environment that supports exceptions, closures, and state, just stack up a few monads, and you've got it. 
If you need continuations, I/O, and a stream of random integers, no problem: just set up a different stack. 

Monad transformers, FTW (we'll see later in the exercise)`,index:51,start:611,end:627,notesHTML:`<p>You can build your environments to perfectly match your requirements.</p>
<p>(And, if you're using a programming language like Haskell/Rust that offers a
modern static type system in addition to monads, you can be assured of never
accidentally mixing computations intended for different environments.)</p>
<p>If you want an environment that supports exceptions, closures, and state, just stack up a few monads, and you've got it.
If you need continuations, I/O, and a stream of random integers, no problem: just set up a different stack.</p>
<p>Monad transformers, FTW (we'll see later in the exercise)</p>
`,filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:51,no:52},__clicksElements:[],__preloaded:!1}},{path:"53",name:"page-53",component:Zht,meta:{slide:{raw:"\n## `Summary`\n1. `Category Theory` => how things compose\n2. `ADTs`            => compose types to make illegal states unrepresentable\n3. `Functor`         => lift values into a context\n4. `Applicative`     => indipendent values applied to a function in a context\n5. `Monad`           => sequencing contextful operations  \n\n",title:"`Summary`",level:2,content:"## `Summary`\n1. `Category Theory` => how things compose\n2. `ADTs`            => compose types to make illegal states unrepresentable\n3. `Functor`         => lift values into a context\n4. `Applicative`     => indipendent values applied to a function in a context\n5. `Monad`           => sequencing contextful operations",frontmatter:{},index:52,start:628,end:637,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:52,no:53},__clicksElements:[],__preloaded:!1}},{path:"54",name:"page-54",component:edt,meta:{slide:{raw:`
## Where to go \`next\`?

![](/fantasy_land.png)


`,title:"Where to go `next`?",level:2,content:"## Where to go `next`?\n\n![](/fantasy_land.png)",frontmatter:{},index:53,start:638,end:645,notesHTML:"",filepath:"/home/runner/work/slides/slides/presentations/programming_with_algebra/index.md",id:53,no:54},__clicksElements:[],__preloaded:!1}},{path:"55",component:Bat,meta:{layout:"end"}}];const ni=ndt,rdt=[{name:"play",path:"/",component:Aat,children:[...ni]},{name:"print",path:"/print",component:Dat},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}},{name:"presenter",path:"/presenter/:no",component:()=>Hu(()=>import("./Presenter.1a22d807.js"),["assets/Presenter.1a22d807.js","assets/Presenter.25db6c55.css","assets/DrawingControls.932ca558.js"]),beforeEnter:r=>{if(!ac.remote||ac.remote===r.query.password)return!0;if(ac.remote&&r.query.password===void 0){const a=prompt("Enter password");if(ac.remote===a)return!0}return r.params.no?{path:`/${r.params.no}`}:{path:""}}},{path:"/presenter",redirect:{path:"/presenter/1"}}],fs=prt({history:Ont("/slides/presentations/programming_with_algebra/"),routes:rdt});function idt(r,a,{mode:u="replace"}={}){return Qt({get(){const d=fs.currentRoute.value.query[r];return d==null?a!=null?a:null:Array.isArray(d)?d.filter(Boolean):d},set(d){yi(()=>{fs[St(u)]({query:{...fs.currentRoute.value.query,[r]:d}})})}})}const dC=Se(0);yi(()=>{fs.afterEach(async()=>{await yi(),dC.value+=1})});const Eo=Qt(()=>fs.currentRoute.value),Tb=Qt(()=>Eo.value.query.print!==void 0),sdt=Qt(()=>Eo.value.query.print==="clicks"),_o=Qt(()=>Eo.value.query.embedded!==void 0),Oa=Qt(()=>Eo.value.path.startsWith("/presenter")),Id=Qt(()=>Tb.value&&!sdt.value),M_=Qt(()=>Eo.value.query.password),adt=Qt(()=>!Oa.value&&(!Jn.remote||M_.value===Jn.remote)),PT=idt("clicks","0"),fC=Qt(()=>ni.length-1),odt=Qt(()=>Eo.value.path),ri=Qt(()=>parseInt(odt.value.split(/\//g).slice(-1)[0])||1);Qt(()=>Gp(ri.value));const us=Qt(()=>ni.find(r=>r.path===`${ri.value}`));Qt(()=>{var r,a,u;return(u=(a=(r=us.value)==null?void 0:r.meta)==null?void 0:a.slide)==null?void 0:u.id});Qt(()=>{var r,a;return(a=(r=us.value)==null?void 0:r.meta)==null?void 0:a.layout});const qy=Qt(()=>ni.find(r=>r.path===`${Math.min(ni.length,ri.value+1)}`)),ldt=Qt(()=>{var r,a;return dC.value,((a=(r=us.value)==null?void 0:r.meta)==null?void 0:a.__clicksElements)||[]}),aa=Qt({get(){if(Id.value)return 99999;let r=+(PT.value||0);return isNaN(r)&&(r=0),r},set(r){PT.value=r.toString()}}),Tp=Qt(()=>{var r,a,u;return+((u=(a=(r=us.value)==null?void 0:r.meta)==null?void 0:a.clicks)!=null?u:ldt.value.length)}),cdt=Qt(()=>ri.value<ni.length-1||aa.value<Tp.value),udt=Qt(()=>ri.value>1||aa.value>0),hdt=Qt(()=>ni.filter(r=>{var a,u;return(u=(a=r.meta)==null?void 0:a.slide)==null?void 0:u.title}).reduce((r,a)=>(Eb(r,a),r),[])),ddt=Qt(()=>Cb(hdt.value,us.value));Qt(()=>Sb(ddt.value));function rl(){Tp.value<=aa.value?Gd():aa.value+=1}async function il(){aa.value<=0?await Xd():aa.value-=1}function Gp(r){return Oa.value?`/presenter/${r}`:`/${r}`}function Gd(){const r=Math.min(ni.length,ri.value+1);return Yu(r)}async function Xd(r=!0){const a=Math.max(1,ri.value-1);await Yu(a),r&&Tp.value&&fs.replace({query:{...Eo.value.query,clicks:Tp.value}})}function Yu(r,a){return fs.push({path:Gp(r),query:{...Eo.value.query,clicks:a}})}function fdt(r){const a=Se(0),{direction:u,distanceX:d,distanceY:p}=ant(r,{onSwipeStart(_){_.pointerType==="touch"&&(Wd.value||(a.value=__()))},onSwipeEnd(_){if(_.pointerType!=="touch"||!a.value||Wd.value)return;const v=Math.abs(d.value),C=Math.abs(p.value);v/window.innerWidth>.3||v>100?u.value===xo.LEFT?rl():il():(C/window.innerHeight>.4||C>200)&&(u.value===xo.DOWN?Xd():Gd())}})}async function N_(){const{saveAs:r}=await Hu(()=>import("./FileSaver.min.c84373c9.js").then(function(a){return a.F}),[]);r(v7(Jn.download)?Jn.download:Jn.exportFilename?`${Jn.exportFilename}.pdf`:"/slides/presentations/programming_with_algebra/slidev-exported.pdf",`${Jn.title}.pdf`)}async function pdt(r){var a,u;if(r==null){const d=(u=(a=us.value)==null?void 0:a.meta)==null?void 0:u.slide;if(!(d!=null&&d.filepath))return!1;r=`${d.filepath}:${d.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(r)}`),!0}function Eb(r,a,u=1){var p,_,v,C,S;const d=(_=(p=a.meta)==null?void 0:p.slide)==null?void 0:_.level;d&&d>u&&r.length>0?Eb(r[r.length-1].children,a,u+1):r.push({children:[],level:u,path:a.path,hideInToc:Boolean((v=a.meta)==null?void 0:v.hideInToc),title:(S=(C=a.meta)==null?void 0:C.slide)==null?void 0:S.title})}function Cb(r,a,u=!1,d){return r.map(p=>{const _={...p,active:p.path===(a==null?void 0:a.path),hasActiveParent:u};return _.children.length>0&&(_.children=Cb(_.children,a,_.active||_.hasActiveParent,_)),d&&(_.active||_.activeParent)&&(d.activeParent=!0),_})}function Sb(r,a=1){return r.filter(u=>!u.hideInToc).map(u=>({...u,children:Sb(u.children,a+1)}))}function gdt(){const r=Jn.titleTemplate.replace("%s",Jn.title||"Slidev");Ott({title:r}),Ytt(`${r} - shared`),Wtt(`${r} - drawings`);function a(){Oa.value&&(U8("page",+ri.value),U8("clicks",aa.value))}fs.afterEach(a),Vn(aa,a),Utt(u=>{(+u.page!=+ri.value||aa.value!==u.clicks)&&fs.replace({path:Gp(u.page),query:{...fs.currentRoute.value.query,clicks:u.clicks||0}})})}const mdt=Xn({__name:"App",setup(r){return le(ve),gdt(),(a,u)=>{const d=mp("RouterView"),p=mp("StarportCarrier");return Mt(),Pe(sr,null,[Ne(d),Ne(p)],64)}}});function Gy(r){return r!==null&&typeof r=="object"}function D_(r,a,u=".",d){if(!Gy(a))return D_(r,{},u,d);const p=Object.assign({},a);for(const _ in r){if(_==="__proto__"||_==="constructor")continue;const v=r[_];v!=null&&(d&&d(p,_,v,u)||(Array.isArray(v)&&Array.isArray(p[_])?p[_]=[...v,...p[_]]:Gy(v)&&Gy(p[_])?p[_]=D_(v,p[_],(u?`${u}.`:"")+_.toString(),d):p[_]=v))}return p}function ydt(r){return(...a)=>a.reduce((u,d)=>D_(u,d,"",r),{})}const _dt=ydt();var VT;const pC=typeof window!="undefined",bdt=Object.prototype.toString,vdt=r=>typeof r=="number",xdt=r=>typeof r=="string",I_=r=>bdt.call(r)==="[object Object]",cp=()=>{};pC&&((VT=window==null?void 0:window.navigator)==null?void 0:VT.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function kdt(r){return typeof r=="function"?r():St(r)}function wdt(r){return r}function gC(r){return kE()?(wE(r),!0):!1}function Tdt(r,a=!0){Ra()?_c(r):a?r():yi(r)}function Edt(r){Ra()&&Yp(r)}function Ep(r){var a;const u=kdt(r);return(a=u==null?void 0:u.$el)!=null?a:u}const mC=pC?window:void 0;function Js(...r){let a,u,d,p;if(xdt(r[0])||Array.isArray(r[0])?([u,d,p]=r,a=mC):[a,u,d,p]=r,!a)return cp;Array.isArray(u)||(u=[u]),Array.isArray(d)||(d=[d]);const _=[],v=()=>{_.forEach(E=>E()),_.length=0},C=(E,H,W)=>(E.addEventListener(H,W,p),()=>E.removeEventListener(H,W,p)),S=Vn(()=>Ep(a),E=>{v(),E&&_.push(...u.flatMap(H=>d.map(W=>C(E,H,W))))},{immediate:!0,flush:"post"}),D=()=>{S(),v()};return gC(D),D}function Cdt(r,a=!1){const u=Se(),d=()=>u.value=Boolean(r());return d(),Tdt(d,a),u}const R_=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},B_="__vueuse_ssr_handlers__";R_[B_]=R_[B_]||{};R_[B_];function Sdt(r,a,u={}){const{root:d,rootMargin:p="0px",threshold:_=.1,window:v=mC}=u,C=Cdt(()=>v&&"IntersectionObserver"in v);let S=cp;const D=C.value?Vn(()=>({el:Ep(r),root:Ep(d)}),({el:H,root:W})=>{if(S(),!H)return;const K=new IntersectionObserver(a,{root:W,rootMargin:p,threshold:_});K.observe(H),S=()=>{K.disconnect(),S=cp}},{immediate:!0,flush:"post"}):cp,E=()=>{S(),D()};return gC(E),{isSupported:C,stop:E}}var $T;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})($T||($T={}));var Adt=Object.defineProperty,YT=Object.getOwnPropertySymbols,Ldt=Object.prototype.hasOwnProperty,Odt=Object.prototype.propertyIsEnumerable,UT=(r,a,u)=>a in r?Adt(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,Mdt=(r,a)=>{for(var u in a||(a={}))Ldt.call(a,u)&&UT(r,u,a[u]);if(YT)for(var u of YT(a))Odt.call(a,u)&&UT(r,u,a[u]);return r};const Ndt={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Mdt({linear:wdt},Ndt);const yC=1/60*1e3,Ddt=typeof performance!="undefined"?()=>performance.now():()=>Date.now(),_C=typeof window!="undefined"?r=>window.requestAnimationFrame(r):r=>setTimeout(()=>r(Ddt()),yC);function Idt(r){let a=[],u=[],d=0,p=!1,_=!1;const v=new WeakSet,C={schedule:(S,D=!1,E=!1)=>{const H=E&&p,W=H?a:u;return D&&v.add(S),W.indexOf(S)===-1&&(W.push(S),H&&p&&(d=a.length)),S},cancel:S=>{const D=u.indexOf(S);D!==-1&&u.splice(D,1),v.delete(S)},process:S=>{if(p){_=!0;return}if(p=!0,[a,u]=[u,a],u.length=0,d=a.length,d)for(let D=0;D<d;D++){const E=a[D];E(S),v.has(E)&&(C.schedule(E),r())}p=!1,_&&(_=!1,C.process(S))}};return C}const Rdt=40;let F_=!0,Kd=!1,P_=!1;const Bu={delta:0,timestamp:0},tf=["read","update","preRender","render","postRender"],Xp=tf.reduce((r,a)=>(r[a]=Idt(()=>Kd=!0),r),{}),V_=tf.reduce((r,a)=>{const u=Xp[a];return r[a]=(d,p=!1,_=!1)=>(Kd||Pdt(),u.schedule(d,p,_)),r},{}),Bdt=tf.reduce((r,a)=>(r[a]=Xp[a].cancel,r),{});tf.reduce((r,a)=>(r[a]=()=>Xp[a].process(Bu),r),{});const Fdt=r=>Xp[r].process(Bu),bC=r=>{Kd=!1,Bu.delta=F_?yC:Math.max(Math.min(r-Bu.timestamp,Rdt),1),Bu.timestamp=r,P_=!0,tf.forEach(Fdt),P_=!1,Kd&&(F_=!1,_C(bC))},Pdt=()=>{Kd=!0,F_=!0,P_||_C(bC)},vC=()=>Bu;function xC(r,a){var u={};for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&a.indexOf(d)<0&&(u[d]=r[d]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,d=Object.getOwnPropertySymbols(r);p<d.length;p++)a.indexOf(d[p])<0&&Object.prototype.propertyIsEnumerable.call(r,d[p])&&(u[d[p]]=r[d[p]]);return u}var Vdt=function(){},zT=function(){};const $_=(r,a,u)=>Math.min(Math.max(u,r),a),Xy=.001,$dt=.01,HT=10,Ydt=.05,Udt=1;function zdt({duration:r=800,bounce:a=.25,velocity:u=0,mass:d=1}){let p,_;Vdt(r<=HT*1e3);let v=1-a;v=$_(Ydt,Udt,v),r=$_($dt,HT,r/1e3),v<1?(p=D=>{const E=D*v,H=E*r,W=E-u,K=Y_(D,v),ot=Math.exp(-H);return Xy-W/K*ot},_=D=>{const H=D*v*r,W=H*u+u,K=Math.pow(v,2)*Math.pow(D,2)*r,ot=Math.exp(-H),Tt=Y_(Math.pow(D,2),v);return(-p(D)+Xy>0?-1:1)*((W-K)*ot)/Tt}):(p=D=>{const E=Math.exp(-D*r),H=(D-u)*r+1;return-Xy+E*H},_=D=>{const E=Math.exp(-D*r),H=(u-D)*(r*r);return E*H});const C=5/r,S=Wdt(p,_,C);if(r=r*1e3,isNaN(S))return{stiffness:100,damping:10,duration:r};{const D=Math.pow(S,2)*d;return{stiffness:D,damping:v*2*Math.sqrt(d*D),duration:r}}}const Hdt=12;function Wdt(r,a,u){let d=u;for(let p=1;p<Hdt;p++)d=d-r(d)/a(d);return d}function Y_(r,a){return r*Math.sqrt(1-a*a)}const jdt=["duration","bounce"],qdt=["stiffness","damping","mass"];function WT(r,a){return a.some(u=>r[u]!==void 0)}function Gdt(r){let a=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},r);if(!WT(r,qdt)&&WT(r,jdt)){const u=zdt(r);a=Object.assign(Object.assign(Object.assign({},a),u),{velocity:0,mass:1}),a.isResolvedFromDuration=!0}return a}function Ab(r){var{from:a=0,to:u=1,restSpeed:d=2,restDelta:p}=r,_=xC(r,["from","to","restSpeed","restDelta"]);const v={done:!1,value:a};let{stiffness:C,damping:S,mass:D,velocity:E,duration:H,isResolvedFromDuration:W}=Gdt(_),K=jT,ot=jT;function Tt(){const Lt=E?-(E/1e3):0,Kt=u-a,Pt=S/(2*Math.sqrt(C*D)),Nt=Math.sqrt(C/D)/1e3;if(p===void 0&&(p=Math.min(Math.abs(u-a)/100,.4)),Pt<1){const Gt=Y_(Nt,Pt);K=he=>{const ae=Math.exp(-Pt*Nt*he);return u-ae*((Lt+Pt*Nt*Kt)/Gt*Math.sin(Gt*he)+Kt*Math.cos(Gt*he))},ot=he=>{const ae=Math.exp(-Pt*Nt*he);return Pt*Nt*ae*(Math.sin(Gt*he)*(Lt+Pt*Nt*Kt)/Gt+Kt*Math.cos(Gt*he))-ae*(Math.cos(Gt*he)*(Lt+Pt*Nt*Kt)-Gt*Kt*Math.sin(Gt*he))}}else if(Pt===1)K=Gt=>u-Math.exp(-Nt*Gt)*(Kt+(Lt+Nt*Kt)*Gt);else{const Gt=Nt*Math.sqrt(Pt*Pt-1);K=he=>{const ae=Math.exp(-Pt*Nt*he),Be=Math.min(Gt*he,300);return u-ae*((Lt+Pt*Nt*Kt)*Math.sinh(Be)+Gt*Kt*Math.cosh(Be))/Gt}}}return Tt(),{next:Lt=>{const Kt=K(Lt);if(W)v.done=Lt>=H;else{const Pt=ot(Lt)*1e3,Nt=Math.abs(Pt)<=d,Gt=Math.abs(u-Kt)<=p;v.done=Nt&&Gt}return v.value=v.done?u:Kt,v},flipTarget:()=>{E=-E,[a,u]=[u,a],Tt()}}}Ab.needsInterpolation=(r,a)=>typeof r=="string"||typeof a=="string";const jT=r=>0,kC=(r,a,u)=>{const d=a-r;return d===0?1:(u-r)/d},Lb=(r,a,u)=>-u*r+u*a+r,wC=(r,a)=>u=>Math.max(Math.min(u,a),r),Rd=r=>r%1?Number(r.toFixed(5)):r,Zd=/(-)?([\d]*\.?[\d])+/g,U_=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Xdt=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ef(r){return typeof r=="string"}const nf={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Bd=Object.assign(Object.assign({},nf),{transform:wC(0,1)}),tp=Object.assign(Object.assign({},nf),{default:1}),Ob=r=>({test:a=>ef(a)&&a.endsWith(r)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${r}`}),Zl=Ob("deg"),Fd=Ob("%"),Nn=Ob("px"),qT=Object.assign(Object.assign({},Fd),{parse:r=>Fd.parse(r)/100,transform:r=>Fd.transform(r*100)}),Mb=(r,a)=>u=>Boolean(ef(u)&&Xdt.test(u)&&u.startsWith(r)||a&&Object.prototype.hasOwnProperty.call(u,a)),TC=(r,a,u)=>d=>{if(!ef(d))return d;const[p,_,v,C]=d.match(Zd);return{[r]:parseFloat(p),[a]:parseFloat(_),[u]:parseFloat(v),alpha:C!==void 0?parseFloat(C):1}},cc={test:Mb("hsl","hue"),parse:TC("hue","saturation","lightness"),transform:({hue:r,saturation:a,lightness:u,alpha:d=1})=>"hsla("+Math.round(r)+", "+Fd.transform(Rd(a))+", "+Fd.transform(Rd(u))+", "+Rd(Bd.transform(d))+")"},Kdt=wC(0,255),Ky=Object.assign(Object.assign({},nf),{transform:r=>Math.round(Kdt(r))}),Jo={test:Mb("rgb","red"),parse:TC("red","green","blue"),transform:({red:r,green:a,blue:u,alpha:d=1})=>"rgba("+Ky.transform(r)+", "+Ky.transform(a)+", "+Ky.transform(u)+", "+Rd(Bd.transform(d))+")"};function Zdt(r){let a="",u="",d="",p="";return r.length>5?(a=r.substr(1,2),u=r.substr(3,2),d=r.substr(5,2),p=r.substr(7,2)):(a=r.substr(1,1),u=r.substr(2,1),d=r.substr(3,1),p=r.substr(4,1),a+=a,u+=u,d+=d,p+=p),{red:parseInt(a,16),green:parseInt(u,16),blue:parseInt(d,16),alpha:p?parseInt(p,16)/255:1}}const z_={test:Mb("#"),parse:Zdt,transform:Jo.transform},Zi={test:r=>Jo.test(r)||z_.test(r)||cc.test(r),parse:r=>Jo.test(r)?Jo.parse(r):cc.test(r)?cc.parse(r):z_.parse(r),transform:r=>ef(r)?r:r.hasOwnProperty("red")?Jo.transform(r):cc.transform(r)},EC="${c}",CC="${n}";function Qdt(r){var a,u,d,p;return isNaN(r)&&ef(r)&&((u=(a=r.match(Zd))===null||a===void 0?void 0:a.length)!==null&&u!==void 0?u:0)+((p=(d=r.match(U_))===null||d===void 0?void 0:d.length)!==null&&p!==void 0?p:0)>0}function SC(r){typeof r=="number"&&(r=`${r}`);const a=[];let u=0;const d=r.match(U_);d&&(u=d.length,r=r.replace(U_,EC),a.push(...d.map(Zi.parse)));const p=r.match(Zd);return p&&(r=r.replace(Zd,CC),a.push(...p.map(nf.parse))),{values:a,numColors:u,tokenised:r}}function AC(r){return SC(r).values}function LC(r){const{values:a,numColors:u,tokenised:d}=SC(r),p=a.length;return _=>{let v=d;for(let C=0;C<p;C++)v=v.replace(C<u?EC:CC,C<u?Zi.transform(_[C]):Rd(_[C]));return v}}const Jdt=r=>typeof r=="number"?0:r;function tft(r){const a=AC(r);return LC(r)(a.map(Jdt))}const rf={test:Qdt,parse:AC,createTransformer:LC,getAnimatableNone:tft},eft=new Set(["brightness","contrast","saturate","opacity"]);function nft(r){let[a,u]=r.slice(0,-1).split("(");if(a==="drop-shadow")return r;const[d]=u.match(Zd)||[];if(!d)return r;const p=u.replace(d,"");let _=eft.has(a)?1:0;return d!==u&&(_*=100),a+"("+_+p+")"}const rft=/([a-z-]*)\(.*?\)/g,H_=Object.assign(Object.assign({},rf),{getAnimatableNone:r=>{const a=r.match(rft);return a?a.map(nft).join(" "):r}});function Zy(r,a,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?r+(a-r)*6*u:u<1/2?a:u<2/3?r+(a-r)*(2/3-u)*6:r}function GT({hue:r,saturation:a,lightness:u,alpha:d}){r/=360,a/=100,u/=100;let p=0,_=0,v=0;if(!a)p=_=v=u;else{const C=u<.5?u*(1+a):u+a-u*a,S=2*u-C;p=Zy(S,C,r+1/3),_=Zy(S,C,r),v=Zy(S,C,r-1/3)}return{red:Math.round(p*255),green:Math.round(_*255),blue:Math.round(v*255),alpha:d}}const ift=(r,a,u)=>{const d=r*r,p=a*a;return Math.sqrt(Math.max(0,u*(p-d)+d))},sft=[z_,Jo,cc],XT=r=>sft.find(a=>a.test(r)),OC=(r,a)=>{let u=XT(r),d=XT(a),p=u.parse(r),_=d.parse(a);u===cc&&(p=GT(p),u=Jo),d===cc&&(_=GT(_),d=Jo);const v=Object.assign({},p);return C=>{for(const S in v)S!=="alpha"&&(v[S]=ift(p[S],_[S],C));return v.alpha=Lb(p.alpha,_.alpha,C),u.transform(v)}},aft=r=>typeof r=="number",oft=(r,a)=>u=>a(r(u)),MC=(...r)=>r.reduce(oft);function NC(r,a){return aft(r)?u=>Lb(r,a,u):Zi.test(r)?OC(r,a):IC(r,a)}const DC=(r,a)=>{const u=[...r],d=u.length,p=r.map((_,v)=>NC(_,a[v]));return _=>{for(let v=0;v<d;v++)u[v]=p[v](_);return u}},lft=(r,a)=>{const u=Object.assign(Object.assign({},r),a),d={};for(const p in u)r[p]!==void 0&&a[p]!==void 0&&(d[p]=NC(r[p],a[p]));return p=>{for(const _ in d)u[_]=d[_](p);return u}};function KT(r){const a=rf.parse(r),u=a.length;let d=0,p=0,_=0;for(let v=0;v<u;v++)d||typeof a[v]=="number"?d++:a[v].hue!==void 0?_++:p++;return{parsed:a,numNumbers:d,numRGB:p,numHSL:_}}const IC=(r,a)=>{const u=rf.createTransformer(a),d=KT(r),p=KT(a);return d.numHSL===p.numHSL&&d.numRGB===p.numRGB&&d.numNumbers>=p.numNumbers?MC(DC(d.parsed,p.parsed),u):v=>`${v>0?a:r}`},cft=(r,a)=>u=>Lb(r,a,u);function uft(r){if(typeof r=="number")return cft;if(typeof r=="string")return Zi.test(r)?OC:IC;if(Array.isArray(r))return DC;if(typeof r=="object")return lft}function hft(r,a,u){const d=[],p=u||uft(r[0]),_=r.length-1;for(let v=0;v<_;v++){let C=p(r[v],r[v+1]);if(a){const S=Array.isArray(a)?a[v]:a;C=MC(S,C)}d.push(C)}return d}function dft([r,a],[u]){return d=>u(kC(r,a,d))}function fft(r,a){const u=r.length,d=u-1;return p=>{let _=0,v=!1;if(p<=r[0]?v=!0:p>=r[d]&&(_=d-1,v=!0),!v){let S=1;for(;S<u&&!(r[S]>p||S===d);S++);_=S-1}const C=kC(r[_],r[_+1],p);return a[_](C)}}function RC(r,a,{clamp:u=!0,ease:d,mixer:p}={}){const _=r.length;zT(_===a.length),zT(!d||!Array.isArray(d)||d.length===_-1),r[0]>r[_-1]&&(r=[].concat(r),a=[].concat(a),r.reverse(),a.reverse());const v=hft(a,d,p),C=_===2?dft(r,v):fft(r,v);return u?S=>C($_(r[0],r[_-1],S)):C}const Kp=r=>a=>1-r(1-a),Nb=r=>a=>a<=.5?r(2*a)/2:(2-r(2*(1-a)))/2,pft=r=>a=>Math.pow(a,r),BC=r=>a=>a*a*((r+1)*a-r),gft=r=>{const a=BC(r);return u=>(u*=2)<1?.5*a(u):.5*(2-Math.pow(2,-10*(u-1)))},FC=1.525,mft=4/11,yft=8/11,_ft=9/10,PC=r=>r,Db=pft(2),bft=Kp(Db),VC=Nb(Db),$C=r=>1-Math.sin(Math.acos(r)),YC=Kp($C),vft=Nb(YC),Ib=BC(FC),xft=Kp(Ib),kft=Nb(Ib),wft=gft(FC),Tft=4356/361,Eft=35442/1805,Cft=16061/1805,Cp=r=>{if(r===1||r===0)return r;const a=r*r;return r<mft?7.5625*a:r<yft?9.075*a-9.9*r+3.4:r<_ft?Tft*a-Eft*r+Cft:10.8*r*r-20.52*r+10.72},Sft=Kp(Cp),Aft=r=>r<.5?.5*(1-Cp(1-r*2)):.5*Cp(r*2-1)+.5;function Lft(r,a){return r.map(()=>a||VC).splice(0,r.length-1)}function Oft(r){const a=r.length;return r.map((u,d)=>d!==0?d/(a-1):0)}function Mft(r,a){return r.map(u=>u*a)}function up({from:r=0,to:a=1,ease:u,offset:d,duration:p=300}){const _={done:!1,value:r},v=Array.isArray(a)?a:[r,a],C=Mft(d&&d.length===v.length?d:Oft(v),p);function S(){return RC(C,v,{ease:Array.isArray(u)?u:Lft(v,u)})}let D=S();return{next:E=>(_.value=D(E),_.done=E>=p,_),flipTarget:()=>{v.reverse(),D=S()}}}function Nft({velocity:r=0,from:a=0,power:u=.8,timeConstant:d=350,restDelta:p=.5,modifyTarget:_}){const v={done:!1,value:a};let C=u*r;const S=a+C,D=_===void 0?S:_(S);return D!==S&&(C=D-a),{next:E=>{const H=-C*Math.exp(-E/d);return v.done=!(H>p||H<-p),v.value=v.done?D:D+H,v},flipTarget:()=>{}}}const ZT={keyframes:up,spring:Ab,decay:Nft};function Dft(r){if(Array.isArray(r.to))return up;if(ZT[r.type])return ZT[r.type];const a=new Set(Object.keys(r));return a.has("ease")||a.has("duration")&&!a.has("dampingRatio")?up:a.has("dampingRatio")||a.has("stiffness")||a.has("mass")||a.has("damping")||a.has("restSpeed")||a.has("restDelta")?Ab:up}function UC(r,a,u=0){return r-a-u}function Ift(r,a,u=0,d=!0){return d?UC(a+-r,a,u):a-(r-a)+u}function Rft(r,a,u,d){return d?r>=a+u:r<=-u}const Bft=r=>{const a=({delta:u})=>r(u);return{start:()=>V_.update(a,!0),stop:()=>Bdt.update(a)}};function zC(r){var a,u,{from:d,autoplay:p=!0,driver:_=Bft,elapsed:v=0,repeat:C=0,repeatType:S="loop",repeatDelay:D=0,onPlay:E,onStop:H,onComplete:W,onRepeat:K,onUpdate:ot}=r,Tt=xC(r,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:Lt}=Tt,Kt,Pt=0,Nt=Tt.duration,Gt,he=!1,ae=!0,Be;const mn=Dft(Tt);!((u=(a=mn).needsInterpolation)===null||u===void 0)&&u.call(a,d,Lt)&&(Be=RC([0,100],[d,Lt],{clamp:!1}),d=0,Lt=100);const Rn=mn(Object.assign(Object.assign({},Tt),{from:d,to:Lt}));function Bn(){Pt++,S==="reverse"?(ae=Pt%2===0,v=Ift(v,Nt,D,ae)):(v=UC(v,Nt,D),S==="mirror"&&Rn.flipTarget()),he=!1,K&&K()}function Hn(){Kt.stop(),W&&W()}function Kr(xr){if(ae||(xr=-xr),v+=xr,!he){const lr=Rn.next(Math.max(0,v));Gt=lr.value,Be&&(Gt=Be(Gt)),he=ae?lr.done:v<=0}ot==null||ot(Gt),he&&(Pt===0&&(Nt!=null||(Nt=v)),Pt<C?Rft(v,Nt,D,ae)&&Bn():Hn())}function Rr(){E==null||E(),Kt=_(Kr),Kt.start()}return p&&Rr(),{stop:()=>{H==null||H(),Kt.stop()}}}function HC(r,a){return a?r*(1e3/a):0}function Fft({from:r=0,velocity:a=0,min:u,max:d,power:p=.8,timeConstant:_=750,bounceStiffness:v=500,bounceDamping:C=10,restDelta:S=1,modifyTarget:D,driver:E,onUpdate:H,onComplete:W,onStop:K}){let ot;function Tt(Nt){return u!==void 0&&Nt<u||d!==void 0&&Nt>d}function Lt(Nt){return u===void 0?d:d===void 0||Math.abs(u-Nt)<Math.abs(d-Nt)?u:d}function Kt(Nt){ot==null||ot.stop(),ot=zC(Object.assign(Object.assign({},Nt),{driver:E,onUpdate:Gt=>{var he;H==null||H(Gt),(he=Nt.onUpdate)===null||he===void 0||he.call(Nt,Gt)},onComplete:W,onStop:K}))}function Pt(Nt){Kt(Object.assign({type:"spring",stiffness:v,damping:C,restDelta:S},Nt))}if(Tt(r))Pt({from:r,velocity:a,to:Lt(r)});else{let Nt=p*a+r;typeof D!="undefined"&&(Nt=D(Nt));const Gt=Lt(Nt),he=Gt===u?-1:1;let ae,Be;const mn=Rn=>{ae=Be,Be=Rn,a=HC(Rn-ae,vC().delta),(he===1&&Rn>Gt||he===-1&&Rn<Gt)&&Pt({from:Rn,to:Gt,velocity:a})};Kt({type:"decay",from:r,velocity:a,timeConstant:_,power:p,restDelta:S,modifyTarget:D,onUpdate:Tt(Nt)?mn:void 0})}return{stop:()=>ot==null?void 0:ot.stop()}}const WC=(r,a)=>1-3*a+3*r,jC=(r,a)=>3*a-6*r,qC=r=>3*r,Sp=(r,a,u)=>((WC(a,u)*r+jC(a,u))*r+qC(a))*r,GC=(r,a,u)=>3*WC(a,u)*r*r+2*jC(a,u)*r+qC(a),Pft=1e-7,Vft=10;function $ft(r,a,u,d,p){let _,v,C=0;do v=a+(u-a)/2,_=Sp(v,d,p)-r,_>0?u=v:a=v;while(Math.abs(_)>Pft&&++C<Vft);return v}const Yft=8,Uft=.001;function zft(r,a,u,d){for(let p=0;p<Yft;++p){const _=GC(a,u,d);if(_===0)return a;a-=(Sp(a,u,d)-r)/_}return a}const hp=11,ep=1/(hp-1);function Hft(r,a,u,d){if(r===a&&u===d)return PC;const p=new Float32Array(hp);for(let v=0;v<hp;++v)p[v]=Sp(v*ep,r,u);function _(v){let C=0,S=1;const D=hp-1;for(;S!==D&&p[S]<=v;++S)C+=ep;--S;const E=(v-p[S])/(p[S+1]-p[S]),H=C+E*ep,W=GC(H,r,u);return W>=Uft?zft(v,H,r,u):W===0?H:$ft(v,C,C+ep,r,u)}return v=>v===0||v===1?v:Sp(_(v),a,d)}const Qy={};class Wft{constructor(){this.subscriptions=new Set}add(a){return this.subscriptions.add(a),()=>this.subscriptions.delete(a)}notify(a,u,d){if(!!this.subscriptions.size)for(const p of this.subscriptions)p(a,u,d)}clear(){this.subscriptions.clear()}}const QT=r=>!isNaN(parseFloat(r));class jft{constructor(a){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Wft,this.canTrackVelocity=!1,this.updateAndNotify=u=>{this.prev=this.current,this.current=u;const{delta:d,timestamp:p}=vC();this.lastUpdated!==p&&(this.timeDelta=d,this.lastUpdated=p),V_.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>V_.postRender(this.velocityCheck),this.velocityCheck=({timestamp:u})=>{this.canTrackVelocity||(this.canTrackVelocity=QT(this.current)),u!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=a,this.canTrackVelocity=QT(this.current)}onChange(a){return this.updateSubscribers.add(a)}clearListeners(){this.updateSubscribers.clear()}set(a){this.updateAndNotify(a)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?HC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(a){return this.stop(),new Promise(u=>{const{stop:d}=a(u);this.stopAnimation=d}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function qft(r){return new jft(r)}const{isArray:Gft}=Array;function Xft(){const r=Se({}),a=d=>{const p=_=>{!r.value[_]||(r.value[_].stop(),r.value[_].destroy(),delete r.value[_])};d?Gft(d)?d.forEach(p):p(d):Object.keys(r.value).forEach(p)},u=(d,p,_)=>{if(r.value[d])return r.value[d];const v=qft(p);return v.onChange(C=>_[d]=C),r.value[d]=v,v};return Edt(a),{motionValues:r,get:u,stop:a}}const Kft=r=>Array.isArray(r),Ql=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),Jy=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),Zft=r=>({type:"spring",stiffness:550,damping:r===0?100:30,restDelta:.01,restSpeed:10}),t_=()=>({type:"keyframes",ease:"linear",duration:300}),Qft=r=>({type:"keyframes",duration:800,values:r}),JT={default:Zft,x:Ql,y:Ql,z:Ql,rotate:Ql,rotateX:Ql,rotateY:Ql,rotateZ:Ql,scaleX:Jy,scaleY:Jy,scale:Jy,backgroundColor:t_,color:t_,opacity:t_},XC=(r,a)=>{let u;return Kft(a)?u=Qft:u=JT[r]||JT.default,{to:a,...u(a)}},tE={...nf,transform:Math.round},KC={color:Zi,backgroundColor:Zi,outlineColor:Zi,fill:Zi,stroke:Zi,borderColor:Zi,borderTopColor:Zi,borderRightColor:Zi,borderBottomColor:Zi,borderLeftColor:Zi,borderWidth:Nn,borderTopWidth:Nn,borderRightWidth:Nn,borderBottomWidth:Nn,borderLeftWidth:Nn,borderRadius:Nn,radius:Nn,borderTopLeftRadius:Nn,borderTopRightRadius:Nn,borderBottomRightRadius:Nn,borderBottomLeftRadius:Nn,width:Nn,maxWidth:Nn,height:Nn,maxHeight:Nn,size:Nn,top:Nn,right:Nn,bottom:Nn,left:Nn,padding:Nn,paddingTop:Nn,paddingRight:Nn,paddingBottom:Nn,paddingLeft:Nn,margin:Nn,marginTop:Nn,marginRight:Nn,marginBottom:Nn,marginLeft:Nn,rotate:Zl,rotateX:Zl,rotateY:Zl,rotateZ:Zl,scale:tp,scaleX:tp,scaleY:tp,scaleZ:tp,skew:Zl,skewX:Zl,skewY:Zl,distance:Nn,translateX:Nn,translateY:Nn,translateZ:Nn,x:Nn,y:Nn,z:Nn,perspective:Nn,transformPerspective:Nn,opacity:Bd,originX:qT,originY:qT,originZ:Nn,zIndex:tE,filter:H_,WebkitFilter:H_,fillOpacity:Bd,strokeOpacity:Bd,numOctaves:tE},Rb=r=>KC[r],ZC=(r,a)=>a&&typeof r=="number"&&a.transform?a.transform(r):r;function Jft(r,a){let u=Rb(r);return u!==H_&&(u=rf),u.getAnimatableNone?u.getAnimatableNone(a):void 0}const t1t={linear:PC,easeIn:Db,easeInOut:VC,easeOut:bft,circIn:$C,circInOut:vft,circOut:YC,backIn:Ib,backInOut:kft,backOut:xft,anticipate:wft,bounceIn:Sft,bounceInOut:Aft,bounceOut:Cp},eE=r=>{if(Array.isArray(r)){const[a,u,d,p]=r;return Hft(a,u,d,p)}else if(typeof r=="string")return t1t[r];return r},e1t=r=>Array.isArray(r)&&typeof r[0]!="number",nE=(r,a)=>r==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&rf.test(a)&&!a.startsWith("url("));function n1t(r){return Array.isArray(r.to)&&r.to[0]===null&&(r.to=[...r.to],r.to[0]=r.from),r}function r1t({ease:r,times:a,delay:u,...d}){const p={...d};return a&&(p.offset=a),r&&(p.ease=e1t(r)?r.map(eE):eE(r)),u&&(p.elapsed=-u),p}function i1t(r,a,u){return Array.isArray(a.to)&&(r.duration||(r.duration=800)),n1t(a),s1t(r)||(r={...r,...XC(u,a.to)}),{...a,...r1t(r)}}function s1t({delay:r,repeat:a,repeatType:u,repeatDelay:d,from:p,..._}){return!!Object.keys(_).length}function a1t(r,a){return r[a]||r.default||r}function o1t(r,a,u,d,p){const _=a1t(d,r);let v=_.from===null||_.from===void 0?a.get():_.from;const C=nE(r,u);v==="none"&&C&&typeof u=="string"&&(v=Jft(r,u));const S=nE(r,v);function D(H){const W={from:v,to:u,velocity:d.velocity?d.velocity:a.getVelocity(),onUpdate:K=>a.set(K)};return _.type==="inertia"||_.type==="decay"?Fft({...W,..._}):zC({...i1t(_,W,r),onUpdate:K=>{W.onUpdate(K),_.onUpdate&&_.onUpdate(K)},onComplete:()=>{d.onComplete&&d.onComplete(),p&&p(),H&&H()}})}function E(H){return a.set(u),d.onComplete&&d.onComplete(),p&&p(),H&&H(),{stop:()=>{}}}return!S||!C||_.type===!1?E:D}function l1t(){const{motionValues:r,stop:a,get:u}=Xft();return{motionValues:r,stop:a,push:(p,_,v,C={},S)=>{const D=v[p],E=u(p,D,v);if(C&&C.immediate){E.set(_);return}const H=o1t(p,E,_,C,S);E.start(H)}}}function c1t(r,a={},{motionValues:u,push:d,stop:p}=l1t()){const _=St(a),v=Se(!1);Vn(u,H=>{v.value=Object.values(H).filter(W=>W.isAnimating()).length>0},{immediate:!0,deep:!0});const C=H=>{if(!_||!_[H])throw new Error(`The variant ${H} does not exist.`);return _[H]},S=H=>(typeof H=="string"&&(H=C(H)),Promise.all(Object.entries(H).map(([W,K])=>{if(W!=="transition")return new Promise(ot=>d(W,K,r,H.transition||XC(W,H[W]),ot))}).filter(Boolean)));return{isAnimating:v,apply:S,set:H=>{const W=I_(H)?H:C(H);Object.entries(W).forEach(([K,ot])=>{K!=="transition"&&d(K,ot,r,{immediate:!0})})},leave:async H=>{let W;if(_&&(_.leave&&(W=_.leave),!_.leave&&_.initial&&(W=_.initial)),!W){H();return}await S(W),H()},stop:p}}const Bb=typeof window!="undefined",u1t=()=>Bb&&window.onpointerdown===null,h1t=()=>Bb&&window.ontouchstart===null,d1t=()=>Bb&&window.onmousedown===null;function f1t({target:r,state:a,variants:u,apply:d}){const p=St(u),_=Se(!1),v=Se(!1),C=Se(!1),S=Qt(()=>{let E=[];return p&&(p.hovered&&(E=[...E,...Object.keys(p.hovered)]),p.tapped&&(E=[...E,...Object.keys(p.tapped)]),p.focused&&(E=[...E,...Object.keys(p.focused)])),E}),D=Qt(()=>{const E={};Object.assign(E,a.value),_.value&&p.hovered&&Object.assign(E,p.hovered),v.value&&p.tapped&&Object.assign(E,p.tapped),C.value&&p.focused&&Object.assign(E,p.focused);for(const H in E)S.value.includes(H)||delete E[H];return E});p.hovered&&(Js(r,"mouseenter",()=>_.value=!0),Js(r,"mouseleave",()=>{_.value=!1,v.value=!1}),Js(r,"mouseout",()=>{_.value=!1,v.value=!1})),p.tapped&&(d1t()&&(Js(r,"mousedown",()=>v.value=!0),Js(r,"mouseup",()=>v.value=!1)),u1t()&&(Js(r,"pointerdown",()=>v.value=!0),Js(r,"pointerup",()=>v.value=!1)),h1t()&&(Js(r,"touchstart",()=>v.value=!0),Js(r,"touchend",()=>v.value=!1))),p.focused&&(Js(r,"focus",()=>C.value=!0),Js(r,"blur",()=>C.value=!1)),Vn(D,d)}function p1t({set:r,target:a,apply:u,variants:d,variant:p}){const _=St(d);Vn(()=>a,()=>{!_||(_.initial&&r("initial"),_.enter&&(p.value="enter"))},{immediate:!0,flush:"pre"})}function g1t({state:r,apply:a}){Vn(r,u=>{u&&a(u)},{immediate:!0})}function m1t({target:r,variants:a,variant:u}){const d=St(a);d&&(d.visible||d.visibleOnce)&&Sdt(r,([{isIntersecting:p}])=>{d.visible?p?u.value="visible":u.value="initial":d.visibleOnce&&(p&&u.value!=="visibleOnce"?u.value="visibleOnce":u.value||(u.value="initial"))})}function y1t(r,a={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){a.lifeCycleHooks&&p1t(r),a.syncVariants&&g1t(r),a.visibilityHooks&&m1t(r),a.eventListeners&&f1t(r)}function QC(r={}){const a=vr({...r}),u=Se({});return Vn(a,()=>{const d={};for(const[p,_]of Object.entries(a)){const v=Rb(p),C=ZC(_,v);d[p]=C}u.value=d},{immediate:!0,deep:!0}),{state:a,style:u}}function Fb(r,a){Vn(()=>Ep(r),u=>{!u||a(u)},{immediate:!0})}const _1t={x:"translateX",y:"translateY",z:"translateZ"};function JC(r={},a=!0){const u=vr({...r}),d=Se("");return Vn(u,p=>{let _="",v=!1;a&&(p.x||p.y||p.z)&&(_+=`translate3d(${[p.x||0,p.y||0,p.z||0].map(Nn.transform).join(",")}) `,v=!0);for(const[C,S]of Object.entries(p)){if(a&&(C==="x"||C==="y"||C==="z"))continue;const D=Rb(C),E=ZC(S,D);_+=`${_1t[C]||C}(${E}) `}a&&!v&&(_+="translateZ(0px) "),d.value=_.trim()},{immediate:!0,deep:!0}),{state:u,transform:d}}const b1t=["","X","Y","Z"],v1t=["perspective","translate","scale","rotate","skew"],tS=["transformPerspective","x","y","z"];v1t.forEach(r=>{b1t.forEach(a=>{const u=r+a;tS.push(u)})});const x1t=new Set(tS);function Pb(r){return x1t.has(r)}const k1t=new Set(["originX","originY","originZ"]);function eS(r){return k1t.has(r)}function w1t(r){const a={},u={};return Object.entries(r).forEach(([d,p])=>{Pb(d)||eS(d)?a[d]=p:u[d]=p}),{transform:a,style:u}}function nS(r){const{transform:a,style:u}=w1t(r),{transform:d}=JC(a),{style:p}=QC(u);return d.value&&(p.value.transform=d.value),p.value}function T1t(r,a){let u,d;const{state:p,style:_}=QC();return Fb(r,v=>{d=v;for(const C of Object.keys(KC))v.style[C]===null||v.style[C]===""||Pb(C)||eS(C)||(p[C]=v.style[C]);u&&Object.entries(u).forEach(([C,S])=>v.style[C]=S),a&&a(p)}),Vn(_,v=>{if(!d){u=v;return}for(const C in v)d.style[C]=v[C]},{immediate:!0}),{style:p}}function E1t(r){const a=r.trim().split(/\) |\)/);if(a.length===1)return{};const u=d=>d.endsWith("px")||d.endsWith("deg")?parseFloat(d):isNaN(Number(d))?Number(d):d;return a.reduce((d,p)=>{if(!p)return d;const[_,v]=p.split("("),S=v.split(",").map(E=>u(E.endsWith(")")?E.replace(")",""):E.trim())),D=S.length===1?S[0]:S;return{...d,[_]:D}},{})}function C1t(r,a){Object.entries(E1t(a)).forEach(([u,d])=>{const p=["x","y","z"];if(u==="translate3d"){if(d===0){p.forEach(_=>r[_]=0);return}d.forEach((_,v)=>r[p[v]]=_);return}if(d=parseFloat(d),u==="translateX"){r.x=d;return}if(u==="translateY"){r.y=d;return}if(u==="translateZ"){r.z=d;return}r[u]=d})}function S1t(r,a){let u,d;const{state:p,transform:_}=JC();return Fb(r,v=>{d=v,v.style.transform&&C1t(p,v.style.transform),u&&(v.style.transform=u),a&&a(p)}),Vn(_,v=>{if(!d){u=v;return}d.style.transform=v},{immediate:!0}),{transform:p}}function A1t(r,a){const u=vr({}),d=v=>Object.entries(v).forEach(([C,S])=>u[C]=S),{style:p}=T1t(r,d),{transform:_}=S1t(r,d);return Vn(u,v=>{Object.entries(v).forEach(([C,S])=>{const D=Pb(C)?_:p;D[C]&&D[C]===S||(D[C]=S)})},{immediate:!0,deep:!0}),Fb(r,()=>a&&d(a)),{motionProperties:u,style:p,transform:_}}function L1t(r={}){const a=St(r),u=Se();return{state:Qt(()=>{if(!!u.value)return a[u.value]}),variant:u}}function rS(r,a={},u){const{motionProperties:d}=A1t(r),{variant:p,state:_}=L1t(a),v=c1t(d,a),C={target:r,variant:p,variants:a,state:_,motionProperties:d,...v};return y1t(C,u),C}const O1t=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"],M1t=(r,a)=>{const u=r.props?r.props:r.data&&r.data.attrs?r.data.attrs:{};u&&(u.variants&&I_(u.variants)&&(a.value={...a.value,...u.variants}),O1t.forEach(d=>{if(d==="delay"){if(u&&u[d]&&vdt(u[d])){const p=u[d];a&&a.value&&(a.value.enter&&(a.value.enter.transition||(a.value.enter.transition={}),a.value.enter.transition={delay:p,...a.value.enter.transition}),a.value.visible&&(a.value.visible.transition||(a.value.visible.transition={}),a.value.visible.transition={delay:p,...a.value.visible.transition}),a.value.visibleOnce&&(a.value.visibleOnce.transition||(a.value.visibleOnce.transition={}),a.value.visibleOnce.transition={delay:p,...a.value.visibleOnce.transition}))}return}d==="visible-once"&&(d="visibleOnce"),u&&u[d]&&I_(u[d])&&(a.value[d]=u[d])}))},e_=r=>({created:(u,d,p)=>{const _=d.value&&typeof d.value=="string"?d.value:p.key;_&&Qy[_]&&Qy[_].stop();const v=Se(r||{});typeof d.value=="object"&&(v.value=d.value),M1t(p,v);const C=rS(u,v);u.motionInstance=C,_&&(Qy[_]=C)},getSSRProps(u,d){let{initial:p}=u.value||d&&(d==null?void 0:d.props)||{};p=St(p);const _=_dt((r==null?void 0:r.initial)||{},p||{});return!_||Object.keys(_).length===0?void 0:{style:nS(_)}}}),N1t={initial:{opacity:0},enter:{opacity:1}},D1t={initial:{opacity:0},visible:{opacity:1}},I1t={initial:{opacity:0},visibleOnce:{opacity:1}},R1t={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},B1t={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},F1t={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},P1t={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},V1t={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},$1t={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},Y1t={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},U1t={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},z1t={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},H1t={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},W1t={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},j1t={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},q1t={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},G1t={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},X1t={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},K1t={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},Z1t={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},Q1t={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},J1t={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},t0t={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},e0t={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},n0t={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},r0t={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},i0t={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},s0t={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},a0t={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},o0t={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},W_={__proto__:null,fade:N1t,fadeVisible:D1t,fadeVisibleOnce:I1t,pop:R1t,popVisible:B1t,popVisibleOnce:F1t,rollBottom:q1t,rollLeft:P1t,rollRight:Y1t,rollTop:H1t,rollVisibleBottom:G1t,rollVisibleLeft:V1t,rollVisibleOnceBottom:X1t,rollVisibleOnceLeft:$1t,rollVisibleOnceRight:z1t,rollVisibleOnceTop:j1t,rollVisibleRight:U1t,rollVisibleTop:W1t,slideBottom:s0t,slideLeft:K1t,slideRight:J1t,slideTop:n0t,slideVisibleBottom:a0t,slideVisibleLeft:Z1t,slideVisibleOnceBottom:o0t,slideVisibleOnceLeft:Q1t,slideVisibleOnceRight:e0t,slideVisibleOnceTop:i0t,slideVisibleRight:t0t,slideVisibleTop:r0t},l0t=Xn({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(r){var C;const a=qJ(),u=vr({});if(!r.is&&!a.default)return()=>Ai("div",{});const d=Qt(()=>{let S;return r.preset&&(S=W_[r.preset]),S}),p=Qt(()=>({initial:r.initial,enter:r.enter,leave:r.leave,visible:r.visible,visibleOnce:r.visibleOnce,hovered:r.hovered,tapped:r.tapped,focused:r.focused})),_=Qt(()=>{const S={...p.value,...d.value||{},...r.variants||{}};return r.delay&&(S.enter.transition={...S.enter.transition},S.enter.transition.delay=parseInt(r.delay)),S}),v=Qt(()=>{if(!r.is)return;let S=r.is;return typeof v.value=="string"&&!nQ(S)&&(S=mp(S)),S});if(((C=process==null?void 0:process.env)==null?void 0:C.NODE_ENV)==="development"||(process==null?void 0:process.dev)){const S=D=>{var E;(E=D.variants)!=null&&E.initial&&D.set("initial"),setTimeout(()=>{var H,W,K;(H=D.variants)!=null&&H.enter&&D.apply("enter"),(W=D.variants)!=null&&W.visible&&D.apply("visible"),(K=D.variants)!=null&&K.visibleOnce&&D.apply("visibleOnce")},10)};ub(()=>Object.entries(u).forEach(([D,E])=>S(E)))}return{slots:a,component:v,motionConfig:_,instances:u}},render({slots:r,motionConfig:a,instances:u,component:d}){var C;const p=nS(a.initial||{}),_=(S,D)=>(S.props||(S.props={}),S.props.style=p,S.props.onVnodeMounted=({el:E})=>{const H=rS(E,a);u[D]=H},S);if(d){const S=Ai(d,void 0,r);return _(S,0),S}return(((C=r.default)==null?void 0:C.call(r))||[]).map((S,D)=>_(S,D))}});function c0t(r){const a="\xE0\xE1\xE2\xE4\xE6\xE3\xE5\u0101\u0103\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\xEA\xEB\u0113\u0117\u0119\u011B\u011F\u01F5\u1E27\xEE\xEF\xED\u012B\u012F\xEC\u0142\u1E3F\xF1\u0144\u01F9\u0148\xF4\xF6\xF2\xF3\u0153\xF8\u014D\xF5\u0151\u1E55\u0155\u0159\xDF\u015B\u0161\u015F\u0219\u0165\u021B\xFB\xFC\xF9\xFA\u016B\u01D8\u016F\u0171\u0173\u1E83\u1E8D\xFF\xFD\u017E\u017A\u017C\xB7/_,:;",u="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",d=new RegExp(a.split("").join("|"),"g");return r.toString().replace(/[A-Z]/g,p=>`-${p}`).toLowerCase().replace(/\s+/g,"-").replace(d,p=>u.charAt(a.indexOf(p))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const u0t={install(r,a){if(r.directive("motion",e_()),r.component("Motion",l0t),!a||a&&!a.excludePresets)for(const u in W_){const d=W_[u];r.directive(`motion-${c0t(u)}`,e_(d))}if(a&&a.directives)for(const u in a.directives){const d=a.directives[u];d.initial,r.directive(`motion-${u}`,e_(d))}}},Vb="vue-starport-injection",iS="vue-starport-options",h0t={duration:800,easing:"cubic-bezier(0.45, 0, 0.55, 1)",keepAlive:!1},sS={port:{type:String,required:!0},duration:{type:Number,required:!1},easing:{type:String,required:!1},keepAlive:{type:Boolean,required:!1,default:void 0},mountedProps:{type:Object,required:!1},initialProps:{type:Object,required:!1}};var d0t=Object.defineProperty,Ap=Object.getOwnPropertySymbols,aS=Object.prototype.hasOwnProperty,oS=Object.prototype.propertyIsEnumerable,rE=(r,a,u)=>a in r?d0t(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,f0t=(r,a)=>{for(var u in a||(a={}))aS.call(a,u)&&rE(r,u,a[u]);if(Ap)for(var u of Ap(a))oS.call(a,u)&&rE(r,u,a[u]);return r},iE=(r,a)=>{var u={};for(var d in r)aS.call(r,d)&&a.indexOf(d)<0&&(u[d]=r[d]);if(r!=null&&Ap)for(var d of Ap(r))a.indexOf(d)<0&&oS.call(r,d)&&(u[d]=r[d]);return u};const p0t=Xn({name:"StarportProxy",props:f0t({props:{type:Object,default:()=>({})},component:{type:Object,required:!0}},sS),setup(r,a){const u=le(Vb),d=Qt(()=>u.getInstance(r.port,r.component)),p=Se(),_=d.value.generateId(),v=Se(!1);return d.value.isVisible||(d.value.land(),v.value=!0),_c(async()=>{d.value.el||(d.value.el=p.value,await yi(),v.value=!0,d.value.rect.update())}),$p(async()=>{d.value.rect.update(),d.value.liftOff(),d.value.el=void 0,v.value=!1,!d.value.options.keepAlive&&(await yi(),await yi(),!d.value.el&&u.dispose(d.value.port))}),Vn(()=>r,async()=>{d.value.props&&await yi();const C=r,{props:S}=C,D=iE(C,["props"]);d.value.props=S||{},d.value.setLocalOptions(D)},{deep:!0,immediate:!0}),()=>{const C=r,{initialProps:S,mountedProps:D}=C,E=iE(C,["initialProps","mountedProps"]),H=ii(E,(v.value?D:S)||{});return Ai("div",ii(H,{id:_,ref:p,"data-starport-proxy":d.value.componentId,"data-starport-landed":d.value.isLanded?"true":void 0,"data-starport-floating":d.value.isLanded?void 0:"true"}),a.slots.default?Ai(a.slots.default):void 0)}}});var g0t=Object.defineProperty,m0t=Object.defineProperties,y0t=Object.getOwnPropertyDescriptors,sE=Object.getOwnPropertySymbols,_0t=Object.prototype.hasOwnProperty,b0t=Object.prototype.propertyIsEnumerable,aE=(r,a,u)=>a in r?g0t(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,v0t=(r,a)=>{for(var u in a||(a={}))_0t.call(a,u)&&aE(r,u,a[u]);if(sE)for(var u of sE(a))b0t.call(a,u)&&aE(r,u,a[u]);return r},x0t=(r,a)=>m0t(r,y0t(a));const k0t=Xn({name:"Starport",inheritAttrs:!0,props:sS,setup(r,a){const u=Se(!1);return _c(()=>{u.value=!0}),()=>{var v,C;const d=(C=(v=a.slots).default)==null?void 0:C.call(v);if(!d)throw new Error("[Vue Starport] Slot is required to use <Starport>");if(d.length!==1)throw new Error(`[Vue Starport] <Starport> requires exactly one slot, but got ${d.length}`);const p=d[0];let _=p.type;return(!Ztt(_)||gc(_))&&(_={render(){return d}}),Ai(p0t,x0t(v0t({},r),{key:r.port,component:Rp(_),props:p.props}))}}});function w0t(r){const a=vr({height:0,width:0,left:0,top:0,update:d,listen:_,pause:v,margin:"0px",padding:"0px"}),u=Qi?document.documentElement||document.body:void 0;function d(){if(!Qi)return;const C=ko(r);if(!C)return;const{height:S,width:D,left:E,top:H}=C.getBoundingClientRect(),W=window.getComputedStyle(C),K=W.margin,ot=W.padding;Object.assign(a,{height:S,width:D,left:E,top:u.scrollTop+H,margin:K,padding:ot})}const p=E7(d,{immediate:!1});function _(){!Qi||(d(),p.resume())}function v(){p.pause()}return a}let T0t=(r,a=21)=>(u=a)=>{let d="",p=u;for(;p--;)d+=r[Math.random()*r.length|0];return d};const oE=T0t("abcdefghijklmnopqrstuvwxyz",5);function lE(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^\w\d_-]/g,"")}function E0t(r){var a;return r.name||((a=r.__file)==null?void 0:a.split(/[\/\\.]/).slice(-2)[0])||""}var C0t=Object.defineProperty,cE=Object.getOwnPropertySymbols,S0t=Object.prototype.hasOwnProperty,A0t=Object.prototype.propertyIsEnumerable,uE=(r,a,u)=>a in r?C0t(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,n_=(r,a)=>{for(var u in a||(a={}))S0t.call(a,u)&&uE(r,u,a[u]);if(cE)for(var u of cE(a))A0t.call(a,u)&&uE(r,u,a[u]);return r};function L0t(r,a,u={}){const d=E0t(a),p=lE(d)||oE(),_=Se(),v=Se(null),C=Se(!1),S=Se(!1),D=dQ(!0),E=Se({}),H=Qt(()=>n_(n_(n_({},h0t),u),E.value)),W=Se(0);let K;D.run(()=>{K=w0t(_),Vn(_,async Kt=>{Kt&&(S.value=!0),await yi(),_.value||(S.value=!1)})});const ot=lE(r);function Tt(){return`starport-${p}-${ot}-${oE()}`}const Lt=Tt();return vr({el:_,id:Lt,port:r,props:v,rect:K,scope:D,isLanded:C,isVisible:S,options:H,liftOffTime:W,component:a,componentName:d,componentId:p,generateId:Tt,setLocalOptions(Kt={}){E.value=JSON.parse(JSON.stringify(Kt))},elRef(){return _},liftOff(){!C.value||(C.value=!1,W.value=Date.now(),K.listen())},land(){C.value||(C.value=!0,K.pause())}})}function O0t(r){const a=vr(new Map);function u(p,_){let v=a.get(p);return v||(v=L0t(p,_,r),a.set(p,v)),v.component=_,v}function d(p){var _;(_=a.get(p))==null||_.scope.stop(),a.delete(p)}return{portMap:a,dispose:d,getInstance:u}}var M0t=Object.defineProperty,N0t=Object.defineProperties,D0t=Object.getOwnPropertyDescriptors,hE=Object.getOwnPropertySymbols,I0t=Object.prototype.hasOwnProperty,R0t=Object.prototype.propertyIsEnumerable,dE=(r,a,u)=>a in r?M0t(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u,B0t=(r,a)=>{for(var u in a||(a={}))I0t.call(a,u)&&dE(r,u,a[u]);if(hE)for(var u of hE(a))R0t.call(a,u)&&dE(r,u,a[u]);return r},F0t=(r,a)=>N0t(r,D0t(a));const P0t=Xn({name:"StarportCraft",props:{port:{type:String,required:!0},component:{type:Object,required:!0}},setup(r){const a=le(Vb);if(!a)throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.");const u=Qt(()=>a.getInstance(r.port,r.component)),d=Qt(()=>{var v;return((v=u.value.el)==null?void 0:v.id)||u.value.id}),p=Qt(()=>{const v=Date.now()-u.value.liftOffTime,C=Math.max(0,u.value.options.duration-v),S=u.value.rect,D={position:"absolute",left:0,top:0,width:`${S.width}px`,height:`${S.height}px`,margin:S.margin,padding:S.padding,transform:`translate3d(${S.left}px,${S.top}px,0px)`};return!u.value.isVisible||!u.value.el?F0t(B0t({},D),{zIndex:-1,display:"none"}):(u.value.isLanded?D.display="none":Object.assign(D,{transitionProperty:"all",transitionDuration:`${C}ms`,transitionTimingFunction:u.value.options.easing}),D)}),_={};return()=>{const v=!!(u.value.isLanded&&u.value.el);return Ai("div",{style:p.value,"data-starport-craft":u.value.componentId,"data-starport-landed":u.value.isLanded?"true":void 0,"data-starport-floating":u.value.isLanded?void 0:"true",onTransitionend:u.value.land},Ai(FJ,{to:v?`#${d.value}`:"body",disabled:!v},Ai(u.value.component,ii(_,u.value.props))))}}}),V0t=Xn({name:"StarportCarrier",setup(r,{slots:a}){const u=O0t(le(iS,{}));return Ra().appContext.app.provide(Vb,u),()=>{var p;return[(p=a.default)==null?void 0:p.call(a),Array.from(u.portMap.entries()).map(([_,{component:v}])=>Ai(P0t,{key:_,port:_,component:v}))]}}});function $0t(r={}){return{install(a){a.provide(iS,r),a.component("Starport",k0t),a.component("StarportCarrier",V0t)}}}function Y0t(r){function a(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}a(),window.addEventListener("resize",a),r.app.use(u0t),r.app.use($0t({keepAlive:!0}))}function os(r,a,u){var d,p;return(p=((d=r.instance)==null?void 0:d.$).provides[a])!=null?p:u}function U0t(){return{install(r){r.directive("click",{name:"v-click",mounted(a,u){var E,H,W,K;if(Id.value||((E=os(u,Od))==null?void 0:E.value))return;const d=os(u,rc),p=os(u,Ld),_=os(u,m_),v=u.modifiers.hide!==!1&&u.modifiers.hide!=null,C=u.modifiers.fade!==!1&&u.modifiers.fade!=null,S=((H=d==null?void 0:d.value)==null?void 0:H.length)||0,D=C?Itt:Py;if(d&&!((W=d==null?void 0:d.value)!=null&&W.includes(a))&&d.value.push(a),u.value===null&&(u.value=d==null?void 0:d.value.length),!(_!=null&&_.value.has(u.value)))_==null||_.value.set(u.value,[a]);else if(!((K=_==null?void 0:_.value.get(u.value))!=null&&K.includes(a))){const ot=(_==null?void 0:_.value.get(u.value))||[];_==null||_.value.set(u.value,[a].concat(ot))}a==null||a.classList.toggle(tc,!0),p&&Vn(p,()=>{var Kt;const ot=(Kt=p==null?void 0:p.value)!=null?Kt:0,Tt=u.value!=null?ot>=u.value:ot>S;a.classList.contains(Vy)||a.classList.toggle(D,!Tt),v!==!1&&v!==void 0&&a.classList.toggle(D,Tt),a.classList.toggle(_d,!1);const Lt=_==null?void 0:_.value.get(ot);Lt==null||Lt.forEach((Pt,Nt)=>{Pt.classList.toggle(Z0,!1),Nt===Lt.length-1?Pt.classList.toggle(_d,!0):Pt.classList.toggle(Z0,!0)}),a.classList.contains(_d)||a.classList.toggle(Z0,Tt)},{immediate:!0})},unmounted(a,u){a==null||a.classList.toggle(tc,!1);const d=os(u,rc);d!=null&&d.value&&y_(d.value,a)}}),r.directive("after",{name:"v-after",mounted(a,u){var C,S;if(Id.value||((C=os(u,Od))==null?void 0:C.value))return;const d=os(u,rc),p=os(u,Ld),_=os(u,m_),v=d==null?void 0:d.value.length;u.value===void 0&&(u.value=d==null?void 0:d.value.length),_!=null&&_.value.has(u.value)?(S=_==null?void 0:_.value.get(u.value))==null||S.push(a):_==null||_.value.set(u.value,[a]),a==null||a.classList.toggle(tc,!0),p&&Vn(p,()=>{var E,H,W;const D=((E=p.value)!=null?E:0)>=((W=(H=u.value)!=null?H:v)!=null?W:0);a.classList.contains(Vy)||a.classList.toggle(Py,!D),a.classList.toggle(_d,!1),a.classList.contains(_d)||a.classList.toggle(Z0,D)},{immediate:!0})},unmounted(a){a==null||a.classList.toggle(tc,!0)}}),r.directive("click-hide",{name:"v-click-hide",mounted(a,u){var v,C,S;if(Id.value||((v=os(u,Od))==null?void 0:v.value))return;const d=os(u,rc),p=os(u,Ld),_=((C=d==null?void 0:d.value)==null?void 0:C.length)||0;d&&!((S=d==null?void 0:d.value)!=null&&S.includes(a))&&d.value.push(a),a==null||a.classList.toggle(tc,!0),p&&Vn(p,()=>{var H;const D=(H=p==null?void 0:p.value)!=null?H:0,E=u.value!=null?D>=u.value:D>_;a.classList.toggle(Py,E),a.classList.toggle(Vy,E)},{immediate:!0})},unmounted(a,u){a==null||a.classList.toggle(tc,!1);const d=os(u,rc);d!=null&&d.value&&y_(d.value,a)}})}}}function z0t(r,a){const u=Q7(r),d=J7(a,u.currentRoute,u.currentPage);return{nav:{...u,...d,downloadPDF:N_,next:rl,nextSlide:Gd,openInEditor:pdt,prev:il,prevSlide:Xd},configs:Jn,themeConfigs:Qt(()=>Jn.themeConfig)}}function H0t(){return{install(r){const a=z0t(Eo,aa);r.provide(ve,vr(a))}}}const qu=btt(mdt);qu.use(fs);qu.use(Att());qu.use(U0t());qu.use(H0t());Y0t({app:qu,router:fs});qu.mount("#app");export{wd as $,q7 as A,zn as B,or as C,$i as D,yit as E,sr as F,aa as G,Tp as H,cdt as I,qy as J,$y as K,Wd as L,Wy as M,y7 as N,Sat as O,_b as P,bat as Q,ri as R,bb as S,fC as T,Cit as U,ob as V,lb as W,ca as X,bmt as Y,Ia as Z,Jd as _,w as a,Q0 as a0,Qd as a1,S_ as a2,Grt as a3,Xrt as a4,Krt as a5,Qrt as a6,Up as a7,d7 as a8,wmt as a9,Na as aa,Yi as ab,ast as ac,oc as ad,Kl as ae,g7 as af,Jrt as ag,$p as ah,Qt as b,Pe as c,Xn as d,ve as e,us as f,be as g,St as h,le as i,oit as j,fdt as k,Jn as l,Ott as m,Dr as n,Mt as o,_c as p,vr as q,Se as r,vmt as s,pc as t,xmt as u,kmt as v,Vn as w,Ne as x,Oi as y,ke as z};
